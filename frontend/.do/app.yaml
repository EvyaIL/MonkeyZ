alerts:
- rule: DEPLOYMENT_FAILED
- rule: DOMAIN_FAILED
databases:
- cluster_name: mongodb1
  engine: MONGODB
  name: mongodb1
  production: true
  version: "8"
domains:
- domain: monkeyz.co.il
  type: PRIMARY
  zone: monkeyz.co.il
- domain: www.monkeyz.co.il
  type: ALIAS
  zone: monkeyz.co.il
envs:
- key: REACT_APP_PATH_BACKEND
  scope: RUN_AND_BUILD_TIME
  value: https://api.monkeyz.co.il
- key: REACT_APP_GOOGLE_CLIENT_ID
  scope: RUN_AND_BUILD_TIME
  value: 946645411512-tn9qmppcsnp5oqqo88ivkuapou2cmg53.apps.googleusercontent.com
- key: REACT_APP_PAYMENT_FAIL_URL
  scope: RUN_AND_BUILD_TIME
  value: https://monkeyz.co.il/fail
- key: REACT_APP_PAYMENT_SUCCESS_URL
  scope: RUN_AND_BUILD_TIME
  value: https://monkeyz.co.il/success
- key: REACT_APP_GA_MEASUREMENT_ID
  scope: RUN_AND_BUILD_TIME
  value: G-SYF721LFGB
- key: REACT_APP_GTM_ID
  scope: RUN_AND_BUILD_TIME
  value: GTM-P4FNQL6X
- key: REACT_APP_API_URL
  scope: RUN_AND_BUILD_TIME
  value: https://api.monkeyz.co.il
- key: REACT_APP_PAYMENT_CANCEL_URL
  scope: RUN_AND_BUILD_TIME
  value: https://monkeyz.co.il/checkout
- key: REACT_APP_PAYPAL_SUCCESS_URL
  scope: RUN_AND_BUILD_TIME
  value: https://monkeyz.co.il/success
- key: REACT_APP_PAYPAL_CLIENT_ID
  scope: RUN_AND_BUILD_TIME
  value: AXu-4q2i_746jXHFnUbYUSDxSHZF5og7QtErtmy9eJHkzBpumtDFLpJz6OQollNpRDFlqP2w3rg7DiCF
features:
- buildpack-stack=ubuntu-22
ingress:
  rules:
  - component:
      name: front-end
    match:
      path: /
name: monkeyz
region: fra
static_sites:
- name: monkeyz-frontend
  github:
    repo: EvyaIL/MonkeyZ
    branch: main
    deploy_on_push: true
  source_dir: frontend/
  output_dir: build/
  
  # Ultra-fast optimized build command
  build_command: npm ci --silent --no-audit --no-fund && GENERATE_SOURCEMAP=false CI=true npm run build:fast
  
  # Route configuration
  routes:
  - path: /
  
  # Error document for SPA routing (React Router)
  error_document: index.html
  
  # Index document
  index_document: index.html

{"timestamp": "2025-08-12T14:28:07.577497Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:28:07.577832Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 31}
{"timestamp": "2025-08-12T14:28:07.656405Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:10.213384Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:10.213898Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:28:10.214129Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:10.766980Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:10.767257Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:28:10.767454Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:11.325976Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:11.327034Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:28:11.328042Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:11.914685Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:11.914991Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:28:13.401380Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:13.965846Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:13.966184Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:28:46.952791Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T14:28:47.196822Z", "level": "INFO", "logger": "root", "message": "Not connected or self.db not set, attempting connection...", "module": "mongodb", "function": "get_db", "line": 124}
{"timestamp": "2025-08-12T14:28:47.197010Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:28:48.273892Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T14:28:48.698406Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:28:48.698657Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:29.618817Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:29.674707Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:29.731553Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:29.787870Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:31.906679Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:30:31.906910Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 31}
{"timestamp": "2025-08-12T14:30:31.954297Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:32.879328Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:32.879643Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:32.879913Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:33.472365Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:33.472654Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:33.472909Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:34.017149Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:34.018203Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:34.019176Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:34.604349Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:34.605407Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:36.181866Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:36.765149Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:36.765430Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:48.713535Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:48.770765Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:48.826738Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:48.882223Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:30:50.930707Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:30:50.930959Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 31}
{"timestamp": "2025-08-12T14:30:50.978084Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:51.624955Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:51.626093Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:51.627447Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:52.235538Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:52.235798Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:52.236014Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:52.809077Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:52.809266Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:52.809459Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:53.391916Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:53.392174Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:30:54.948947Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:30:55.526828Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:30:55.527921Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:13.681935Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:13.737554Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:13.794715Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:13.849692Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:15.960293Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:31:15.960492Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 32}
{"timestamp": "2025-08-12T14:31:16.007110Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:16.582765Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:16.583054Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:16.583393Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:17.163851Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:17.164082Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:17.164302Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:17.750058Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:17.750328Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:17.750560Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:18.328706Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:18.329014Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:19.877830Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:20.445873Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:20.446169Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:23.629716Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:31:23.630011Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 32}
{"timestamp": "2025-08-12T14:31:23.677177Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:31:23.677483Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:24.249149Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:24.249410Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:24.249677Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:24.815778Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:24.816010Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:24.816186Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:25.405523Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:25.405798Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:25.406031Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:25.994632Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:25.996102Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:27.556906Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:28.169155Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:28.169409Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:33.581863Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:33.639801Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:33.696696Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:33.753302Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:31:35.834629Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:31:35.834836Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 32}
{"timestamp": "2025-08-12T14:31:35.881653Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:31:35.881916Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:36.531151Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:36.531394Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:36.531657Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:37.116384Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:37.116656Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:37.116843Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:37.715542Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:37.716624Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:37.717651Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:38.286084Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:38.286352Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:31:39.852243Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:31:40.433910Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:31:40.434107Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:32:18.469884Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:32:18.526627Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:32:18.582416Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:32:18.637503Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:32:20.653554Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:32:20.653824Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 32}
{"timestamp": "2025-08-12T14:32:20.700504Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:32:20.700788Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:32:21.659846Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:32:21.660148Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:32:21.660414Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:32:22.250014Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:32:22.250278Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:32:22.250508Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:32:22.824331Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:32:22.824569Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:32:22.824799Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:32:23.418902Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:32:23.419959Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:32:25.000286Z", "level": "INFO", "logger": "root", "message": "Connecting to MongoDB at: mongodb+srv://doadmin:MOpg1x78...", "module": "mongodb", "function": "connection", "line": 42}
{"timestamp": "2025-08-12T14:32:25.566932Z", "level": "INFO", "logger": "root", "message": "Successfully connected to MongoDB", "module": "mongodb", "function": "connection", "line": 78}
{"timestamp": "2025-08-12T14:32:25.567997Z", "level": "INFO", "logger": "root", "message": "Using database: admin", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:33:03.495575Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:33:03.550665Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:33:03.606575Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:33:03.662938Z", "level": "INFO", "logger": "root", "message": "Disconnecting from MongoDB...", "module": "mongodb", "function": "disconnect", "line": 102}
{"timestamp": "2025-08-12T14:34:11.857098Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:34:11.857309Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 32}
{"timestamp": "2025-08-12T14:34:11.904397Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:34:11.904685Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 31}
{"timestamp": "2025-08-12T14:34:11.904923Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/4)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:17.040837Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 1): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50e3a0ee8ae5bcba6520, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:18.041742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 2/4)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:23.114864Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 2): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50eaa0ee8ae5bcba6521, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:25.126246Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 3/4)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:30.250134Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 3): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50f1a0ee8ae5bcba6522, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:34.264542Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 4/4)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:39.395938Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 4): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50faa0ee8ae5bcba6523, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:39.432568Z", "level": "ERROR", "logger": "error_tracker", "message": "Exception occurred: ServerSelectionTimeoutError: localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50faa0ee8ae5bcba6523, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "logging_config", "function": "capture_exception", "line": 196, "exception": {"type": "ServerSelectionTimeoutError", "message": "localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50faa0ee8ae5bcba6523, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py\", line 111, in connect\n    await self.client.admin.command('ping')\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\_csot.py\", line 120, in csot_wrapper\n    return func(self, *args, **kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\database.py\", line 906, in command\n    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (\n         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1701, in _conn_for_reads\n    server = self._select_server(read_preference, session, operation)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1649, in _select_server\n    server = topology.select_server(\n        server_selector,\n    ...<2 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 397, in select_server\n    server = self._select_server(\n        selector,\n    ...<4 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 375, in _select_server\n    servers = self.select_servers(\n        selector, operation, server_selection_timeout, address, operation_id\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 282, in select_servers\n    server_descriptions = self._select_servers_loop(\n        selector, server_timeout, operation, operation_id, address\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 332, in _select_servers_loop\n    raise ServerSelectionTimeoutError(\n        f\"{self._error_message(selector)}, Timeout: {timeout}s, Topology Description: {self.description!r}\"\n    )\npymongo.errors.ServerSelectionTimeoutError: localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b50faa0ee8ae5bcba6523, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>"}}
{"timestamp": "2025-08-12T14:34:39.435353Z", "level": "ERROR", "logger": "root", "message": "Failed to connect to database: Failed to establish database connection", "module": "mongodb", "function": "connection", "line": 45}
{"timestamp": "2025-08-12T14:34:42.039554Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:34:42.039790Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:34:42.088677Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:34:42.088886Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:34:42.089033Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 285}
{"timestamp": "2025-08-12T14:34:42.089198Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:47.190708Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 1): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b510295d9e958b1b2ca5c, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:49.193096Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 2/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:34:54.316347Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 2): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b510995d9e958b1b2ca5d, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:34:58.327079Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 3/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:35:03.422524Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 3): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b511295d9e958b1b2ca5e, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:35:11.434832Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 4/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:35:16.519759Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 4): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b511f95d9e958b1b2ca5f, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:35:32.528233Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 5/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:35:37.666684Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 5): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b513495d9e958b1b2ca60, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:36:09.671932Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 6/6)", "module": "database_manager", "function": "connect", "line": 97}
{"timestamp": "2025-08-12T14:36:14.792545Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 6): localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b515995d9e958b1b2ca61, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "database_manager", "function": "connect", "line": 139}
{"timestamp": "2025-08-12T14:36:14.797588Z", "level": "ERROR", "logger": "error_tracker", "message": "Exception occurred: ServerSelectionTimeoutError: localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b515995d9e958b1b2ca61, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "module": "logging_config", "function": "capture_exception", "line": 196, "exception": {"type": "ServerSelectionTimeoutError", "message": "localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b515995d9e958b1b2ca61, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py\", line 111, in connect\n    auth_string = f\"{username}:{password}@\"\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\_csot.py\", line 120, in csot_wrapper\n    return func(self, *args, **kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\database.py\", line 906, in command\n    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (\n         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1701, in _conn_for_reads\n    server = self._select_server(read_preference, session, operation)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1649, in _select_server\n    server = topology.select_server(\n        server_selector,\n    ...<2 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 397, in select_server\n    server = self._select_server(\n        selector,\n    ...<4 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 375, in _select_server\n    servers = self.select_servers(\n        selector, operation, server_selection_timeout, address, operation_id\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 282, in select_servers\n    server_descriptions = self._select_servers_loop(\n        selector, server_timeout, operation, operation_id, address\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 332, in _select_servers_loop\n    raise ServerSelectionTimeoutError(\n        f\"{self._error_message(selector)}, Timeout: {timeout}s, Topology Description: {self.description!r}\"\n    )\npymongo.errors.ServerSelectionTimeoutError: localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 689b515995d9e958b1b2ca61, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [WinError 10061] No connection could be made because the target machine actively refused it (configured timeouts: socketTimeoutMS: 10000.0ms, connectTimeoutMS: 10000.0ms)')>]>"}}
{"timestamp": "2025-08-12T14:36:14.801694Z", "level": "ERROR", "logger": "src.lib.database_manager", "message": "Database initialization failed", "module": "database_manager", "function": "initialize_database", "line": 290}
{"timestamp": "2025-08-12T14:36:14.801909Z", "level": "ERROR", "logger": "main", "message": "Failed to initialize database connection", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-12T14:36:17.422153Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:36:17.422390Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:36:17.470724Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:36:17.471003Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:36:17.471227Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:36:17.471423Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:36:18.418541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:36:18.418834Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:36:18.419106Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:36:18.419345Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:36:18.419579Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:36:18.419766Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:36:19.039175Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:36:19.039418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:36:19.039646Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:36:19.039893Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:36:19.040077Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:36:19.680999Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:36:19.681305Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:36:19.681558Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:36:19.681793Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:36:20.333932Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:36:20.334469Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:36:20.334966Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:36:20.335654Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:36:20.335951Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:36:21.000639Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:36:21.000890Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:36:21.001119Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:36:21.649510Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:36:21.649796Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:36:21.649978Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:36:21.650208Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:36:21.650386Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:36:22.279562Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:36:22.280523Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:36:22.281514Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:36:22.944416Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:36:22.944655Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:36:22.944887Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:36:22.945156Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:36:22.945365Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:36:23.587356Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:36:23.587727Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:36:23.587940Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:36:23.588118Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:36:23.646630Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:36:23.647583Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:36:23.648540Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:37:35.815329Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:37:35.815566Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:37:35.863940Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:37:35.864180Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:37:35.864330Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:37:35.864504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:37:36.818581Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:37:36.819085Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:37:36.819546Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:37:36.819760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:37:36.819972Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:37:36.820176Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:37:37.450415Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:37:37.450676Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:37:37.450901Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:37:37.451206Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:37:37.451381Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:37:38.058077Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:37:38.058315Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:37:38.058532Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:37:38.058706Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:37:38.665477Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:37:38.665648Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:37:38.665787Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:37:38.665974Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:37:38.666110Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:37:39.276099Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:37:39.276342Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:37:39.276563Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:37:39.905417Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:37:39.906485Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:37:39.907450Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:37:39.908656Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:37:39.909501Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:37:40.587747Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:37:40.587933Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:37:40.588095Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:37:41.220262Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:37:41.221191Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:37:41.222086Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:37:41.222684Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:37:41.222923Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:37:41.845803Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:37:41.847530Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:37:41.848571Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:37:41.849447Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:37:41.905466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:37:41.905657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:37:41.905804Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:38:10.783064Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:38:10.783306Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:38:10.832235Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:38:10.832436Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:38:10.832593Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:38:10.832729Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:11.487728Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:11.487972Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:11.488229Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:11.488385Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:38:11.488562Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:11.488735Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:12.132813Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:12.133012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:12.133186Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:12.133453Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:12.133637Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:12.785406Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:12.785695Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:38:12.785945Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:12.786135Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:13.418117Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:13.418349Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:13.418515Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:13.418753Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:13.418930Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:14.091935Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:14.092199Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:14.092459Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:14.734330Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:14.735254Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:14.736130Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:14.736599Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:14.736821Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:15.369422Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:15.369599Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:15.369766Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:15.975322Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:15.975544Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:15.975771Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:15.976021Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:15.976218Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:16.611522Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:16.639959Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:38:16.640175Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:38:16.640352Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:38:16.696047Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:38:16.696287Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:38:16.696439Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:38:34.699803Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:38:34.700045Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:38:34.749891Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:38:34.750261Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:38:34.750498Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:38:34.750679Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:35.404044Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:35.405181Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:35.405538Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:35.405725Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:38:35.405961Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:35.406173Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:36.041937Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:36.042174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:36.042394Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:36.042679Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:36.042925Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:36.667854Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:36.668220Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:38:36.668521Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:36.668803Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:37.299400Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:37.299668Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:37.299896Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:37.300130Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:37.300299Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:37.918332Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:37.918604Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:37.918800Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:38.555867Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:38.556128Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:38.556360Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:38.556634Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:38.556846Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:39.210018Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:39.210507Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:39.210760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:39.965614Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:39.965865Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:39.966074Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:39.966336Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:39.966578Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:40.602741Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:40.629679Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:38:40.629886Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:38:40.630102Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:38:40.688487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:38:40.689416Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:38:40.690312Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:38:45.953377Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:38:45.953612Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:38:46.000372Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:38:46.000687Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:38:46.000937Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:38:46.001147Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:46.641327Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:46.641589Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:46.641809Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:46.642049Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:38:46.642326Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:46.642525Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:47.278644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:47.279023Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:47.279371Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:47.279820Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:47.280201Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:47.901607Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:47.901909Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:38:47.902132Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:47.902294Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:48.540388Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:48.540627Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:48.540846Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:48.541113Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:48.541358Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:49.174163Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:49.174418Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:49.174609Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:49.807055Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:49.808151Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:49.808382Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:49.808673Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:49.808899Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:50.487930Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:50.488945Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:38:50.489921Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:38:51.130326Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:38:51.131279Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:38:51.132196Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:38:51.133409Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:38:51.134366Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:38:51.764050Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:38:51.795817Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:38:51.796112Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:38:51.796299Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:38:51.854992Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:38:51.855462Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:38:51.855703Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:39:14.534276Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:39:14.534520Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:39:14.581811Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:39:14.582041Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:39:14.582225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:39:14.582402Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:39:15.460734Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:39:15.460978Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:39:15.461206Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:39:15.461433Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:39:15.461652Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:39:15.461827Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:39:16.097789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:39:16.097967Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:39:16.098113Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:39:16.098353Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:39:16.098498Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:39:16.709560Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:39:16.709796Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:39:16.709986Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:39:16.710145Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:39:17.335891Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:39:17.336115Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:39:17.336298Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:39:17.336528Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:39:17.336723Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:39:17.973443Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:39:17.973667Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:39:17.973817Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:39:18.578488Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:39:18.578721Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:39:18.578908Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:39:18.579135Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:39:18.579353Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:39:19.201259Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:39:19.201519Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:39:19.201738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:39:19.868215Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:39:19.868534Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:39:19.868834Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:39:19.869203Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:39:19.869448Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:39:20.498508Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:39:20.525840Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:39:20.526094Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:39:20.526236Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:39:20.590441Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:39:20.590645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:39:20.590793Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:40:02.056545Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:40:02.056800Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:40:02.104356Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:40:02.104592Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:40:02.104758Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:40:02.104929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:02.959264Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:02.959479Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:02.959689Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:02.959900Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:40:02.960116Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:02.960329Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:03.615496Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:03.615750Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:03.615995Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:03.616284Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:03.616514Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:04.238701Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:04.239006Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:40:04.239258Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:04.239456Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:04.902381Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:04.902783Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:04.902976Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:04.903229Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:04.903389Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:05.517309Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:05.518276Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:05.519258Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:06.154713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:06.155636Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:06.156545Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:06.157718Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:06.158193Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:06.825336Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:06.826302Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:06.827249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:07.481896Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:07.482831Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:07.483756Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:07.484925Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:07.486004Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:08.130483Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:08.158578Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:40:08.158745Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:40:08.158880Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:40:08.215089Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:40:08.215309Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:40:08.215457Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:40:17.991988Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:40:17.992210Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:40:18.041968Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:40:18.042241Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:40:18.042466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:40:18.042671Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:18.695781Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:18.696042Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:18.696236Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:18.696417Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:40:18.696618Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:18.696792Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:19.342055Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:19.342987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:19.343905Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:19.345139Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:19.346151Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:20.022191Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:20.022442Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:40:20.022660Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:20.022831Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:20.662580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:20.662792Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:20.663007Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:20.663285Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:20.663556Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:21.285880Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:21.286183Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:21.286431Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:21.912789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:21.913015Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:21.913217Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:21.913480Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:21.913663Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:22.536490Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:22.536671Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:22.536858Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:23.188663Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:23.188866Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:23.189038Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:23.189251Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:23.189421Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:23.818000Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:23.845494Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:40:23.845792Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:40:23.845998Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:40:23.900516Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:40:23.900729Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:40:23.900905Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:40:37.475245Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:40:37.475522Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:40:37.523730Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:40:37.523993Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:40:37.524187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:40:37.524375Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:38.182966Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:38.183192Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:38.183404Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:38.183581Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:40:38.183804Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:38.184026Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:38.794508Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:38.794749Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:38.794960Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:38.795233Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:38.795415Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:39.420745Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:39.421026Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:40:39.421226Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:39.421363Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:40.041996Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:40.042171Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:40.042315Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:40.042510Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:40.042655Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:40.662318Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:40.662529Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:40.662718Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:41.318165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:41.318371Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:41.318661Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:41.318893Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:41.319092Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:41.954098Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:41.954312Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:41.954501Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:42.606470Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:42.606651Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:42.606823Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:42.607047Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:42.607216Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:43.225066Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:43.364026Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:43.419665Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:43.885613Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:44.589634Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:44.757741Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:44.758004Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:40:44.758188Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:40:45.386195Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:40:45.386524Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:40:45.386780Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:40:45.387105Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:40:45.387300Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:40:46.008193Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:40:46.120261Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:46.784198Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:46.956017Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:40:47.066871Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:08.959098Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.015414Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.015589Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.015723Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.015910Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.016045Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.016167Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.016366Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.016486Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.016622Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.016772Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.016895Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.017016Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.017161Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.017277Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.017387Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.017529Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.017669Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.017816Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.017974Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.018097Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.018214Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.018356Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.018583Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:41:09.018722Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:41:09.018846Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:41:09.018988Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:41:09.019146Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:41:09.019260Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:41:09.019379Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:41:11.055468Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:41:11.055675Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:41:11.102969Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:41:11.103247Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:41:11.103394Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:41:11.103527Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:11.801529Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:11.801952Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:11.802391Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:11.802822Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:41:11.803076Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:41:11.803302Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:12.437339Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:12.438260Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:12.439183Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:12.440395Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:41:12.441554Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:41:13.062601Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:41:13.062858Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:41:13.063070Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:41:13.063245Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:13.663942Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:13.664262Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:13.664543Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:13.664941Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:41:13.665273Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:41:14.294977Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:41:14.295185Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:41:14.295374Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:14.922363Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:14.923285Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:14.924210Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:14.925393Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:41:14.926649Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:41:15.557577Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:41:15.557788Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:41:15.557972Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:16.196549Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:16.197274Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:16.197477Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:16.197775Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:41:16.197953Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:41:16.851530Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:41:17.006907Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:17.058555Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:17.545011Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:18.264637Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:18.435083Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:18.435326Z", "level": "INFO", "logger": "root", "message": "Establishing database connection through optimized manager...", "module": "mongodb", "function": "connection", "line": 32}
{"timestamp": "2025-08-12T14:41:18.435552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/3)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:41:19.082245Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:41:19.083206Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:41:19.084189Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:41:19.085386Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:41:19.086005Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:41:19.710089Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:41:19.825403Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:20.510523Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:20.679983Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:41:20.790142Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:42:01.187290Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.244117Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.244359Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.244534Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.244731Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.244910Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.245046Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.245211Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.245333Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.245488Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.245670Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.245801Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.245920Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.246096Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.246256Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.246386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.246553Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.246692Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.246845Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.247006Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.247126Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.247244Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.247423Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.247773Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:42:01.247947Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:01.248078Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:01.248201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:01.248358Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:01.248511Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:01.248668Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:03.300266Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:03.300517Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:03.348589Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:03.348818Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:03.349006Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:03.349184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Attempting database connection (attempt 1/6)", "module": "database_manager", "function": "connect", "line": 149}
{"timestamp": "2025-08-12T14:42:04.209157Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:04.209359Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Connection pool size: 50", "module": "database_manager", "function": "connect", "line": 178}
{"timestamp": "2025-08-12T14:42:04.209551Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database: monkeyz", "module": "database_manager", "function": "connect", "line": 179}
{"timestamp": "2025-08-12T14:42:04.209733Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:04.210008Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:04.210194Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:04.810196Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:04.810461Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:04.810690Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:04.810841Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:05.411962Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:05.413154Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:05.414302Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:06.052494Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:06.052779Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:06.052996Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:06.675029Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:06.815473Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:06.866838Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:07.333627Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:08.016903Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:08.182847Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:08.183174Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:08.183457Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:08.811426Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:08.922619Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:09.610306Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:09.773559Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:09.884451Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:17.467217Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.524179Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.524361Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.524526Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.524732Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.524902Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.525036Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.525209Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.525340Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.525498Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.525657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.525794Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.525940Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.526110Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.526236Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.526358Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.526505Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.526620Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.526756Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.526915Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.527035Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.527154Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.527296Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.527574Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:17.527705Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:17.527816Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:17.527926Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:17.528070Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:17.528184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:17.528291Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:19.564267Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:19.564486Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:19.611686Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:19.611957Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:19.612186Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:20.280782Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:20.280983Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:20.281191Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:20.281407Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:20.911115Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:20.911427Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:20.911726Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:20.911953Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:21.555910Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:21.556193Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:21.556464Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:22.198714Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:22.199920Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:22.200897Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:22.861781Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:23.001976Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:23.059770Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:23.545511Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:24.237733Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:24.415881Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:24.416216Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:24.416468Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:25.065490Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:25.182721Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:25.882945Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:26.054368Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:26.169818Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:27.475067Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.531816Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.532013Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.532189Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.532409Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.532579Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.532712Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.532868Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.533024Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.533210Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.533414Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.533593Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.533824Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.534032Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.534203Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.534375Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.534589Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.534760Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.534957Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.535164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.535301Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.535428Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.535581Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.535920Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:27.536059Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:27.536175Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:27.536287Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Closing database connections...", "module": "database_manager", "function": "disconnect", "line": 218}
{"timestamp": "2025-08-12T14:42:27.536434Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connections closed successfully", "module": "database_manager", "function": "disconnect", "line": 222}
{"timestamp": "2025-08-12T14:42:27.536545Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:27.536682Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:29.616825Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:29.617028Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:29.664923Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:29.665195Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:29.665401Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:30.313722Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:30.313978Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:30.314264Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:30.314506Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:30.961042Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:30.961340Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:30.961639Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:30.961870Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:31.594254Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:31.595469Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:31.596455Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:32.254189Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:32.255442Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:32.256715Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:32.884440Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:33.024478Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:33.079922Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:33.573166Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:34.244555Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:34.410539Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:34.410795Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:34.410966Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:35.045785Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:35.157767Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:35.825427Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:35.996691Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:36.107812Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:37.796232Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.796507Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.796756Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.797007Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.797214Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.797493Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.797746Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.798098Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:42:37.798293Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:37.798505Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:37.798706Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:37.798873Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:39.839318Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:39.839527Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:39.887199Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:39.887471Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:39.887657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:40.531040Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:40.531280Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:40.531559Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:40.531782Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:41.168644Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:41.168919Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:41.169178Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:41.169403Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:41.796492Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:41.796728Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:41.796947Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:42.415757Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:42.416032Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:42.416273Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:43.052561Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:43.191973Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:43.243988Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:43.715390Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:44.415032Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:44.579062Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:44.579352Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:44.579582Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:45.223903Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:45.344423Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:46.018443Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:46.182069Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:46.295067Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:46.295827Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:46.296042Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:46.351563Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:46.351792Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:48.463326Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:48.463556Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:48.511767Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:48.512046Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:48.512252Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:49.131452Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:49.131693Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:49.132007Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:49.132240Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:49.768724Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:49.769003Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:49.769297Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:49.769583Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:50.375949Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:50.376198Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:50.376418Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:50.992225Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:50.992496Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:50.992725Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:51.590810Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:51.728756Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:51.785499Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:52.246760Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:52.928336Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:53.101613Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:53.101874Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:53.102122Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:53.712794Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:53.828261Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:54.509898Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:54.679643Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:54.794281Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:42:54.797401Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:42:54.797754Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:42:54.854973Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:42:54.855211Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:42:56.880616Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:42:56.880840Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:42:56.928695Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:42:56.928981Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:42:56.929207Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:42:57.570721Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:42:57.570964Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:42:57.571254Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:57.571442Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:58.200335Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:58.200608Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:42:58.200935Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:58.201187Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:58.813039Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:58.814254Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:58.815261Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:42:59.445402Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:42:59.445713Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:42:59.445945Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:00.083115Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:00.229593Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:00.284098Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:00.759752Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:01.453105Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:01.623452Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:01.623741Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:01.623994Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:02.259631Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:02.373568Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:03.064977Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:03.234149Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:03.345411Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:20.540066Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.540313Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.540498Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.540675Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.540825Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.540970Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.541152Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.541431Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:43:20.541584Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:43:20.541709Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:43:20.541857Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:43:20.541972Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:43:22.602452Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:43:22.602713Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:43:22.650759Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:43:22.651002Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:43:22.651205Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:43:24.100365Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:43:24.100565Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:43:24.100810Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:24.100992Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:24.723149Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:24.723401Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:43:24.723660Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:24.723836Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:25.366442Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:25.367638Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:25.368639Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:26.030281Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:26.030567Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:26.030758Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:26.658317Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:26.802248Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:26.858291Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:27.375528Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:28.107409Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:28.280672Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:28.281869Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 54}
{"timestamp": "2025-08-12T14:43:28.282846Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 66}
{"timestamp": "2025-08-12T14:43:28.924386Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 95}
{"timestamp": "2025-08-12T14:43:29.034518Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:29.712877Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:29.879669Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:43:29.991676Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 143}
{"timestamp": "2025-08-12T14:44:03.845031Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.845483Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.845725Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.845986Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.846226Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.846434Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.846646Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.846962Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 127}
{"timestamp": "2025-08-12T14:44:03.847158Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:44:03.847317Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:44:03.847510Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:44:03.847644Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:44:05.949382Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:44:05.949613Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:44:05.998422Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:44:05.998659Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:44:05.998889Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:44:08.494193Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:44:08.494384Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:44:08.494588Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:44:08.494727Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:44:09.132592Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:44:09.132865Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:44:09.133143Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:44:09.133333Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:44:09.772496Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:44:09.772839Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:44:09.773004Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:44:10.393634Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:44:10.393923Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:44:10.394145Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:44:11.051904Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:44:11.195810Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:11.248024Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:11.734990Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:12.434397Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:12.600984Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:12.601260Z", "level": "WARNING", "logger": "root", "message": "Optimized connection failed: Database objects do not implement truth value testing or bool(). Please compare with None instead: database is not None, attempting direct connection...", "module": "mongodb", "function": "connection", "line": 46}
{"timestamp": "2025-08-12T14:44:12.601511Z", "level": "INFO", "logger": "root", "message": "Attempting direct MongoDB connection to: mongodb+srv://doadmin:MOpg1x782Wj94t56@mongodb1-92...", "module": "mongodb", "function": "connection", "line": 58}
{"timestamp": "2025-08-12T14:44:13.247912Z", "level": "INFO", "logger": "root", "message": "Direct database connection established successfully", "module": "mongodb", "function": "connection", "line": 87}
{"timestamp": "2025-08-12T14:44:13.363727Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:14.078706Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:14.246965Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:14.361593Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:26.123283Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.123541Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.123724Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.123908Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.124065Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.124209Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.124405Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.124718Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:26.124900Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:44:26.125066Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:44:26.125262Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:44:26.125431Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:44:28.144887Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:44:28.145149Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:44:28.192711Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:44:28.192990Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:44:28.193198Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:44:28.814272Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:44:28.814475Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:44:28.814761Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:44:29.011119Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:29.282222Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:29.512267Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:30.217961Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:30.387828Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:30.501609Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:31.171773Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:31.338795Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:31.451598Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:34.004460Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.004702Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.004897Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.005130Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.005337Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.005583Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.005804Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.006078Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:44:34.006313Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:44:34.006521Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:44:34.006727Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:44:34.006941Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:44:36.068801Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:44:36.068995Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:44:36.116638Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:44:36.116880Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:44:36.117072Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:44:36.758566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:44:36.758766Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:44:36.759007Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:44:36.954167Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:37.190410Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:37.443916Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:38.145740Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:38.313469Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:38.429407Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:39.153825Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:39.320634Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:44:39.431409Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:02.033428Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.033705Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.033887Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034083Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034260Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034423Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034589Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034737Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:02.034869Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:45:02.034994Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:45:02.035149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:45:02.035292Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:45:04.030274Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:45:04.030466Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:45:04.077683Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:45:04.077923Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:45:04.078070Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:45:04.752645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:45:04.752890Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:45:04.753155Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:45:04.949254Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:05.188266Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:05.443204Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:06.147683Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:06.316553Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:06.428545Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:07.148280Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:07.318436Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:07.430535Z", "level": "INFO", "logger": "root", "message": "Beanie initialized with 1 document models", "module": "mongodb", "function": "initialize_beanie", "line": 135}
{"timestamp": "2025-08-12T14:45:37.254193Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.254485Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.254693Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.254927Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.255179Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.255436Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.255774Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.255987Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:37.256149Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:45:37.256279Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:45:37.256541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:45:37.256722Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:45:39.313831Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:45:39.314116Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:45:39.362518Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:45:39.362787Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:45:39.362971Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:45:40.329448Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:45:40.329740Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:45:40.330073Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:45:53.230294Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.230547Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.230802Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231023Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231227Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231393Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231598Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231801Z", "level": "INFO", "logger": "root", "message": "Database connection closed successfully", "module": "mongodb", "function": "close", "line": 119}
{"timestamp": "2025-08-12T14:45:53.231984Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:45:53.232154Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:45:53.232316Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:45:53.232478Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:45:55.218426Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:45:55.218671Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:45:55.266903Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:45:55.267142Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:45:55.267326Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:45:55.910434Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:45:55.910961Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:45:55.911294Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:46:21.787797Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:46:21.788019Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:46:21.846418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:46:21.846643Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:46:23.900539Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:46:23.900762Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:46:23.949971Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:46:23.950266Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:46:23.950488Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:46:24.823983Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:46:24.824234Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:46:24.824541Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:46:25.531579Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:46:25.531771Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:46:25.588437Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:46:25.588656Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:46:35.453362Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:46:35.453599Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:46:35.501466Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:46:35.501703Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:46:35.501893Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:46:36.147258Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:46:36.147506Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:46:36.147787Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:46:36.850409Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:47:06.797219Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:47:06.797380Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:47:06.851764Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:47:06.851950Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:47:08.877498Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:47:08.877776Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:47:08.924697Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:47:08.925027Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:47:08.925186Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:47:09.931126Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:47:09.931682Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:47:09.932333Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:47:10.625429Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:48:03.549645Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T14:48:03.870152Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T14:51:13.754433Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:51:13.754666Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:51:13.811057Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:51:13.811298Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:51:15.878558Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:51:15.878770Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:51:15.926086Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:51:15.926305Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:51:15.926455Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:51:16.864760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:51:16.864972Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:51:16.865174Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:51:17.547009Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:51:35.509614Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:51:35.509858Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:51:35.566863Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:51:35.567061Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:51:37.558676Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:51:37.558904Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:51:37.606172Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:51:37.606417Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:51:37.606595Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:51:38.251442Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:51:38.251837Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:51:38.252298Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:51:38.936565Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:51:54.472787Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:51:54.473032Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:51:54.532406Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:51:54.533461Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:51:56.567786Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:51:56.568002Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:51:56.616366Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:51:56.616597Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:51:56.616777Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:51:57.255984Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:51:57.256266Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:51:57.256512Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:51:57.967460Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:53:36.036800Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:53:36.037752Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:53:36.093444Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:53:36.093689Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:53:38.128216Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:53:38.128449Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:53:38.175161Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:53:38.175458Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:53:38.175688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:53:39.180759Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:53:39.181904Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:53:39.183152Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:53:39.862541Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:53:42.785700Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:53:42.786772Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:53:42.843213Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:53:42.843418Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:53:44.900288Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:53:44.900487Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:53:44.948880Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:53:44.949126Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:53:44.949313Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:53:45.584620Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:53:45.584801Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:53:45.585018Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:53:46.258263Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:53:49.213158Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:53:49.214276Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:53:49.274680Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:53:49.275726Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:53:51.331200Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:53:51.331398Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:53:51.380367Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:53:51.380585Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:53:51.380725Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:53:52.040552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:53:52.040732Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:53:52.040951Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:53:52.728441Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:57:05.547301Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:57:05.547514Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:57:05.602538Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:57:05.602776Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:57:07.612279Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:57:07.612540Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:57:07.671023Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:57:07.671307Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:57:07.671495Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:57:09.396211Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:57:09.396444Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:57:09.396721Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:57:10.059436Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:57:16.588947Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:57:16.589187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:57:16.650222Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:57:16.650516Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:57:18.720278Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:57:18.720516Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:57:18.768456Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:57:18.768665Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:57:18.768811Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:57:19.421382Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:57:19.422379Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:57:19.423579Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:57:20.124747Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:57:26.303630Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:57:26.303851Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:57:26.358706Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:57:26.358931Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:57:28.287064Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:57:28.287291Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:57:28.335267Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:57:28.335469Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:57:28.335633Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:57:28.982748Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:57:28.982992Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:57:28.983288Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:57:29.662784Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:57:38.166749Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:57:38.167003Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:57:38.223519Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:57:38.224049Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:57:40.289753Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:57:40.289947Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:57:40.340309Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:57:40.340594Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:57:40.340797Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:57:40.985832Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:57:40.986077Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:57:40.986328Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:57:41.649574Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:57:49.461310Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:57:49.461539Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:57:49.527223Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:57:49.527452Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:57:51.604306Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:57:51.604518Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:57:51.651675Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:57:51.651897Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:57:51.652040Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:57:52.323062Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:57:52.324018Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:57:52.325213Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:57:52.999339Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:58:02.197716Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:58:02.197960Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:58:02.634229Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:58:02.634541Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:58:04.628664Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:58:04.628864Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:58:04.676590Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:58:04.676900Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:58:04.677058Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:58:07.141708Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:58:07.142675Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:58:07.143915Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:58:07.846447Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:58:21.939369Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:58:21.939594Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:58:21.994300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:58:21.994545Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:58:24.095441Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:58:24.095706Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:58:24.143023Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:58:24.143262Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:58:24.143487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:58:24.798502Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:58:24.798724Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:58:24.799012Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:58:25.483371Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:58:34.698810Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:58:34.699753Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:58:34.756164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:58:34.756414Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:58:36.741768Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:58:36.741989Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:58:36.789857Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:58:36.790132Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:58:36.790345Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:58:37.434568Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:58:37.434829Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:58:37.435039Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:58:38.105272Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:58:46.500748Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:58:46.924757Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:58:46.981176Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:58:46.981432Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:58:49.023500Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:58:49.023759Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:58:49.070898Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:58:49.071115Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:58:49.071263Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:58:49.717065Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:58:49.717264Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:58:49.717503Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:58:50.372536Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:58:58.496188Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:58:58.496424Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:58:58.554015Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:58:58.554241Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:59:00.553862Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:59:00.554125Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:59:00.601690Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:59:00.601918Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:59:00.602120Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:59:01.261806Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:59:01.262021Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:59:01.262308Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:59:01.974033Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:59:11.772052Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:59:11.772294Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:59:11.828201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:59:11.828436Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:59:13.680179Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:59:13.680402Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:59:13.727762Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:59:13.728051Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:59:13.728225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:59:15.306676Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:59:15.306920Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:59:15.307206Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:59:15.974658Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T14:59:23.803994Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T14:59:23.804283Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T14:59:23.860439Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T14:59:23.860651Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T14:59:25.869246Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T14:59:25.869515Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T14:59:25.917798Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T14:59:25.918048Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T14:59:25.918228Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T14:59:26.589700Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T14:59:26.589959Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T14:59:26.590248Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T14:59:27.263924Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:00:52.334935Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:00:52.335099Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:00:52.407701Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:00:52.407937Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:00:54.454937Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:00:54.455175Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:00:54.502083Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:00:54.502407Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:00:54.502573Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:00:56.995358Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:00:56.996354Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:00:56.997548Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:00:57.682028Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:01:06.688599Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:01:06.688850Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:01:06.745505Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:01:06.745726Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:01:08.798103Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:01:08.798367Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:01:08.845719Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:01:08.845986Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:01:08.846212Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:01:09.484828Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:01:09.485100Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:01:09.485429Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:01:10.187684Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:01:16.691603Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:01:16.691861Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:01:16.750176Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:01:16.751074Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:01:18.811359Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:01:18.811571Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:01:18.857839Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:01:18.858124Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:01:18.858310Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:01:19.536090Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:01:19.536339Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:01:19.536631Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:01:20.218839Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:01:36.525090Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:01:36.525298Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:01:36.580898Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:01:36.581137Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:01:38.424095Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:01:38.424345Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:01:38.471409Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:01:38.471748Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:01:38.471929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:01:39.122125Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:01:39.123097Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:01:39.124334Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:01:39.822161Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:01:49.507352Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:01:49.507537Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:01:49.564163Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:01:49.564372Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:01:51.516362Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:01:51.516621Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:01:51.568897Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:01:51.569219Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:01:51.569405Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:01:52.189494Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:01:52.189727Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:01:52.190006Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:01:52.869004Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:02:13.560359Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:02:13.561310Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:02:13.620641Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:02:13.621615Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:02:15.668016Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:02:15.668249Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:02:15.718245Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:02:15.718461Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:02:15.718639Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:02:16.462321Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:02:16.462537Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:02:16.462782Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:02:17.157584Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:02:26.964886Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:02:26.965135Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:02:27.021699Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:02:27.021920Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:02:28.884126Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:02:28.884344Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:02:28.933071Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:02:28.933348Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:02:28.933552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:02:29.586174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:02:29.586442Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:02:29.586768Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:02:30.255880Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:03:01.118148Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:03:01.118385Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:03:01.174410Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:03:01.174649Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:03:03.215567Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:03:03.215815Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:03:03.263502Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:03:03.263782Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:03:03.263955Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:03:04.225298Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:03:04.225473Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:03:04.225687Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:03:04.915269Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:03:10.240547Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:03:10.240774Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:03:10.296328Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:03:10.296503Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:03:12.331356Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:03:12.331588Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:03:12.378578Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:03:12.378853Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:03:12.379068Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:03:13.040877Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:03:13.041607Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:03:13.042299Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:03:13.746058Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:05:10.133434Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:05:10.133606Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:05:10.189987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:05:10.190158Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:05:12.235497Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:05:12.235690Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:05:12.282914Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:05:12.283120Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:05:12.283269Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:05:13.247622Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:05:13.247815Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:05:13.248088Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:05:13.926957Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:06:41.870969Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:06:41.871204Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:06:41.927183Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:06:41.927394Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:06:43.978934Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:06:43.979129Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:06:44.026699Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:06:44.026904Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:06:44.027049Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:06:45.095723Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:06:45.095985Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:06:45.096255Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:06:45.783253Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T15:07:49.290182Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T15:07:49.290396Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T15:07:49.349555Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T15:07:49.349797Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T15:07:51.288890Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T15:07:51.289264Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T15:07:51.337468Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T15:07:51.337703Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T15:07:51.337871Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T15:07:52.068436Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T15:07:52.068681Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T15:07:52.069026Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T15:07:52.757221Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T16:13:55.333386Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T16:13:55.333590Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T16:13:55.380543Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T16:13:55.380809Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T16:13:55.381009Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T16:13:56.419763Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T16:13:56.420004Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T16:13:56.420297Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T16:13:57.107077Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:00:31.479408Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:00:31.479675Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:00:31.527872Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:00:31.528050Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:00:31.528174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:00:32.726935Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:00:32.727162Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:00:32.727418Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:00:33.395919Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:04:38.996785Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:04:38.996985Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:04:39.049685Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:04:39.049915Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:04:39.050056Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:04:40.002044Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:04:40.002396Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:04:40.002875Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:04:40.674534Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:09:38.012161Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:09:38.012457Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:09:38.060432Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:09:38.060655Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:09:38.060854Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:09:39.084979Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:09:39.085223Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:09:39.085510Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:09:39.764619Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:13:46.859918Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T17:13:46.860129Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T17:13:46.917255Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T17:13:46.917469Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T17:13:48.959936Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:13:48.960181Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:13:49.007493Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:13:49.007817Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:13:49.008015Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:13:50.042481Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:13:50.042696Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:13:50.042927Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:13:50.728858Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:13:54.045133Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T17:13:54.045314Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T17:13:54.101707Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T17:13:54.101943Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T17:13:56.207096Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:13:56.207355Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:13:56.256148Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:13:56.256364Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:13:56.256559Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:13:56.899742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:13:56.899951Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:13:56.900169Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:13:57.591044Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:15:29.519680Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T17:15:29.519864Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T17:15:29.576882Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T17:15:29.577142Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T17:15:31.679610Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:15:31.679859Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:15:31.730811Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:15:31.731023Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:15:31.731171Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:15:32.758068Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:15:32.758273Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:15:32.758548Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:15:33.435107Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:16:23.219922Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Product with id 'test' not found or error occurred.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/api/paypal/orders", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-12T17:19:58.593213Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T17:19:58.593435Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T17:19:58.649633Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T17:19:58.649892Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T17:20:00.640637Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:20:00.640894Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:20:00.689316Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:20:00.689592Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:20:00.689812Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:20:01.710991Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:20:01.711163Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:20:01.711425Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:20:02.380101Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:21:19.809176Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T17:21:19.809399Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T17:21:19.865164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T17:21:19.865377Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T17:21:22.151678Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T17:21:22.151892Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T17:21:22.210686Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T17:21:22.211035Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T17:21:22.211242Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T17:21:23.277563Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T17:21:23.277971Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T17:21:23.278575Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T17:21:23.967265Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T17:21:58.932405Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order", "module": "orders", "function": "create_paypal_order", "line": 653}
{"timestamp": "2025-08-12T17:22:32.286917Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 01A898007A135643H", "module": "orders", "function": "capture_paypal_order", "line": 701}
{"timestamp": "2025-08-12T17:22:34.215547Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 01A898007A135643H. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 705}
{"timestamp": "2025-08-12T17:22:34.442061Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 01A898007A135643H, Item 688220948c9d3666fb032af1: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 758}
{"timestamp": "2025-08-12T17:22:49.141179Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T17:22:49.263896Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T17:22:51.143915Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T17:22:51.436045Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 2 total, 0 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-12T17:24:50.427851Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order", "module": "orders", "function": "create_paypal_order", "line": 653}
{"timestamp": "2025-08-12T17:32:32.403906Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T17:32:32.555618Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T17:34:03.668977Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T17:34:03.684048Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 146, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T18:05:30.392902Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order", "module": "orders", "function": "create_paypal_order", "line": 653}
{"timestamp": "2025-08-12T18:05:44.517618Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 0R931751C0739061J", "module": "orders", "function": "capture_paypal_order", "line": 701}
{"timestamp": "2025-08-12T18:05:46.347055Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 0R931751C0739061J. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 705}
{"timestamp": "2025-08-12T18:05:46.580831Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 0R931751C0739061J, Item 688220948c9d3666fb032af1: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 758}
{"timestamp": "2025-08-12T18:18:09.928821Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order", "module": "orders", "function": "create_paypal_order", "line": 653}
{"timestamp": "2025-08-12T18:18:14.079776Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 4A346404RG070490H: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 859}
{"timestamp": "2025-08-12T19:11:56.467412Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T19:11:56.467765Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:11:56.551592Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:11:56.551783Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:12:01.197973Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:12:01.198205Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-12T19:12:01.246879Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:12:01.247115Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-12T19:12:01.247260Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:12:03.091152Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:12:03.091353Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:12:03.091616Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-12T19:12:03.793103Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:12:20.394836Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-12T19:12:20.395020Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:12:20.451478Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:12:20.451711Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:12:22.517515Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:12:22.517715Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:12:22.564867Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:12:22.565113Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 226}
{"timestamp": "2025-08-12T19:12:22.565300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:12:23.206644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:12:23.206861Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:12:23.207077Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 239}
{"timestamp": "2025-08-12T19:12:23.880943Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:12:29.294985Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 244}
{"timestamp": "2025-08-12T19:12:29.295227Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:12:29.352484Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:12:29.352723Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 246}
{"timestamp": "2025-08-12T19:12:31.302981Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:12:31.303248Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:12:31.351147Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:12:31.351413Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:12:31.351599Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:12:31.979425Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:12:31.979694Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:12:31.979970Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:12:32.674998Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:13:19.593500Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:13:19.593748Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:13:19.649305Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:13:19.649560Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:13:21.830076Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:13:21.830303Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:13:21.877860Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:13:21.878228Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:13:21.878465Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:13:22.638356Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:13:22.638565Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:13:22.638879Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:13:23.303339Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:15:13.470441Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 148, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T19:19:04.033697Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:19:04.033927Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:19:04.090566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:19:04.090746Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:19:11.859689Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:19:11.859934Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:19:11.908059Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:19:11.908265Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:19:11.908420Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:19:12.833869Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:19:12.834044Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:19:12.834248Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:19:13.527493Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:19:33.963956Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order", "module": "orders", "function": "create_paypal_order", "line": 653}
{"timestamp": "2025-08-12T19:19:35.089086Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 6TL97773WW943310F: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 859}
{"timestamp": "2025-08-12T19:21:11.331459Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:21:11.331618Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:21:11.389145Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:21:11.389360Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:21:13.454471Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:21:13.454721Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:21:13.503158Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:21:13.503416Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:21:13.503575Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:21:14.399252Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:21:14.399498Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:21:14.399735Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:21:15.082431Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:21:33.296944Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:21:33.297204Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:21:33.355009Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:21:33.355231Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:21:35.345105Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:21:35.345375Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:21:35.393468Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:21:35.393777Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:21:35.393979Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:21:36.030682Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:21:36.030914Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:21:36.031169Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:21:36.725920Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:22:06.343540Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:22:06.344480Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:22:06.401805Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:22:06.402010Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:22:08.436804Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:22:08.437080Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:22:08.484825Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:22:08.485065Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:22:08.485225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:22:09.121896Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:22:09.122078Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:22:09.122287Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:22:09.803755Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:25:39.897207Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:25:39.897420Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:25:39.953052Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:25:39.953288Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:25:42.096159Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:25:42.096394Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:25:42.145894Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:25:42.146125Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:25:42.146290Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:25:43.311339Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:25:43.311547Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:25:43.311831Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:25:43.971901Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:27:02.335473Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:27:02.335713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:27:02.390953Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:27:02.391165Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:27:04.394541Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:27:04.394739Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:27:04.442173Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:27:04.442390Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:27:04.442635Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:27:05.335225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:27:05.335483Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:27:05.335769Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:27:05.999502Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:30:18.299472Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:30:18.299716Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:30:18.355305Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:30:18.355472Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:30:20.336858Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:30:20.337151Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:30:20.386279Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:30:20.386655Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:30:20.386837Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:30:21.292978Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:30:21.293200Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:30:21.293486Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:30:21.947651Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:33:49.085452Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:33:49.085675Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:33:49.142108Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:33:49.142282Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:33:51.186385Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:33:51.186649Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:33:51.235364Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:33:51.235582Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:33:51.235736Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:33:53.844206Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:33:53.844381Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:33:53.844589Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:33:54.501737Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:35:28.107699Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:35:28.107931Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:35:28.163701Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:35:28.163884Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:39:45.522729Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:39:45.523004Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:39:45.586368Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:39:45.586638Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:39:45.586775Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:39:46.601141Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:39:46.601318Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:39:46.601530Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:39:47.268794Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:43:57.666288Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 670}
{"timestamp": "2025-08-12T19:43:58.736632Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 5K628645PH442444P", "module": "orders", "function": "create_paypal_order", "line": 673}
{"timestamp": "2025-08-12T19:43:59.982736Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 5K628645PH442444P: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 891}
{"timestamp": "2025-08-12T19:47:57.503382Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:47:57.503573Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:47:57.560120Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:47:57.560280Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:51:28.128178Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:51:28.128424Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:51:28.178158Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:51:28.178390Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:51:28.178554Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:51:29.267381Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:51:29.267605Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:51:29.267816Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:51:29.938403Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:52:26.942181Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:52:26.942376Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:52:26.999109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:52:26.999343Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:52:35.334127Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:52:35.334364Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:52:35.386677Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:52:35.386913Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:52:35.387079Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:52:38.538991Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:52:38.540225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:52:38.541450Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:52:39.225817Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T19:54:56.125072Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 670}
{"timestamp": "2025-08-12T19:54:57.171638Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 38T71892424329627", "module": "orders", "function": "create_paypal_order", "line": 673}
{"timestamp": "2025-08-12T19:54:58.341031Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 38T71892424329627: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 891}
{"timestamp": "2025-08-12T19:59:50.344916Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T19:59:50.345119Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T19:59:50.402543Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T19:59:50.402722Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T19:59:52.347225Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T19:59:52.347441Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T19:59:52.396454Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T19:59:52.396710Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T19:59:52.396902Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T19:59:53.366224Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T19:59:53.366425Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T19:59:53.366668Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T19:59:54.052835Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T20:01:34.388297Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T20:01:34.388551Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T20:01:34.444357Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T20:01:34.444549Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T20:01:36.589198Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T20:01:36.589422Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T20:01:36.657071Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T20:01:36.657373Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T20:01:36.657577Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T20:01:37.700730Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T20:01:37.701002Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T20:01:37.701323Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T20:01:38.375505Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T20:02:18.300783Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T20:02:18.300958Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T20:02:18.356382Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T20:02:18.356565Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T20:04:08.077513Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T20:04:08.077742Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T20:04:08.131975Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T20:04:08.132654Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T20:04:08.132959Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T20:04:09.099924Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T20:04:09.100162Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T20:04:09.100401Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T20:04:09.772931Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T20:04:38.858345Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:04:39.964772Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 19K71720JL4852908", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:04:41.130587Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 19K71720JL4852908: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:07:19.561480Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T20:07:19.561693Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T20:07:19.617672Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T20:07:19.617920Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T20:08:12.589715Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T20:08:12.590109Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T20:08:12.712899Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T20:08:12.713266Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T20:08:12.713487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T20:08:13.743920Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T20:08:13.744134Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T20:08:13.744386Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T20:08:14.413556Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T20:10:06.578637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:10:07.610209Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 3MF16653A7700592U", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:10:08.737698Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 3MF16653A7700592U: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:25:32.724073Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:25:33.301584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4X110813SP502872F", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:27:35.264752Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 4X110813SP502872F: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:27:46.235972Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:27:46.810096Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4C073911AW230620K", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:28:34.157479Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 4C073911AW230620K: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:31:50.409436Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 148, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T20:34:39.754441Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 148, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-12T20:36:04.894284Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-12T20:36:04.894479Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-12T20:36:04.951547Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-12T20:36:04.951776Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-12T20:38:38.494229Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-12T20:38:38.494470Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-12T20:38:38.547198Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-12T20:38:38.547425Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-12T20:38:38.547639Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-12T20:38:39.649059Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-12T20:38:39.649240Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-12T20:38:39.649450Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-12T20:38:40.334792Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-12T20:41:19.469647Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:41:20.507738Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 7VE981744P8496922", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:41:31.461109Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 7VE981744P8496922: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:55:52.810557Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:55:53.386761Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 60A58561WL533225V", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T20:56:03.949349Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 60A58561WL533225V: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T20:56:34.517756Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T20:56:35.142201Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 9LG46515FG5819745", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:04:14.001988Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:04:14.621363Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 04474597UP034311P", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:04:26.376332Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 04474597UP034311P: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-12T21:04:39.344532Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:04:39.921515Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4FU19129T35947734", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:11:27.173826Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:11:27.739484Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 6N992968E75621028", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:11:47.827986Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:11:48.425298Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 5UC7710277971121G", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:12:22.335141Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:12:22.949078Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 8EM463283W086580N", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:13:23.813162Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-12T21:13:24.450734Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4EW33644FB9178608", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-12T21:13:32.871098Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 4EW33644FB9178608: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-13T13:25:28.990492Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:25:28.990821Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 34}
{"timestamp": "2025-08-13T13:25:29.057398Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:25:29.057714Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-13T13:25:29.057894Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:25:30.316053Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:25:30.316373Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:25:30.316680Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 240}
{"timestamp": "2025-08-13T13:25:31.008875Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:30:19.706287Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 22.00 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-13T13:30:20.802085Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 3W962653YJ4299241", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-13T13:30:33.539495Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 3W962653YJ4299241: Recalculated analytics for coupon t on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-13T13:31:24.233007Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 148, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T13:36:36.972090Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-13T13:36:37.607549Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 6U716084GY5660050", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-13T13:36:52.316685Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 6U716084GY5660050: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-13T13:44:40.616385Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 20.90 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-13T13:44:41.186625Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 2VF98178R6350950A", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-13T13:44:45.974628Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 2VF98178R6350950A: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-13T13:47:16.803603Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-13T13:47:16.803779Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:47:16.860101Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:47:16.860328Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:47:20.635691Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:47:20.635915Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 35}
{"timestamp": "2025-08-13T13:47:20.684105Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:47:20.684384Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 228}
{"timestamp": "2025-08-13T13:47:20.684543Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:47:21.684760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:47:21.684993Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:47:21.685221Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 241}
{"timestamp": "2025-08-13T13:47:22.394103Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:47:31.649005Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 246}
{"timestamp": "2025-08-13T13:47:31.649174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:47:31.707916Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:47:31.708116Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 248}
{"timestamp": "2025-08-13T13:47:33.561228Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:47:33.561437Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 35}
{"timestamp": "2025-08-13T13:47:33.610138Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:47:33.610465Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 228}
{"timestamp": "2025-08-13T13:47:33.610651Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:47:34.246913Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:47:34.247119Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:47:34.247382Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 241}
{"timestamp": "2025-08-13T13:47:34.903847Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:47:48.805510Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 246}
{"timestamp": "2025-08-13T13:47:48.805696Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:47:48.861364Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:47:48.861609Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 248}
{"timestamp": "2025-08-13T13:47:51.022306Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:47:51.022529Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:47:51.072984Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:47:51.073247Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:47:51.073404Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:47:51.723898Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:47:51.724051Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:47:51.724267Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:47:52.386990Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:49:28.506985Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:49:28.507160Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:49:28.563709Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:49:28.563911Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:49:30.774489Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:49:30.774723Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:49:30.825037Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:49:30.825338Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:49:30.825504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:49:32.552411Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:49:32.552664Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:49:32.552923Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:49:33.265869Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:49:51.461503Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:49:51.462503Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:49:51.522149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:49:51.523106Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:49:53.770620Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:49:53.770945Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:49:53.825325Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:49:53.825590Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:49:53.825833Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:49:54.467124Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:49:54.468119Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:49:54.469277Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:49:55.144796Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:50:52.088962Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:50:52.089198Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:50:52.144473Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:50:52.144662Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:50:54.433024Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:50:54.433225Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:50:54.483354Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:50:54.483611Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:50:54.483770Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:50:55.380466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:50:55.380742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:50:55.381033Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:50:56.070169Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:51:54.914719Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:51:54.914952Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:51:54.971464Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:51:54.971769Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:51:57.176702Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:51:57.176906Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:51:57.226672Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:51:57.226927Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:51:57.227088Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:51:58.113442Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:51:58.113655Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:51:58.113974Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:51:58.802218Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:53:16.506804Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:53:16.506956Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:53:16.563089Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:53:16.563319Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:53:18.692488Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:53:18.692729Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:53:18.742651Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:53:18.742874Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:53:18.743037Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:53:19.700717Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:53:19.701680Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:53:19.702867Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:53:20.396248Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:54:12.177077Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:54:12.177371Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:54:12.233531Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:54:12.233695Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:54:14.503140Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:54:14.503425Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:54:14.552384Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:54:14.552588Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:54:14.552749Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:54:16.262305Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:54:16.262551Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:54:16.262852Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:54:16.939888Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:54:40.505200Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:54:40.505394Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:54:40.560673Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:54:40.560931Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:54:42.877456Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:54:42.877677Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:54:42.926750Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:54:42.926959Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:54:42.927120Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:54:43.605370Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:54:43.605579Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:54:43.605862Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:54:44.295036Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:54:48.768615Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:54:48.768791Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:54:48.825808Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:54:48.825979Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:54:50.901930Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:54:50.902188Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:54:50.951580Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:54:50.951799Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:54:50.951948Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:54:51.648155Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:54:51.648347Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:54:51.648595Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:54:52.327482Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:55:24.787079Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:55:24.788105Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:55:24.845040Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:55:24.845569Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:55:26.760278Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:55:26.760550Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:55:26.809149Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:55:26.809397Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:55:26.809611Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:55:29.239498Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:55:29.240597Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:55:29.241847Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:55:29.909896Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:55:33.948088Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:55:33.948599Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:55:34.007072Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:55:34.008003Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:55:36.034670Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:55:36.034923Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:55:36.084594Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:55:36.084821Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:55:36.085003Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:55:36.718161Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:55:36.718382Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:55:36.718639Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:55:37.398079Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T13:56:45.931417Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T13:56:45.931655Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T13:56:45.987677Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T13:56:45.987905Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T13:56:48.019050Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T13:56:48.019261Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T13:56:48.068779Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T13:56:48.069078Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T13:56:48.069303Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T13:56:49.024894Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T13:56:49.025134Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T13:56:49.025459Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T13:56:49.695617Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:01:38.136086Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T14:01:38.217477Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T14:03:59.957102Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent contact_us email to your-email@example.com", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:04:03.147815Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent auto_reply email to mrbrownaffiliate@gmail.com", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:04:03.148014Z", "level": "INFO", "logger": "main", "message": "Contact form notification sent to admin for contact ID: 689c9b4c2211b040d886c29f", "module": "main", "function": "handle_contact_form", "line": 276}
{"timestamp": "2025-08-13T14:04:03.148175Z", "level": "INFO", "logger": "main", "message": "Auto-reply sent to mrbrownaffiliate@gmail.com for contact ID: 689c9b4c2211b040d886c29f", "module": "main", "function": "handle_contact_form", "line": 281}
{"timestamp": "2025-08-13T14:04:37.072224Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:04:37.073172Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:04:37.130451Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:04:37.130638Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:04:39.171536Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:04:39.171769Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:04:39.220739Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:04:39.220976Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:04:39.221159Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:04:40.550097Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:04:40.551257Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:04:40.552484Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:04:41.231492Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:04:53.375173Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent contact_us email to support@monkeyz.co.il", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:04:55.874376Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent auto_reply email to mrbrownaffiliate@gmail.com", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:04:55.874668Z", "level": "INFO", "logger": "main", "message": "Contact form notification sent to admin for contact ID: 689c9b823dbd1806f1aa16b5", "module": "main", "function": "handle_contact_form", "line": 276}
{"timestamp": "2025-08-13T14:04:55.874824Z", "level": "INFO", "logger": "main", "message": "Auto-reply sent to mrbrownaffiliate@gmail.com for contact ID: 689c9b823dbd1806f1aa16b5", "module": "main", "function": "handle_contact_form", "line": 281}
{"timestamp": "2025-08-13T14:09:34.509781Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:09:34.510173Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:09:34.569204Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:09:34.569557Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:09:40.159926Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:09:40.160799Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:09:40.295208Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:09:40.296917Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:09:40.297408Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:09:41.918722Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:09:41.919057Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:09:41.919390Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:09:42.614805Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:10:01.620708Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:10:01.620940Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:10:01.677466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:10:01.677659Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:10:05.753095Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:10:05.753461Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:10:05.881213Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:10:05.881683Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:10:05.881919Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:10:06.647431Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:10:06.647770Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:10:06.648192Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:10:07.365790Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:11:44.712253Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent otp email to brownmaster555@gmail.com", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:12:10.116761Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent otp email to brownmaster555@gmail.com", "module": "email_service", "function": "_send_email", "line": 52}
{"timestamp": "2025-08-13T14:12:35.377009Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Username or email does not exist.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/login", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-13T14:12:38.626673Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Username or email does not exist.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/login", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-13T14:12:49.128539Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Password is incorrect.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/login", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-13T14:12:52.989446Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Password is incorrect.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/login", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-13T14:18:13.105912Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:18:13.106376Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:18:13.186998Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:18:13.187404Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:18:21.521289Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:18:21.522049Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:18:21.640763Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:18:21.642150Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:18:21.642491Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:18:22.731654Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:18:22.731925Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:18:22.732241Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:18:23.429177Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:18:40.316929Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:18:40.317180Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:18:40.373568Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:18:40.373769Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:18:45.329958Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:18:45.330376Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:18:45.436395Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:18:45.436878Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:18:45.437165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:18:46.111841Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:18:46.112203Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:18:46.112711Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:18:46.870778Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:19:11.070658Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:19:11.071049Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:19:11.127372Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:19:11.127623Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:19:16.212169Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:19:16.212750Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:19:16.362940Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:19:16.363372Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:19:16.363687Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:19:17.143986Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:19:17.145609Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:19:17.146135Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:19:17.880480Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:19:39.414225Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:19:39.414527Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:19:39.471689Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:19:39.472049Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:19:43.614374Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:19:43.615209Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:19:43.785157Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:19:43.785654Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:19:43.785949Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:19:44.470011Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:19:44.473650Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:19:44.474687Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:19:45.211749Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:22:51.073806Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:22:51.074026Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:22:51.132908Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:22:51.133321Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:22:57.623257Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:22:57.623557Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:22:57.687700Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:22:57.687996Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:22:57.688239Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:22:58.680947Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:22:58.681293Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:22:58.681728Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:22:59.387470Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:23:13.341244Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent password_reset email to brownmaster555@gmail.com", "module": "email_service", "function": "_send_email", "line": 65}
{"timestamp": "2025-08-13T14:24:07.830508Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Username or email does not exist.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/login", "method": "POST", "status_code": 404}
{"timestamp": "2025-08-13T14:26:42.551991Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:26:42.552207Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:26:42.608077Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:26:42.608321Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:26:46.236132Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:26:46.236427Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:26:46.304817Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:26:46.305116Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:26:46.305309Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:26:48.919507Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:26:48.919852Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:26:48.920332Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:26:49.648331Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:28:57.429684Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:28:57.429889Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:28:57.486876Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:28:57.487112Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:29:00.476864Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:29:00.477341Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:29:00.560691Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:29:00.561057Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:29:00.561221Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:29:01.675678Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:29:01.675876Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:29:01.676133Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:29:02.346922Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:30:48.868260Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:30:48.868548Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:30:48.924814Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:30:48.924960Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:30:51.504221Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:30:51.504507Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:30:51.561204Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:30:51.561638Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:30:51.561859Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:30:52.466403Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:30:52.466602Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:30:52.466866Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:30:53.189226Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:31:06.487286Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:31:06.487445Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:31:06.542933Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:31:06.543138Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:31:09.162007Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:31:09.162314Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:31:09.215735Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:31:09.216074Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:31:09.216221Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:31:09.863343Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:31:09.863671Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:31:09.864090Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:31:10.577242Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:31:17.503174Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:31:17.503371Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:31:17.559954Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:31:17.560131Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:31:20.095720Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:31:20.096035Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:31:20.161140Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:31:20.161411Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:31:20.161613Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:31:20.802429Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:31:20.802716Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:31:20.802992Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:31:21.477191Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:31:29.493768Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:31:29.493933Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:31:29.551336Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:31:29.551565Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:31:31.938395Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:31:31.938680Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:31:32.006852Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:31:32.007181Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:31:32.007367Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:31:32.658023Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:31:32.658202Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:31:32.658439Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:31:33.319337Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:31:42.293505Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:31:42.293695Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:31:42.349751Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:31:42.349938Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:31:44.755952Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:31:44.756165Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:31:44.810654Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:31:44.810924Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:31:44.811107Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:31:45.445905Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:31:45.446147Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:31:45.446467Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:31:46.121401Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:31:57.256656Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:31:57.256835Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:31:57.312773Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:31:57.313084Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:31:59.676908Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:31:59.677128Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:31:59.737721Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:31:59.737982Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:31:59.738201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:32:01.263612Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:32:01.263849Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:32:01.264093Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:32:01.949734Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:32:51.715546Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:32:51.715867Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:32:51.773173Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:32:51.773520Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:32:54.311834Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:32:54.312059Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:32:54.366170Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:32:54.366397Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:32:54.366556Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:32:56.251504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:32:56.251683Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:32:56.251898Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:32:56.915331Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:33:06.307040Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:33:06.307223Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:33:06.362561Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:33:06.362770Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:33:09.093019Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:33:09.093286Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:33:09.146754Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:33:09.147113Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:33:09.147437Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:33:09.787566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:33:09.787768Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:33:09.788057Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:33:10.458148Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:34:13.716086Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent welcome email to mrbrownaffiliate@gmail.com", "module": "email_service", "function": "_send_email", "line": 65}
{"timestamp": "2025-08-13T14:34:16.243821Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent otp email to mrbrownaffiliate@gmail.com", "module": "email_service", "function": "_send_email", "line": 65}
{"timestamp": "2025-08-13T14:36:44.660121Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:36:44.660409Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:36:44.716922Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:36:44.717161Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:36:48.861888Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:36:48.862169Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:36:48.927876Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:36:48.928249Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:36:48.928447Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:36:49.878377Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:36:49.878625Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:36:49.878855Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:36:50.562229Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:38:10.381694Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:38:10.381917Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:38:10.438525Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:38:10.438770Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:38:12.762519Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:38:12.762730Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:38:12.814524Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:38:12.814755Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:38:12.814908Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:38:15.377662Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:38:15.377886Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:38:15.378134Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:38:16.085833Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:38:33.891508Z", "level": "INFO", "logger": "root", "message": "[SMTP] Successfully sent password_reset email to mrbrownaffiliate@gmail.com", "module": "email_service", "function": "_send_email", "line": 65}
{"timestamp": "2025-08-13T14:43:39.180373Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:43:39.180546Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:43:39.237970Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:43:39.238284Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:43:42.466806Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:43:42.467185Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:43:42.543596Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:43:42.543865Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:43:42.544033Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:43:43.787801Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:43:43.788012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:43:43.788257Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:43:44.464966Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:44:15.321563Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:44:15.321812Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:44:15.377713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:44:15.377941Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:44:17.961676Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:44:17.961915Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:44:18.012139Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:44:18.012352Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:44:18.012546Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:44:18.898534Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:44:18.898737Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:44:18.898959Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:44:19.567121Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:48:21.007112Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:48:21.007321Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:48:21.063982Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:48:21.064157Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:48:23.567103Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:48:23.567363Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:48:23.621181Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:48:23.621413Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:48:23.621576Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:48:24.500440Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:48:24.601851Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:48:24.602128Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:48:25.273446Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:48:34.072102Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:48:34.072335Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:48:34.127514Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:48:34.127693Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:48:36.752450Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:48:36.752716Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:48:36.808232Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:48:36.808487Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:48:36.808678Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:48:37.432010Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:48:37.432254Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:48:37.432492Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:48:38.119397Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:49:08.712361Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:49:08.712597Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:49:08.768477Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:49:08.768734Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:49:11.631994Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:49:11.632245Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:49:11.685680Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:49:11.685964Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:49:11.686144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:49:12.339707Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:49:12.339913Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:49:12.340168Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:49:12.999701Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:51:15.149207Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:51:15.149376Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:51:15.206789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:51:15.206953Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:51:17.612505Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:51:17.612769Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:51:17.665519Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:51:17.665809Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:51:17.666010Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:51:18.680584Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:51:18.680768Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:51:18.680999Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:51:19.358277Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:51:35.131019Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:51:35.131229Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:51:35.187613Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:51:35.187811Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:51:37.641018Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:51:37.641276Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:51:37.693614Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:51:37.693826Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:51:37.693978Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:51:38.302467Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:51:38.302684Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:51:38.302915Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:51:38.984673Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:52:25.137713Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:52:25.137995Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:52:25.196442Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:52:25.196710Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:52:27.663892Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:52:27.664172Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:52:27.719474Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:52:27.719756Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:52:27.719920Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:52:28.474399Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:52:28.474597Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:52:28.474845Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:52:29.154383Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:54:28.421970Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:54:28.422190Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:54:28.480214Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:54:28.480513Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:54:28.480661Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:54:29.456968Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:54:29.457165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:54:29.457456Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:54:30.131161Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:55:33.183924Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T14:55:33.184180Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T14:55:33.239950Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T14:55:33.240121Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T14:55:53.175442Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T14:55:53.175638Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T14:55:53.225520Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T14:55:53.225775Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T14:55:53.225928Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T14:55:54.197378Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T14:55:54.197635Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T14:55:54.197973Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T14:55:54.904892Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T14:59:16.532859Z", "level": "WARNING", "logger": "src.controller.key_metrics_controller", "message": "get_all_products() returned an empty list or None.", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 231}
{"timestamp": "2025-08-13T14:59:16.533119Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 0 total, 0 available, 0 used, 0 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T15:00:26.159986Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T15:00:26.160167Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T15:00:26.208754Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T15:00:26.208935Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T15:00:26.209057Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T15:00:27.264618Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T15:00:27.264854Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T15:00:27.265190Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T15:00:27.962054Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T15:00:55.865574Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T15:00:55.865818Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T15:00:55.921364Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T15:00:55.921603Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T15:00:57.945748Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T15:00:57.946005Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T15:00:57.995152Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T15:00:57.995415Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T15:00:57.995603Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T15:00:59.671905Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T15:00:59.672066Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T15:00:59.672280Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T15:01:00.339065Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T15:04:46.858800Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T15:04:46.859753Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T15:04:46.917507Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T15:04:46.917708Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T15:04:49.006621Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T15:04:49.006892Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T15:04:49.055161Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T15:04:49.055451Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T15:04:49.055616Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T15:04:50.057138Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T15:04:50.057415Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T15:04:50.057757Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T15:04:50.753463Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T15:05:51.569246Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 01A898007A135643H: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:05:51.740551Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 01A898007A135643H: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:05:54.729236Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5EM999643G0251801: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:05:54.907049Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5EM999643G0251801: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:05:56.877054Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0R931751C0739061J: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:05:57.051981Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0R931751C0739061J: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:00.618342Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6TL97773WW943310F: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:00.791422Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6TL97773WW943310F: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:03.489504Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4A346404RG070490H: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:03.659268Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4A346404RG070490H: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:05.385682Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5K628645PH442444P: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:05.577373Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5K628645PH442444P: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:10.409960Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 38T71892424329627: Recalculated coupon analytics for test3 after patch", "module": "orders", "function": "patch_order", "line": 566}
{"timestamp": "2025-08-13T15:06:18.111672Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 38T71892424329627: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:18.283849Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 38T71892424329627: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:26.738307Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 19K71720JL4852908: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:26.911581Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 19K71720JL4852908: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:29.205012Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 3MF16653A7700592U: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:29.375262Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 3MF16653A7700592U: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:31.108444Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4X110813SP502872F: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:31.281408Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4X110813SP502872F: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:33.899738Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4C073911AW230620K: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:34.084469Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4C073911AW230620K: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:40.260863Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 7VE981744P8496922: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:40.429893Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 7VE981744P8496922: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:42.331753Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 60A58561WL533225V: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:42.500867Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 60A58561WL533225V: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:44.160785Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 9LG46515FG5819745: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:44.329078Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 9LG46515FG5819745: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:06:47.454840Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 04474597UP034311P: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:06:47.624919Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 04474597UP034311P: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:33.073552Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4FU19129T35947734: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:33.242750Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4FU19129T35947734: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:35.797325Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6N992968E75621028: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:35.972170Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6N992968E75621028: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:38.070981Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5UC7710277971121G: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:38.240341Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5UC7710277971121G: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:40.357868Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 8EM463283W086580N: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:40.528251Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 8EM463283W086580N: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:46.100252Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4EW33644FB9178608: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:46.270326Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4EW33644FB9178608: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:51.341586Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 3W962653YJ4299241: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:51.514892Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 3W962653YJ4299241: Recalculated coupon analytics for t after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:53.537035Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6U716084GY5660050: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:53.713023Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6U716084GY5660050: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:07:55.844904Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 2VF98178R6350950A: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 509}
{"timestamp": "2025-08-13T15:07:56.012401Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 2VF98178R6350950A: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 515}
{"timestamp": "2025-08-13T15:11:16.773812Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 0 total, 0 available, 0 used, 0 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T15:11:57.938827Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 3 total, 3 available, 0 used, 1 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T15:17:29.402444Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T15:17:38.378872Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T19:13:43.655352Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 150, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-13T19:50:48.091089Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T19:50:48.092131Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T19:50:48.158572Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T19:50:48.158793Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T19:50:55.814048Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T19:50:55.814261Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T19:50:55.862485Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-13T19:50:55.862786Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T19:50:55.863018Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T19:50:57.865635Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T19:50:57.865939Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T19:50:57.866209Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T19:50:58.574128Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T19:52:14.841144Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T19:52:14.841348Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T19:52:14.897525Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T19:52:14.897784Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T19:52:16.828647Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T19:52:16.828955Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T19:52:16.878137Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-13T19:52:16.878429Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T19:52:16.878657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T19:52:17.811311Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T19:52:17.811584Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T19:52:17.811885Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T19:52:18.517954Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T19:53:03.106248Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-13T19:53:03.106531Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-13T19:53:03.164335Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-13T19:53:03.164592Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-13T19:53:05.178204Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-13T19:53:05.178490Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-13T19:53:05.231693Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-13T19:53:05.232015Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-13T19:53:05.232241Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-13T19:53:05.987279Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-13T19:53:05.987541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-13T19:53:05.987829Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-13T19:53:06.652382Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-13T19:55:48.245958Z", "level": "WARNING", "logger": "src.controller.key_metrics_controller", "message": "get_all_products() returned an empty list or None.", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 231}
{"timestamp": "2025-08-13T19:55:48.246152Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 0 total, 0 available, 0 used, 0 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T20:00:50.388612Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 0 total, 0 available, 0 used, 0 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T20:01:02.941891Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 1 total, 1 available, 0 used, 1 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-13T20:14:30.420003Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 33.00 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 669}
{"timestamp": "2025-08-13T20:14:31.643849Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 7V140261B7780374B", "module": "orders", "function": "create_paypal_order", "line": 672}
{"timestamp": "2025-08-13T20:14:35.468244Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 7V140261B7780374B: Recalculated analytics for coupon family50 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 890}
{"timestamp": "2025-08-15T14:56:38.486328Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T14:56:38.486499Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T14:56:38.541259Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T14:56:38.541913Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T14:56:38.541974Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T14:56:41.261388Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T14:56:41.261463Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T14:56:41.261587Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T14:56:41.950846Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T14:57:06.558820Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T14:57:06.558899Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T14:57:06.616168Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T14:57:06.616258Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T14:57:09.084392Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T14:57:09.084507Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 33}
{"timestamp": "2025-08-15T14:57:09.132858Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 106}
{"timestamp": "2025-08-15T14:57:09.132973Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-15T14:57:09.133030Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T14:57:09.775922Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T14:57:09.776051Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T14:57:09.776178Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 238}
{"timestamp": "2025-08-15T14:57:10.465523Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:03:21.294141Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 243}
{"timestamp": "2025-08-15T15:03:21.294214Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:03:21.355230Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:03:21.355590Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 245}
{"timestamp": "2025-08-15T15:03:24.172456Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:03:24.172569Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:03:24.229806Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:03:24.229945Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:03:24.230008Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:03:25.252303Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:03:25.252386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:03:25.252528Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:03:25.987894Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:04:40.451012Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:04:40.451224Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:04:40.521817Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:04:40.522155Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:04:40.522238Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:04:41.489430Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:04:41.489504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:04:41.489638Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:04:42.176180Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:08:32.623999Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T15:08:32.624091Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:08:32.681952Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:08:32.682037Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T15:08:35.430748Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:08:35.430873Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:08:35.482982Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:08:35.483118Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:08:35.483175Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:08:36.499785Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:08:36.499863Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:08:36.499986Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:08:37.197791Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:09:19.062563Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T15:09:19.062730Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:09:19.120896Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:09:19.120970Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T15:09:21.905282Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:09:21.905410Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:09:21.965447Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:09:21.965568Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:09:21.965626Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:09:22.594443Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:09:22.594521Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:09:22.594654Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:09:23.296187Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:10:43.143909Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-15T15:10:43.143980Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-15T15:10:43.204668Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-15T15:10:43.418362Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-15T15:10:47.172043Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 1 total, 0 available, 1 used, 1 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-15T15:11:37.932851Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T15:11:37.933037Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:11:37.992741Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:11:37.992829Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T15:11:40.286253Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:11:40.286363Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:11:40.336051Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:11:40.336173Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:11:40.336229Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:11:41.036144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:11:41.036242Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:11:41.036396Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:11:41.721217Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:12:54.004291Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T15:12:54.004374Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:12:54.061879Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:12:54.061960Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T15:12:56.547232Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:12:56.547367Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:12:56.600654Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:12:56.600862Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-15T15:12:56.600929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:12:58.091152Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:12:58.091236Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:12:58.091382Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-15T15:12:58.791326Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:13:41.634585Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-15T15:13:41.634697Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:13:41.698126Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:13:41.698281Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-15T15:13:44.368488Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:13:44.368595Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:13:44.417012Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:13:44.417140Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 229}
{"timestamp": "2025-08-15T15:13:44.417196Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:13:45.602323Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:13:45.602406Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:13:45.602527Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 242}
{"timestamp": "2025-08-15T15:13:46.294081Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:13:53.480085Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 247}
{"timestamp": "2025-08-15T15:13:53.480175Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:13:53.537342Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:13:53.537485Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 249}
{"timestamp": "2025-08-15T15:13:55.766819Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:13:55.766937Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:13:55.815071Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:13:55.815196Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-15T15:13:55.815254Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:13:56.451144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:13:56.451424Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:13:56.451745Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-15T15:13:57.137288Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:15:09.373049Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:15:09.373176Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:15:09.422597Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: False)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:15:09.422726Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-15T15:15:09.422789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:15:10.129124Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:15:10.129251Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:15:10.129379Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-15T15:15:10.826010Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:16:58.297919Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-15T15:16:58.297998Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-15T15:16:58.357233Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-15T15:16:58.357311Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-15T15:17:22.767970Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-15T15:17:22.768217Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-15T15:17:22.817632Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-15T15:17:22.817879Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-15T15:17:22.818068Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-15T15:17:24.581856Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-15T15:17:24.582092Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-15T15:17:24.582331Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-15T15:17:25.255301Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-15T15:17:53.040191Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'ttest6', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-15T15:17:53.040389Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=ttest6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-15T15:17:53.106936Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-15T15:17:53.107161Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-15T15:17:53.107306Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-15T15:17:53.107438Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=ttest6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-15T15:17:53.222954Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:17:53.279545Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-15T15:17:53.279760Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-15T15:18:06.599528Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-15T15:18:09.361858Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-15T15:18:09.362067Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-15T15:18:09.418861Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-15T15:18:09.633635Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-15T15:18:20.920967Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-15T15:18:20.921206Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-15T15:18:20.978483Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-15T15:18:20.978661Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-15T15:18:20.978801Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-15T15:18:20.978982Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-15T15:18:21.035154Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-15T15:18:21.035332Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-15T15:18:23.593425Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'ttest6', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-15T15:18:23.593631Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=ttest6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-15T15:18:23.650652Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-15T15:18:23.650852Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-15T15:18:23.650992Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-15T15:18:23.651131Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=ttest6, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-15T15:18:23.766414Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:23.823691Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-15T15:18:23.823920Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-15T15:18:26.349505Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'ttest6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-15T15:18:26.349794Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=ttest6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-15T15:18:26.407471Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-15T15:18:26.407743Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-15T15:18:26.407929Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-15T15:18:26.408092Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=ttest6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-15T15:18:26.522664Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:26.579434Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-15T15:18:26.579621Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-15T15:18:26.761919Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:26.818862Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=4, discount=0.24, net_total=3.76, coupon='ttest6'", "module": "orders", "function": "create_paypal_order", "line": 959}
{"timestamp": "2025-08-15T15:18:26.819097Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 3.76 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 990}
{"timestamp": "2025-08-15T15:18:27.991906Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 78T58677M2547742J", "module": "orders", "function": "create_paypal_order", "line": 993}
{"timestamp": "2025-08-15T15:18:40.552730Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 78T58677M2547742J", "module": "orders", "function": "capture_paypal_order", "line": 1060}
{"timestamp": "2025-08-15T15:18:41.990908Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 78T58677M2547742J. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1064}
{"timestamp": "2025-08-15T15:18:42.218162Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 78T58677M2547742J, Item 689e3f84a511935d7adea6f7: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1117}
{"timestamp": "2025-08-15T15:18:42.218457Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.AWAITING_STOCK, coupon_code='ttest6'", "module": "orders", "function": "capture_paypal_order", "line": 1150}
{"timestamp": "2025-08-15T15:18:42.218621Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for ttest6 (status: StatusEnum.AWAITING_STOCK)", "module": "orders", "function": "capture_paypal_order", "line": 1154}
{"timestamp": "2025-08-15T15:18:42.218787Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon ttest6 for email mrbrownaffiliate@gmail.com, amount 4", "module": "orders", "function": "capture_paypal_order", "line": 1160}
{"timestamp": "2025-08-15T15:18:42.276081Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:42.276291Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1164}
{"timestamp": "2025-08-15T15:18:42.390222Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:42.504758Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:42.564753Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Updated usageCount for coupon 'ttest6' to 1", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 53}
{"timestamp": "2025-08-15T15:18:42.565470Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'ttest6': $0.24 discount", "module": "coupon_service", "function": "apply_coupon", "line": 138}
{"timestamp": "2025-08-15T15:18:42.566172Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Successfully applied coupon ttest6 for order 78T58677M2547742J, discount: 0.24", "module": "orders", "function": "capture_paypal_order", "line": 1173}
{"timestamp": "2025-08-15T15:18:42.624083Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:42.680769Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'ttest6'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 56}
{"timestamp": "2025-08-15T15:18:42.681026Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Coupon object after apply: usageCount=0, maxUses=6", "module": "orders", "function": "capture_paypal_order", "line": 1180}
{"timestamp": "2025-08-15T15:18:42.738342Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'ttest6': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-15T15:18:42.738602Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1184}
{"timestamp": "2025-08-15T15:18:43.025761Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon ttest6", "module": "orders", "function": "capture_paypal_order", "line": 1190}
{"timestamp": "2025-08-16T19:34:52.447844Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T19:34:52.448318Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T19:34:52.506473Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T19:34:52.506655Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T19:34:52.506765Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T19:34:53.926621Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T19:34:53.926870Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T19:34:53.927182Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T19:34:54.603372Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T19:36:54.065037Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-16T19:37:04.176828Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-16T19:37:04.176990Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-16T19:37:04.243033Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-16T19:37:04.456731Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-16T19:51:46.558894Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 3 total, 1 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-16T20:04:55.137156Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test22', 'amount': 5, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:04:55.137378Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:04:55.204473Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:04:55.204669Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:04:55.204810Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:04:55.204970Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:04:55.319745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test22': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-16T20:04:55.377057Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.15, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:04:55.377217Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.15", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:08:12.657419Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test22', 'amount': 5, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:08:12.657707Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:08:12.716201Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:08:12.717384Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:08:12.718316Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:08:12.719042Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:08:12.832225Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test22': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-16T20:08:12.889319Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.15, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:08:12.889582Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.15", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:08:12.932663Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test22', 'amount': 5, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:08:12.932851Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:08:12.990378Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:08:12.990616Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:08:12.990839Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:08:12.991068Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:08:13.105500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test22': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-16T20:08:13.162609Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.15, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:08:13.162963Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.15", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:08:13.730029Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test22', 'amount': 5, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:08:13.730255Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:08:13.787729Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 4", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:08:13.787988Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:08:13.788185Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:08:13.788408Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test22, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:08:13.902513Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test22': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 27}
{"timestamp": "2025-08-16T20:08:13.960420Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.15, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:08:13.960644Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.15", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:19:20.879312Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-16T20:20:01.436664Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-16T20:20:01.436826Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-16T20:20:01.495745Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-16T20:20:01.689270Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-16T20:21:52.704002Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T20:21:52.704331Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:21:52.763961Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:21:52.764407Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:21:56.755444Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:21:56.755666Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T20:21:56.807483Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:21:56.807733Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T20:21:56.807885Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:21:57.807269Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:21:57.807601Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:21:57.807990Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T20:21:58.498808Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:22:09.407983Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T20:22:09.408155Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:22:09.466691Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:22:09.466933Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:22:11.789892Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:22:11.790170Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T20:22:11.842817Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:22:11.843123Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T20:22:11.843285Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:22:12.592637Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:22:12.592910Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:22:12.593152Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T20:22:13.272718Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:22:31.368809Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T20:22:31.369023Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:22:31.425653Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:22:31.425915Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:22:33.500210Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:22:33.500485Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T20:22:33.550504Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:22:33.550791Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T20:22:33.550985Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:22:34.234106Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:22:34.234338Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:22:34.234614Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T20:22:34.925809Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:22:57.001966Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T20:22:57.002180Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:22:57.059124Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:22:57.059350Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:22:59.343094Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:22:59.343326Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T20:22:59.393185Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:22:59.393445Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T20:22:59.393644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:23:00.049252Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:23:00.049503Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:23:00.049797Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T20:23:00.744330Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:23:12.907785Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T20:23:12.907979Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:23:12.968729Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:23:12.968951Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:23:15.236449Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:23:15.236679Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:23:15.288107Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:23:15.288566Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 213}
{"timestamp": "2025-08-16T20:23:15.288762Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:23:15.937963Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:23:15.938200Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:23:15.938514Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 226}
{"timestamp": "2025-08-16T20:23:16.638674Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:23:27.608380Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 231}
{"timestamp": "2025-08-16T20:23:27.608544Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:23:27.667921Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:23:27.668163Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 233}
{"timestamp": "2025-08-16T20:23:29.818871Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:23:29.819073Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:23:29.871629Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:23:29.871967Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:23:29.872156Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:23:30.499952Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:23:30.500158Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:23:30.500381Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:23:31.179442Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:24:43.551454Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 100, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:24:43.551630Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=100, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:24:43.611772Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:24:43.612004Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:24:43.612222Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:24:43.612435Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=100, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:24:43.669884Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:24:43.670095Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:25:17.235339Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:25:17.235566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:25:17.291772Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:25:17.292027Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:25:19.571283Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:25:19.571561Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:25:19.623025Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:25:19.623293Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:25:19.623486Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:25:20.692614Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:25:20.692846Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:25:20.693062Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:25:21.388647Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:25:58.177085Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:25:58.177331Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:25:58.269508Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:25:58.269709Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:26:00.339336Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:26:00.339550Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:26:00.393399Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:26:00.393666Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:26:00.393849Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:26:02.118868Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:26:02.119069Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:26:02.119356Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:26:02.810909Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:26:11.020081Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:26:11.020306Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:26:11.077998Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:26:11.078213Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:26:11.078402Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:26:11.078585Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:26:11.135639Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:26:11.135886Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:26:13.183465Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:26:13.183810Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:26:13.243470Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:26:13.243656Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:26:13.243808Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:26:13.243962Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:26:13.358997Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'shop' has 0 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:26:13.418734Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'admin' has 3 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:26:13.477535Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 0 orders with coupon 'test11' in database 'admin'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:26:13.535301Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'monkeyz' has 2 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:26:13.593814Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 1 orders with coupon 'test11' in database 'monkeyz'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:26:13.594145Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "TOTAL real usage count for coupon 'test11': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 50}
{"timestamp": "2025-08-16T20:26:13.594394Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=11.0, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:26:13.594584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=11.0", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:26:15.638692Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'DISCOUNT10', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:26:15.638935Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=DISCOUNT10, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:26:15.697437Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:26:15.697665Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:26:15.697855Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:26:15.698063Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=DISCOUNT10, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:26:15.755855Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'DISCOUNT10' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:26:15.756064Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'DISCOUNT10' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:26:17.780601Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'SAVE20', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:26:17.780836Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=SAVE20, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:26:17.839199Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:26:17.839427Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:26:17.839691Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:26:17.839928Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=SAVE20, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:26:17.897893Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'SAVE20' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:26:17.898142Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'SAVE20' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:26:34.430247Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:26:34.430453Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:26:34.488649Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:26:34.488864Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:26:36.694247Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:26:36.694494Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:26:36.747515Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:26:36.747800Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:26:36.748025Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:26:37.664249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:26:37.664501Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:26:37.664796Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:26:38.358827Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:27:05.338813Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:27:05.339074Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:27:05.396948Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:27:05.397137Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:27:05.397291Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:27:05.397437Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:27:05.511516Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'shop' has 0 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:27:05.569149Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'admin' has 3 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:27:05.627574Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 0 orders with coupon 'test11' in database 'admin'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:27:05.685821Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'monkeyz' has 2 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:27:05.744309Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 1 orders with coupon 'test11' in database 'monkeyz'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:27:05.744579Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "TOTAL real usage count for coupon 'test11': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 50}
{"timestamp": "2025-08-16T20:27:05.744815Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=11.0, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:27:05.744994Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=11.0", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:29:02.517755Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:29:02.517993Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:29:02.575966Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:29:02.576213Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:29:04.822530Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:29:04.822801Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:29:04.873510Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:29:04.873791Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:29:04.874001Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:29:05.515091Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:29:05.515422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:29:05.515997Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:29:06.202774Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:29:43.221610Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:29:43.221874Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:29:43.278350Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:29:43.278568Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:29:45.628366Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:29:45.628578Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:29:45.679849Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:29:45.680087Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:29:45.680256Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:29:47.133018Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:29:47.133267Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:29:47.133570Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:29:47.816942Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:30:17.218949Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:30:17.219157Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:30:17.276980Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:30:17.277321Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:30:19.526975Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:30:19.527175Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:30:19.578889Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:30:19.579105Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:30:19.579253Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:30:20.464179Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:30:20.464378Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:30:20.464583Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:30:21.146356Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:31:48.357649Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:31:48.357999Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:31:48.415130Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:31:48.415380Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:31:50.697719Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:31:50.697991Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:31:50.749843Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:31:50.750114Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:31:50.750337Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:31:52.366137Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:31:52.366399Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:31:52.366715Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:31:53.097748Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:32:06.894418Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:32:06.894575Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:32:06.951783Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:32:06.951989Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:32:06.952151Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:32:06.952285Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:32:07.064745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'shop' has 0 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:07.121832Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'admin' has 3 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:07.180595Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 0 orders with coupon 'test11' in database 'admin'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:32:07.237993Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'monkeyz' has 2 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:07.296737Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 1 orders with coupon 'test11' in database 'monkeyz'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:32:07.297734Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "TOTAL real usage count for coupon 'test11': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 50}
{"timestamp": "2025-08-16T20:32:07.298775Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=11.0, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:32:07.299702Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=11.0", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:32:09.360586Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test9', 'amount': 50}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:32:09.360876Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test9, amount=50, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:32:09.419580Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:32:09.420525Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:32:09.421407Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:32:09.422386Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test9, amount=50, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:32:09.479667Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon expired.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:32:09.479912Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon expired.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:32:11.527414Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'INVALID', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:32:11.527642Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=INVALID, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:32:11.585451Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:32:11.585660Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:32:11.585848Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:32:11.586017Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=INVALID, amount=100, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:32:11.642754Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'INVALID' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:32:11.642993Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'INVALID' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-16T20:32:13.682286Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 10}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-16T20:32:13.682532Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=10, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-16T20:32:13.739243Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 5", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-16T20:32:13.739481Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-16T20:32:13.739691Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-16T20:32:13.739872Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=10, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-16T20:32:13.855008Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'shop' has 0 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:13.912042Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'admin' has 3 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:13.969783Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 0 orders with coupon 'test11' in database 'admin'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:32:14.027113Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Database 'monkeyz' has 2 total orders", "module": "coupon_service", "function": "get_real_usage_count", "line": 34}
{"timestamp": "2025-08-16T20:32:14.084415Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found 1 orders with coupon 'test11' in database 'monkeyz'", "module": "coupon_service", "function": "get_real_usage_count", "line": 42}
{"timestamp": "2025-08-16T20:32:14.084659Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "TOTAL real usage count for coupon 'test11': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 50}
{"timestamp": "2025-08-16T20:32:14.084905Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=1.1, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-16T20:32:14.085121Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=1.1", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-16T20:32:32.847913Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:32:32.848070Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:32:32.905614Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:32:32.905773Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:32:34.903145Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:32:34.903347Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:32:34.954286Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:32:34.954590Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:32:34.954750Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:32:35.930313Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:32:35.930541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:32:35.930764Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:32:36.607373Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:33:04.114764Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 135, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-16T20:33:05.646874Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-16T20:33:05.647063Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-16T20:33:05.705274Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-16T20:33:05.915866Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-16T20:38:52.846274Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:38:52.846446Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:38:52.905647Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:38:52.905823Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:41:26.486280Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:41:26.486538Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:41:26.535088Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:41:26.535423Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:41:26.535634Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:41:31.372762Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:41:31.373248Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:41:31.373693Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:41:32.083244Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:41:55.600660Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 3 total, 0 available, 3 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-16T20:42:09.078622Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:42:09.078831Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:42:09.137648Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:42:09.137849Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:42:11.374420Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:42:11.374615Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:42:11.424178Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:42:11.424472Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:42:11.424711Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:42:12.283789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:42:12.283973Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:42:12.284182Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:42:12.975296Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:42:29.345640Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:42:29.345888Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:42:29.407202Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:42:29.407373Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:42:32.329669Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:42:32.329920Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 37}
{"timestamp": "2025-08-16T20:42:32.381958Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:42:32.382163Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 214}
{"timestamp": "2025-08-16T20:42:32.382318Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:42:33.399257Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:42:33.399463Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:42:33.399698Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 227}
{"timestamp": "2025-08-16T20:42:34.081785Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T20:43:38.469780Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T20:43:38.469956Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T20:43:38.527482Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T20:43:38.527704Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 234}
{"timestamp": "2025-08-16T20:43:42.897824Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T20:43:42.898266Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T20:43:42.963022Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T20:43:42.963357Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T20:43:42.963533Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T20:43:43.941238Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T20:43:43.941540Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T20:43:43.941823Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T20:43:44.618896Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:25:00.989826Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:25:00.990097Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:25:01.048407Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:25:01.048679Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:25:05.694802Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:25:05.695032Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:25:05.751053Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:25:05.751268Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:25:05.751410Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:25:07.998054Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:25:07.998291Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:25:07.998560Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:25:08.688212Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:25:11.116630Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:25:11.116855Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:25:11.173255Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:25:11.173454Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:25:13.493288Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:25:13.493481Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:25:13.544672Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:25:13.544900Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:25:13.545068Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:25:14.226857Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:25:14.227122Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:25:14.227426Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:25:14.922953Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:25:42.827575Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-16T21:26:26.687244Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:26:26.687422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:26:26.744449Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:26:26.744715Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:26:29.053602Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:26:29.053830Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:26:29.107053Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:26:29.107317Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:26:29.107504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:26:29.835313Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:26:29.835535Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:26:29.835806Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:26:30.515393Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:26:36.200714Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:26:36.200991Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:26:36.258375Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:26:36.258643Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:26:38.581399Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:26:38.581582Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:26:38.631946Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:26:38.632204Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:26:38.632425Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:26:39.295457Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:26:39.295706Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:26:39.295943Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:26:40.002696Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:27:32.778467Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:27:32.778637Z", "level": "INFO", "logger": "__main__", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:27:32.854717Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:27:32.854933Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:27:32.910570Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:27:32.910791Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:27:32.910925Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:27:33.804820Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:27:33.805018Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:27:33.805258Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:27:34.536328Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:27:43.796526Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-16T21:27:54.615354Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-16T21:27:54.615532Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-16T21:27:54.674537Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-16T21:27:54.886877Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-16T21:30:23.862523Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:30:23.862726Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:30:23.914760Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:30:23.914948Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:30:23.915072Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:30:25.015818Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:30:25.016078Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:30:25.016385Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:30:25.697326Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:33:13.470276Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:33:13.470476Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:33:13.527577Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:33:13.527787Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:33:24.145541Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:33:24.145749Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:33:24.197081Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:33:24.197298Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:33:24.197454Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:33:25.098360Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:33:25.098572Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:33:25.098879Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:33:25.772106Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:34:04.767721Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:34:04.767909Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:34:04.825848Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:34:04.826189Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:34:18.623013Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:34:18.623243Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:34:18.674947Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:34:18.675252Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:34:18.675388Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:34:19.578346Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:34:19.578522Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:34:19.578747Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:34:20.283137Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:34:45.734646Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-16T21:34:45.734904Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-16T21:34:45.794167Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-16T21:34:45.794389Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-16T21:35:21.565677Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:35:21.565990Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:35:21.618605Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:35:21.618853Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:35:21.619012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:35:22.324189Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:35:22.324364Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:35:22.324605Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:35:22.995529Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-16T21:47:30.192306Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-16T21:47:30.208670Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-16T21:47:30.259058Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-16T21:47:30.259306Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-16T21:47:30.259502Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-16T21:47:32.792206Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-16T21:47:32.792426Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-16T21:47:32.792721Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-16T21:47:33.473041Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-17T10:24:10.436089Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-17T10:24:10.436591Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-17T10:24:10.487013Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-17T10:24:10.487193Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-17T10:24:10.487299Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-17T10:24:13.259848Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-17T10:24:13.260086Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-17T10:24:13.260372Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-17T10:24:13.971017Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-17T10:30:45.011503Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-17T10:41:30.953196Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'tets3', 'amount': 5, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T10:41:30.953376Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=tets3, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T10:41:31.023940Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T10:41:31.024172Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T10:41:31.024352Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T10:41:31.024518Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=tets3, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T10:41:31.082907Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'tets3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T10:41:31.083171Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'tets3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-17T10:41:33.988166Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'tets2', 'amount': 5, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T10:41:33.988371Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=tets2, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T10:41:34.045472Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T10:41:34.045676Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T10:41:34.045845Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T10:41:34.046008Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=tets2, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T10:41:34.102462Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'tets2' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T10:41:34.102690Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'tets2' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-17T10:41:36.632128Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'tets1', 'amount': 5, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T10:41:36.632307Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=tets1, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T10:41:36.691140Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T10:41:36.691323Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T10:41:36.691470Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T10:41:36.691626Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=tets1, amount=5, email=None", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T10:41:36.752429Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'tets1' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T10:41:36.752707Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'tets1' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-08-17T10:52:47.982326Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-17T10:52:47.982561Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-17T10:52:48.042350Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-17T10:52:48.262115Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-17T10:52:56.844371Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 4 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-08-17T10:53:02.285733Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T10:53:02.285950Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T10:53:02.351098Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T10:53:02.351349Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T10:53:02.351572Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T10:53:02.351798Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T10:53:02.468433Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T10:53:02.526042Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T10:53:02.526276Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T10:53:05.914252Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T10:53:05.914506Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T10:53:05.972059Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T10:53:05.972235Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T10:53:05.972383Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T10:53:05.972527Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T10:53:06.090246Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T10:53:06.147764Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T10:53:06.147954Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T10:53:06.388704Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T10:53:06.446685Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=9, discount=0.36, net_total=8.64, coupon='test1'", "module": "orders", "function": "create_paypal_order", "line": 959}
{"timestamp": "2025-08-17T10:53:06.446905Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 8.64 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 990}
{"timestamp": "2025-08-17T10:53:07.538952Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 35X12055WW233694N", "module": "orders", "function": "create_paypal_order", "line": 993}
{"timestamp": "2025-08-17T10:53:11.037251Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 35X12055WW233694N: Recalculated analytics for coupon test1 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 1315}
{"timestamp": "2025-08-17T11:54:17.015317Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-17T11:54:17.015549Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-17T11:54:17.073518Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-17T11:54:17.073783Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-17T11:54:21.771639Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-17T11:54:21.771890Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-17T11:54:21.820131Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-17T11:54:21.820442Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-17T11:54:21.820629Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-17T11:54:24.473900Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-17T11:54:24.474110Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-17T11:54:24.474360Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-17T11:54:25.187068Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-17T11:55:35.821869Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-17T11:55:35.822074Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-17T11:55:35.877988Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-17T11:55:35.878221Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-17T11:55:38.382410Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-17T11:55:38.382623Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-17T11:55:38.432587Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-17T11:55:38.432815Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-17T11:55:38.432960Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-17T11:55:39.334688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-17T11:55:39.334876Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-17T11:55:39.335125Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-17T11:55:40.035315Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-08-17T11:55:44.695677Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:55:44.695872Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:55:44.764240Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:55:44.764482Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:55:44.764717Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:55:44.764939Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:55:44.881050Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:55:44.938009Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:55:44.938305Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:56:05.468070Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/admin/products", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-17T11:56:08.029143Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-08-17T11:56:11.818651Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-08-17T11:56:11.818905Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-08-17T11:56:11.876684Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-08-17T11:56:12.091415Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-08-17T11:56:20.928395Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:56:20.928638Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:56:20.987035Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:56:20.987521Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:56:20.987883Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:56:20.988166Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:56:21.101876Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:56:21.159009Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:56:21.159212Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:56:21.259649Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:56:21.259844Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:56:21.323890Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:56:21.324088Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:56:21.324260Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:56:21.324439Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:56:21.438972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:56:21.496195Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:56:21.496394Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:57:33.090947Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:57:33.091206Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:57:33.148243Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:57:33.148497Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:57:33.148733Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:57:33.148922Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:57:33.261457Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:57:33.318354Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:57:33.318589Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:57:34.768098Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:57:34.768291Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:57:34.825594Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:57:34.825809Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:57:34.826002Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:57:34.826221Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:57:34.939346Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:57:34.996506Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:57:34.996717Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:57:38.791613Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:57:38.791835Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:57:38.848282Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:57:38.848527Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:57:38.848739Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:57:38.848918Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:57:38.961745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:57:38.961963Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.27, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:57:38.962203Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.27", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T11:57:39.771554Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T11:57:39.771758Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T11:57:39.828564Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T11:57:39.828758Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T11:57:39.828931Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T11:57:39.829099Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T11:57:39.941290Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T11:57:39.941509Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.27, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T11:57:39.941730Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.27", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:02:47.691543Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T12:02:47.691760Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T12:02:47.752704Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T12:02:47.752977Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T12:02:47.753177Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T12:02:47.753395Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T12:02:47.869932Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T12:02:47.927824Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T12:02:47.928055Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:02:51.165178Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T12:02:51.165389Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T12:02:51.224058Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T12:02:51.224254Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T12:02:51.224391Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T12:02:51.224534Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T12:02:51.341766Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T12:02:51.341996Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.27, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T12:02:51.342146Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.27", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:05:56.326497Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T12:05:56.326664Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T12:05:56.384185Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T12:05:56.384368Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T12:05:56.384554Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T12:05:56.384749Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T12:05:56.499462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T12:05:56.557335Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T12:05:56.557577Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:05:58.890097Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T12:05:58.890325Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T12:05:58.948385Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T12:05:58.948653Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T12:05:58.948922Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T12:05:58.949142Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T12:05:59.063400Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T12:05:59.063653Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.27, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T12:05:59.063848Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.27", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:06:01.134822Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test1', 'amount': 9, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-08-17T12:06:01.135030Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-08-17T12:06:01.192352Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-08-17T12:06:01.192562Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-08-17T12:06:01.192742Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-08-17T12:06:01.192911Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test1, amount=9, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-08-17T12:06:01.307271Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test1': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-08-17T12:06:01.364263Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.36, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-08-17T12:06:01.364477Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.36", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-08-17T12:19:17.100169Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-08-17T12:19:17.100675Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-08-17T12:19:17.160621Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-08-17T12:19:17.160897Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-08-17T12:19:21.999318Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-08-17T12:19:21.999555Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-08-17T12:19:22.062859Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-08-17T12:19:22.063114Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-08-17T12:19:22.063293Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-08-17T12:19:23.148985Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-08-17T12:19:23.149250Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-08-17T12:19:23.149575Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-08-17T12:19:23.862155Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T07:53:13.880532Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T07:53:13.910108Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T07:53:13.967584Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T07:53:13.967769Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T07:53:13.967935Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T07:53:19.766856Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 1): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b550eaec242f09907189c5, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:53:26.884962Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 2): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b550f1ec242f09907189c6, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:53:36.023557Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 3): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b550faec242f09907189c7, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:53:49.176637Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 4): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b55108ec242f09907189c8, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:54:10.272959Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 5): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b5511dec242f09907189c9, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:54:47.664212Z", "level": "WARNING", "logger": "src.lib.database_manager", "message": "Database connection failed (attempt 6): No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b55142ec242f09907189ca, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "database_manager", "function": "connect", "line": 191}
{"timestamp": "2025-09-01T07:54:47.741410Z", "level": "ERROR", "logger": "error_tracker", "message": "Exception occurred: ServerSelectionTimeoutError: No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b55142ec242f09907189ca, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "module": "logging_config", "function": "capture_exception", "line": 196, "exception": {"type": "ServerSelectionTimeoutError", "message": "No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b55142ec242f09907189ca, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py\", line 163, in connect\n    await self.client.admin.command('ping')\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\concurrent\\futures\\thread.py\", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\_csot.py\", line 120, in csot_wrapper\n    return func(self, *args, **kwargs)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\database.py\", line 906, in command\n    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (\n         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1701, in _conn_for_reads\n    server = self._select_server(read_preference, session, operation)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\mongo_client.py\", line 1649, in _select_server\n    server = topology.select_server(\n        server_selector,\n    ...<2 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 397, in select_server\n    server = self._select_server(\n        selector,\n    ...<4 lines>...\n        operation_id=operation_id,\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 375, in _select_server\n    servers = self.select_servers(\n        selector, operation, server_selection_timeout, address, operation_id\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 282, in select_servers\n    server_descriptions = self._select_servers_loop(\n        selector, server_timeout, operation, operation_id, address\n    )\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\pymongo\\synchronous\\topology.py\", line 332, in _select_servers_loop\n    raise ServerSelectionTimeoutError(\n        f\"{self._error_message(selector)}, Timeout: {timeout}s, Topology Description: {self.description!r}\"\n    )\npymongo.errors.ServerSelectionTimeoutError: No replica set members found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68b55142ec242f09907189ca, topology_type: ReplicaSetNoPrimary, servers: [<ServerDescription ('mongodb1-0622d3f8.mongo.ondigitalocean.com', 27017) server_type: Unknown, rtt: None>]>"}}
{"timestamp": "2025-09-01T07:54:47.913759Z", "level": "ERROR", "logger": "src.lib.database_manager", "message": "Database initialization failed", "module": "database_manager", "function": "initialize_database", "line": 342}
{"timestamp": "2025-09-01T07:54:47.914154Z", "level": "ERROR", "logger": "main", "message": "Failed to initialize database connection", "module": "main", "function": "startup_event", "line": 216}
{"timestamp": "2025-09-01T07:55:36.409800Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T07:55:36.410069Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T07:55:36.477769Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T07:55:36.478340Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T07:55:36.478899Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T07:55:37.408008Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T07:55:37.408232Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T07:55:37.408499Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T07:55:38.155061Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:02:22.327849Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:02:22.328107Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:02:22.387137Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:02:22.388048Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:02:25.734239Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:02:25.734497Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:02:25.785217Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:02:25.785471Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:02:25.785717Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:02:27.609942Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:02:27.610122Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:02:27.610336Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:02:28.294862Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:03:11.825365Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:03:11.825662Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:03:11.890400Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:03:11.890631Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:03:14.374260Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:03:14.374680Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:03:14.436775Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:03:14.437048Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:03:14.437260Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:03:15.107153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:03:15.107367Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:03:15.107638Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:03:15.829691Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:05:52.575685Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:05:52.575930Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:05:52.633231Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:05:52.633505Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:05:54.745210Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:05:54.745421Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:05:54.794206Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:05:54.794468Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:05:54.794690Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:05:55.595306Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:05:55.595552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:05:55.595820Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:05:56.290207Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:07:58.107900Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T08:07:58.108148Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T08:07:58.167444Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T08:07:58.386613Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T08:19:50.689396Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:19:50.690357Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:19:50.750145Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:19:50.751060Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:19:53.434679Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:19:53.434997Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:19:53.486943Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:19:53.487237Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:19:53.487453Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:19:54.581161Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:19:54.581386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:19:54.581721Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:19:55.323041Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:20:39.461028Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:20:39.461191Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:20:39.518026Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:20:39.518201Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:20:41.584138Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:20:41.584318Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:20:41.633847Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:20:41.634144Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:20:41.634336Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:20:42.305232Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:20:42.305432Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:20:42.305722Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:20:43.016923Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:20:52.291269Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:20:52.291509Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:20:52.354569Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:20:52.354793Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:20:54.344759Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:20:54.344972Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:20:54.394667Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:20:54.394882Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:20:54.395021Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:20:55.158506Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:20:55.159006Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:20:55.159281Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:20:55.870679Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:21:36.747045Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:21:36.747204Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:21:36.811643Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:21:36.811920Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:21:38.841549Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:21:38.841865Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:21:38.901179Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:21:38.901405Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:21:38.901604Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:21:39.548187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:21:39.548447Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:21:39.548808Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:21:40.241356Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:21:53.929793Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:21:53.930003Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:21:53.985498Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:21:53.985723Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:21:56.044932Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:21:56.045213Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:21:56.093523Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:21:56.093804Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:21:56.094002Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:21:56.833153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:21:56.833362Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:21:56.833609Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:21:57.525591Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:22:57.701160Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:22:57.701329Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:22:57.757376Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:22:57.757626Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:23:00.106085Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:23:00.106314Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:23:00.168038Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:23:00.168267Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:23:00.168410Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:23:01.857014Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:23:01.857275Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:23:01.857544Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:23:02.530947Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:40:01.965281Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:40:01.965525Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:40:02.022032Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:40:02.022251Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:40:04.390639Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:40:04.390847Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:40:04.446459Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:40:04.446896Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:40:04.447185Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:40:05.485392Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:40:05.485642Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:40:05.485926Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:40:06.164948Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:40:18.204290Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:40:18.204504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:40:18.261001Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:40:18.261282Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:40:20.715735Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:40:20.715970Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:40:20.764945Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:40:20.765235Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:40:20.765460Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:40:21.436657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:40:21.436911Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:40:21.437195Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:40:22.145615Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:40:32.202536Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:40:32.202804Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:40:32.262757Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:40:32.263386Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:40:34.817682Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:40:34.817962Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:40:34.869317Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:40:34.869531Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:40:34.869665Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:40:35.500638Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:40:35.500916Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:40:35.501177Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:40:36.196698Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:41:45.684834Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:41:45.685030Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:41:45.741693Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:41:45.741905Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:41:48.203249Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:41:48.203492Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:41:48.253970Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:41:48.254183Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:41:48.254315Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:41:49.114760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:41:49.115044Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:41:49.115361Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:41:49.854757Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:44:06.711138Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:44:06.711343Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:44:06.778833Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:44:06.779717Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:44:10.399540Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:44:10.399852Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:44:10.450699Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:44:10.450913Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:44:10.451059Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:44:11.429220Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:44:11.429455Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:44:11.429710Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:44:12.133169Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:55:47.021592Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:55:47.021835Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:55:47.078588Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:55:47.078826Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:55:49.847299Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:55:49.847523Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:55:49.897406Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:55:49.897638Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:55:49.897822Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:55:50.913713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:55:50.913913Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:55:50.914180Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:55:51.647501Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T08:58:39.498461Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T08:58:39.498764Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T08:58:39.555847Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T08:58:39.556225Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T08:58:42.820576Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T08:58:42.820841Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T08:58:42.871055Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T08:58:42.871302Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T08:58:42.871474Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T08:58:43.909779Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T08:58:43.911416Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T08:58:43.913367Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T08:58:44.634116Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T09:23:14.559668Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T09:23:14.560087Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T09:23:14.662960Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T09:23:14.663425Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T09:23:14.663657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T09:23:15.623235Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T09:23:15.623625Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T09:23:15.624137Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T09:23:16.322223Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T09:27:08.891380Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T09:27:08.891991Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T09:27:08.951320Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T09:27:08.952147Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T09:27:12.003469Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T09:27:12.003996Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T09:27:12.098821Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T09:27:12.099117Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T09:27:12.099272Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T09:27:13.175777Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T09:27:13.175960Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T09:27:13.176172Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T09:27:13.883532Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T10:11:38.189135Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T10:11:43.819824Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:11:43.820056Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:11:43.876893Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:11:43.877098Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:11:43.877304Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:11:43.877538Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:11:43.990586Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:11:44.046931Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:11:44.047198Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:11:51.266709Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:11:51.266941Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:11:51.324356Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:11:51.324559Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:11:51.324741Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:11:51.324882Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:11:51.536647Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:11:51.595291Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:11:51.596218Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:11:52.551388Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:11:52.551572Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:11:52.608821Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:11:52.608966Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:11:52.609098Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:11:52.609240Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:11:52.722931Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:11:52.781733Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:11:52.782677Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:12:08.228040Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:12:08.228203Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:12:08.283863Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:12:08.284023Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:12:08.284161Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:12:08.284323Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:12:08.397673Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:12:08.455303Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:12:08.456215Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:37.990701Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:37.990853Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:38.048941Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:38.049843Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:38.050769Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:38.051715Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:38.169054Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:38.226621Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:38.226871Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:38.322272Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:38.322438Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:38.378951Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:38.379324Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:38.379680Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:38.380033Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:38.494652Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:38.552297Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:38.553231Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:42.845398Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:42.845608Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:42.902936Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:42.903085Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:42.903223Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:42.903375Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:43.017516Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:43.076234Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:43.077142Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:44.809841Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:44.810023Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:44.867888Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:44.868111Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:44.868286Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:44.868442Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:44.981323Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:45.039351Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:45.040304Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:47.567689Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.co\u05e6'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:47.567851Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.co\u05e6", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:47.625334Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:47.626242Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:47.627134Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:47.627836Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.co\u05e6", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:47.739723Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:47.798938Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:47.799168Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:49.775947Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:49.776170Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:49.833242Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:49.833407Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:49.833566Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:49.833729Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:49.945979Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:50.003012Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:50.003236Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:13:52.826633Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:13:52.826842Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:13:52.884629Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:13:52.885588Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:13:52.886526Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:13:52.887440Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:13:53.000998Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:13:53.057014Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:13:53.057282Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:14:03.810385Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T10:14:10.460706Z", "level": "INFO", "logger": "root", "message": "[Google OAuth] Attempting Google login/signup", "module": "users_router", "function": "google_login", "line": 108}
{"timestamp": "2025-09-01T10:14:10.720752Z", "level": "INFO", "logger": "root", "message": "[Google OAuth] Existing user logged in: mrbrownaffiliate@gmail.com", "module": "users_router", "function": "google_login", "line": 169}
{"timestamp": "2025-09-01T10:14:16.955524Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:14:16.955666Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:14:17.021104Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:14:17.022011Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:14:17.022918Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:14:17.023884Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:14:17.088277Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test7' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:14:17.088464Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test7' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-09-01T10:14:22.144286Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:14:22.144456Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:14:22.207924Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:14:22.208186Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:14:22.208424Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:14:22.208610Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:14:22.335712Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:14:22.401169Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:14:22.402213Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:16:12.417754Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T10:16:12.417974Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T10:16:12.482537Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T10:16:12.695690Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T10:16:30.460558Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:16:30.460744Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:16:30.525126Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:16:30.525326Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:16:30.525502Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:16:30.525682Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:16:30.655067Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:16:30.720385Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:16:30.721311Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:21:14.243353Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722073936}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:21:14.243562Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:21:14.309530Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:21:14.310435Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:21:14.311353Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:21:14.312292Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:21:14.444063Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:21:14.509895Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:21:14.510808Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:21:21.507284Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722081504}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:21:21.507496Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:21:21.570819Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:21:21.571004Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:21:21.571161Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:21:21.571363Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:21:21.634272Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test5' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:21:21.634513Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test5' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-09-01T10:23:06.881464Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'rest', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722186877}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:23:06.881613Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=rest, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:23:06.939792Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:23:06.939979Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:23:06.940161Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:23:06.940351Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=rest, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:23:06.996695Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'rest' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:23:06.996908Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'rest' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-09-01T10:23:35.185827Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722215182}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:23:35.186110Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:23:35.243785Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:23:35.243964Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:23:35.244108Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:23:35.244290Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:23:35.357373Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test6': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:23:35.414240Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:23:35.414433Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:23:49.145007Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 6 total, 0 available, 6 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-01T10:23:53.302195Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6YN13238WY029661G: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 822}
{"timestamp": "2025-09-01T10:23:53.684257Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6YN13238WY029661G: Recalculated coupon analytics for test6 after deletion", "module": "orders", "function": "delete_order", "line": 828}
{"timestamp": "2025-09-01T10:23:56.126674Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6EY59513PJ199045U: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 822}
{"timestamp": "2025-09-01T10:23:56.506087Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 6EY59513PJ199045U: Recalculated coupon analytics for test6 after deletion", "module": "orders", "function": "delete_order", "line": 828}
{"timestamp": "2025-09-01T10:23:58.628143Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0H913257XF609644Y: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 822}
{"timestamp": "2025-09-01T10:23:58.971001Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0H913257XF609644Y: Recalculated coupon analytics for test6 after deletion", "module": "orders", "function": "delete_order", "line": 828}
{"timestamp": "2025-09-01T10:24:01.143870Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 1AE75470F83362747: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 822}
{"timestamp": "2025-09-01T10:24:01.486960Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 1AE75470F83362747: Recalculated coupon analytics for test6 after deletion", "module": "orders", "function": "delete_order", "line": 828}
{"timestamp": "2025-09-01T10:24:03.722751Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4XU30186SR596950F: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 822}
{"timestamp": "2025-09-01T10:24:04.104210Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4XU30186SR596950F: Recalculated coupon analytics for test6 after deletion", "module": "orders", "function": "delete_order", "line": 828}
{"timestamp": "2025-09-01T10:24:07.605631Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 6 total, 6 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-01T10:24:35.766711Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722275460}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:24:35.766989Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:24:35.830945Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:24:35.831233Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:24:35.831486Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:24:35.831741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:24:35.957829Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:24:36.021622Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:24:36.021862Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:24:43.968855Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com', 'checkLimits': True, 'timestamp': 1756722283965}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:24:43.969094Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:24:44.032964Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:24:44.033179Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:24:44.033397Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:24:44.033582Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:24:44.162267Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:24:44.228520Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:24:44.229429Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:31:33.619824Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T10:31:33.620456Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T10:31:33.676556Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T10:31:33.676805Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T10:31:33.677092Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T10:31:34.891585Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T10:31:34.892653Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T10:31:34.893876Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T10:31:35.601513Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T10:36:34.477967Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:36:34.478998Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:36:34.546135Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:36:34.546367Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:36:34.546594Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:36:34.546811Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:36:34.673446Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:36:34.737077Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:36:34.737320Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:36:37.084951Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:36:37.085113Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:36:37.143602Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:36:37.143870Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:36:37.144064Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:36:37.144260Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:36:37.257451Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:36:37.314759Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:36:37.314976Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:36:50.328682Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:36:50.328845Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:36:50.386004Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:36:50.386250Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:36:50.386490Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:36:50.386722Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:36:50.500707Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:36:50.557851Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:36:50.558123Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:36:57.550786Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:36:57.615116Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.24, net_total=7.76, coupon='test3'", "module": "orders", "function": "create_paypal_order", "line": 959}
{"timestamp": "2025-09-01T10:36:57.615394Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.76 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 990}
{"timestamp": "2025-09-01T10:36:58.759698Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4CK58444CN784512G", "module": "orders", "function": "create_paypal_order", "line": 993}
{"timestamp": "2025-09-01T10:37:13.732537Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:37:13.732699Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:37:13.797151Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:37:13.797432Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:37:13.797705Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:37:13.797997Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:37:13.926955Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:37:13.992400Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:37:13.993329Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:39:43.213584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:39:43.214752Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:39:43.273438Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:39:43.273700Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:39:43.273942Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:39:43.274188Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:39:43.390264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:39:43.450708Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:39:43.451751Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:39:43.757045Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:39:43.757269Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:39:43.814795Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:39:43.815069Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:39:43.815335Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:39:43.815637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:39:43.929797Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:39:43.987148Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:39:43.987334Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:39:48.613508Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:39:48.613659Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:39:48.670962Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:39:48.671246Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:39:48.671516Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:39:48.671836Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:39:48.788125Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:39:48.847284Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:39:48.848264Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:43:31.674164Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:43:31.674375Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:43:31.737079Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:43:31.738043Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:43:31.738943Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:43:31.739875Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:43:31.854305Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:43:31.911097Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:43:31.911287Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:43:35.924507Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:43:35.924677Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:43:35.981114Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:43:35.981308Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:43:35.981516Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:43:35.981715Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:43:36.094004Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:43:36.150535Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:43:36.150775Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:43:36.478448Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T10:43:36.478607Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T10:43:36.540784Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T10:43:36.540987Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T10:43:36.541136Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T10:43:36.541277Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T10:43:36.653902Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T10:43:36.710046Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T10:43:36.710253Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T10:59:15.745783Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T10:59:15.988687Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T11:58:25.226301Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 5, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T11:58:25.226584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 190}
{"timestamp": "2025-09-01T11:58:25.301360Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 206}
{"timestamp": "2025-09-01T11:58:25.302307Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 209}
{"timestamp": "2025-09-01T11:58:25.303231Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 216}
{"timestamp": "2025-09-01T11:58:25.304173Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=5, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 226}
{"timestamp": "2025-09-01T11:58:25.368726Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 228}
{"timestamp": "2025-09-01T11:58:25.368952Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 237}
{"timestamp": "2025-09-01T12:00:48.903972Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:00:48.904233Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:00:48.953617Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:00:48.953866Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:00:48.954056Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:00:50.090908Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:00:50.091179Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:00:50.091493Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:00:50.875389Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:01:08.319874Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:01:08.320683Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:01:08.378215Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:01:08.378460Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:01:16.826536Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:01:16.826730Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:01:16.876374Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:01:16.876590Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:01:16.876736Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:01:17.561595Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:01:17.561789Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:01:17.562013Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:01:18.258715Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:01:39.572474Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:01:39.572713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:01:39.633493Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:01:39.634400Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:05:32.531260Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:05:32.531512Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:05:32.580597Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:05:32.580774Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:05:32.580929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:05:33.476768Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:05:33.477005Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:05:33.477302Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:05:34.225022Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:06:01.339434Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:06:01.339621Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:06:01.404226Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:06:01.404454Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:06:10.537313Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:06:10.537543Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:06:10.586528Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:06:10.586732Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:06:10.586888Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:06:11.240887Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:06:11.241118Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:06:11.241360Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:06:11.977613Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:06:28.479336Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:06:28.480437Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:06:28.537232Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:06:28.537473Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:07:39.693084Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:07:39.693307Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:07:39.742409Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:07:39.742622Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:07:39.742832Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:07:40.805184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:07:40.805440Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:07:40.805703Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:07:41.492817Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:09:43.225535Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T12:09:43.225757Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T12:09:43.286290Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T12:09:43.510409Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T12:09:46.234484Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 3 total, 3 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-01T12:09:56.654016Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4CK58444CN784512G: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 846}
{"timestamp": "2025-09-01T12:09:56.826053Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 4CK58444CN784512G: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 852}
{"timestamp": "2025-09-01T12:10:05.611761Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'TEST3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:10:05.611957Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=TEST3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:10:05.679801Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:10:05.680741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:10:05.681899Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:10:05.683067Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=TEST3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:10:05.800252Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:10:05.858447Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:10:05.859365Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:10:09.350146Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:10:09.350319Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:10:09.407314Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:10:09.407583Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:10:09.407807Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:10:09.408013Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:10:09.522335Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:10:09.579381Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:10:09.579586Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:10:11.983537Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:10:11.983753Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:10:12.040128Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:10:12.040314Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:10:12.040482Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:10:12.040679Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:10:12.096540Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:10:12.096735Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test4' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T12:10:14.702060Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:10:14.702232Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:10:14.759153Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:10:14.759351Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:10:14.759525Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:10:14.759766Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:10:14.873530Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:10:14.931133Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:10:14.931409Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:11:21.547165Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:11:21.547381Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:11:21.604644Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:11:21.604838Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:11:21.605009Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:11:21.605149Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:11:21.718980Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:21.719152Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:11:21.719300Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:11:24.340033Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:24.397867Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.56, net_total=7.4399999999999995, coupon='test7'", "module": "orders", "function": "create_paypal_order", "line": 983}
{"timestamp": "2025-09-01T12:11:24.398892Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.44 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1014}
{"timestamp": "2025-09-01T12:11:25.470117Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 1BN25826RY962151N", "module": "orders", "function": "create_paypal_order", "line": 1017}
{"timestamp": "2025-09-01T12:11:35.843253Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 1BN25826RY962151N: Recalculated analytics for coupon test7 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 1339}
{"timestamp": "2025-09-01T12:11:42.455249Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:11:42.455479Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:11:42.512577Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:11:42.513619Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:11:42.514542Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:11:42.515517Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:11:42.630642Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:42.686799Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:11:42.686998Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:11:45.368093Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:11:45.368337Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:11:45.425704Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:11:45.426619Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:11:45.427499Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:11:45.427722Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:11:45.541291Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:45.597627Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:11:45.597854Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:11:45.825868Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:45.888182Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.56, net_total=7.4399999999999995, coupon='test7'", "module": "orders", "function": "create_paypal_order", "line": 983}
{"timestamp": "2025-09-01T12:11:45.888375Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.44 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1014}
{"timestamp": "2025-09-01T12:11:46.469563Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 7P123802XY779953N", "module": "orders", "function": "create_paypal_order", "line": 1017}
{"timestamp": "2025-09-01T12:11:54.736447Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 7P123802XY779953N", "module": "orders", "function": "capture_paypal_order", "line": 1087}
{"timestamp": "2025-09-01T12:11:55.858819Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 7P123802XY779953N. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1091}
{"timestamp": "2025-09-01T12:11:56.259402Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test7'", "module": "orders", "function": "capture_paypal_order", "line": 1180}
{"timestamp": "2025-09-01T12:11:56.259670Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for test7 (status: StatusEnum.COMPLETED)", "module": "orders", "function": "capture_paypal_order", "line": 1184}
{"timestamp": "2025-09-01T12:11:56.259927Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon test7 for email mrbrownaffiliate@gmail.com, amount 8", "module": "orders", "function": "capture_paypal_order", "line": 1189}
{"timestamp": "2025-09-01T12:11:56.316800Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:56.317080Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1193}
{"timestamp": "2025-09-01T12:11:56.432697Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:56.490301Z", "level": "ERROR", "logger": "src.routers.orders", "message": "PayPal Capture: Failed to apply coupon test7 during capture: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "capture_paypal_order", "line": 1200}
{"timestamp": "2025-09-01T12:11:56.591513Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 1", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:11:56.592472Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1213}
{"timestamp": "2025-09-01T12:11:56.709650Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test7", "module": "orders", "function": "capture_paypal_order", "line": 1219}
{"timestamp": "2025-09-01T12:11:59.866982Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 88}
{"timestamp": "2025-09-01T12:11:59.867247Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1274}
{"timestamp": "2025-09-01T12:12:02.499067Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 7P123802XY779953N", "module": "orders", "function": "capture_paypal_order", "line": 1310}
{"timestamp": "2025-09-01T12:12:10.346499Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:10.346704Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:10.403052Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:10.403241Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:10.403459Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:10.403675Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:10.516119Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:10.572730Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:10.572924Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:15.088059Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:15.088231Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:15.144667Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:15.144824Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:15.144963Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:15.145101Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:15.256497Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:15.312857Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:15.313095Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:17.986194Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:17.986361Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:18.042629Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:18.042795Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:18.042947Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:18.043094Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:18.154826Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:18.210767Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:18.210933Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:19.463419Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:19.463661Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:19.520609Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:19.521112Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:19.521597Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:19.522119Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:19.642766Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:19.698841Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:19.698992Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:25.583427Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:25.583726Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:25.639764Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:25.639957Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:25.640139Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:25.640308Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:25.751274Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:25.807207Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:25.807413Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:26.789705Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:26.789927Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:26.846108Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:26.846305Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:26.846533Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:26.846742Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:26.959238Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:26.959450Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:26.959630Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:28.809265Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:28.809430Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:28.865070Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:28.865274Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:28.865502Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:28.865735Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:28.990573Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:28.990801Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:28.990945Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:30.604093Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:30.604255Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:30.660568Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:30.660796Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:30.660969Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:30.661211Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:30.775676Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:30.775877Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:30.776071Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:33.727010Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:33.727175Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:33.783762Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:33.784115Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:33.784485Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:33.784842Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:33.897249Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:33.897465Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:33.897603Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:34.337977Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:34.338138Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:34.394754Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:34.395210Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:34.395521Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:34.395746Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:34.510062Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:34.510241Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:34.510374Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:36.629034Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:36.629212Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:36.685952Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:36.686108Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:36.686287Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:36.686431Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:36.798200Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:36.854126Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:36.854295Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:38.408716Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:38.408877Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:38.465278Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:38.465601Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:38.465926Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:38.466220Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:38.578710Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:38.635060Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:38.635215Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:39.565630Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:39.565847Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:39.622287Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:39.622557Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:39.622773Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:39.623020Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:39.736457Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:39.794598Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:39.795538Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:42.636295Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:42.636599Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:42.694186Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:42.694368Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:42.694546Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:42.694732Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:42.807461Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:42.863587Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:42.863828Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:12:42.953821Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:12:42.954030Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:12:43.010737Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:12:43.010926Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:12:43.011145Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:12:43.011340Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:12:43.123342Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:12:43.179303Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:12:43.179465Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:15:11.315319Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:15:11.315482Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:15:11.372263Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:15:11.372446Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:15:13.448373Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:15:13.448650Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:15:13.497202Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:15:13.497410Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:15:13.497551Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:15:14.468005Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:15:14.468436Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:15:14.468928Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:15:15.189513Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:15:58.881260Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:15:58.881461Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:15:58.930018Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:15:58.930265Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:15:58.930450Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:15:59.853039Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:15:59.853377Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:15:59.853738Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:16:00.592000Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:16:42.744892Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:16:42.745124Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:16:42.808586Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:16:42.808811Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:18:37.931480Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:18:37.931720Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:18:37.981021Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:18:37.981235Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:18:37.981383Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:18:39.668184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:18:39.668347Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:18:39.668566Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:18:40.444418Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:19:17.882134Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:19:17.883067Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:19:17.949750Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:19:17.950686Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:20:29.272122Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:20:29.272333Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:20:29.323425Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:20:29.323672Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:20:29.323830Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:20:30.536774Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:20:30.537048Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:20:30.537388Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:20:31.262497Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:20:55.885966Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:20:55.886130Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:20:55.943281Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:20:55.943450Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:20:58.272087Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:20:58.930416Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:20:58.983929Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:20:58.984204Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:20:58.984411Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:20:59.643871Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:20:59.644165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:20:59.644450Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:21:00.370993Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:21:28.123835Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:21:28.124811Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:21:28.188982Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:21:28.189181Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:21:30.090598Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:21:30.090883Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:21:30.138662Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:21:30.138952Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:21:30.139133Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:21:31.076997Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:21:31.077289Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:21:31.077559Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:21:31.796205Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:23:30.291690Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:23:30.291885Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:23:30.359301Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:23:30.359644Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:23:30.359860Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:23:30.360061Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:23:30.489968Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:23:30.491037Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:23:30.491944Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:23:38.130457Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:23:38.130653Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:23:38.196663Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:23:38.197617Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:23:38.199066Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:23:38.200027Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:23:38.329861Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 30}
{"timestamp": "2025-09-01T12:23:38.330877Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 198}
{"timestamp": "2025-09-01T12:23:38.332333Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Querying orders with: {'$or': [{'userEmail': 'mrbrownaffiliate@gmail.com'}, {'email': 'mrbrownaffiliate@gmail.com'}, {'customerEmail': 'mrbrownaffiliate@gmail.com'}], 'couponCode': {'$regex': '^test7$', '$options': 'i'}, 'status': {'$nin': ['cancelled', 'failed']}}", "module": "coupon_service", "function": "validate_coupon", "line": 215}
{"timestamp": "2025-09-01T12:23:38.397826Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com has used coupon test7 0 times (limit: 1)", "module": "coupon_service", "function": "validate_coupon", "line": 218}
{"timestamp": "2025-09-01T12:23:38.398084Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:23:38.398237Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:25:14.868077Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:25:14.868602Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:25:14.926355Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:25:14.926559Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:25:16.908639Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:25:16.908932Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:25:16.957377Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:25:16.957650Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:25:16.957869Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:25:17.937778Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:25:17.938748Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:25:17.939917Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:25:18.612936Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:25:35.798690Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:25:35.798865Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:25:35.862765Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:25:35.863016Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:25:37.845705Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:25:37.845941Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:25:37.896073Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:25:37.896313Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:25:37.896500Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:25:38.572910Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:25:38.573341Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:25:38.573856Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:25:39.336338Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:25:56.214536Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:25:56.214702Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:25:56.270673Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:25:56.270863Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:25:58.357003Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:25:58.357230Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:25:58.407167Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:25:58.407405Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:25:58.407545Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:25:59.142595Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:25:59.143720Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:25:59.144973Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:25:59.868546Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:26:01.892486Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:26:01.892743Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:26:01.955226Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:26:01.955405Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:26:53.829065Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:26:53.829346Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:26:53.878134Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:26:53.878386Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:26:53.878578Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:26:54.648316Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:26:54.648559Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:26:54.648793Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:26:55.335353Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:27:25.362990Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:27:25.363226Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:27:25.419582Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:27:25.419811Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:29:00.128514Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:29:00.128730Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:29:00.182132Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:29:00.182356Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:29:00.182509Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:29:01.331875Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:29:01.332070Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:29:01.332299Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:29:02.077382Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:29:22.518760Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:29:22.519211Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:29:22.583041Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:29:22.583215Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:31:47.240916Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:31:47.241149Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:31:47.290846Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:31:47.291064Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:31:47.291222Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:31:48.180342Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:31:48.180641Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:31:48.180937Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:31:48.893712Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:32:05.917907Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:32:05.918092Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:32:05.982127Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:32:05.982376Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:32:05.982598Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:32:05.982781Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:32:06.109199Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T12:32:06.110287Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:32:06.111234Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T12:32:12.317007Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T12:32:12.317239Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T12:32:12.379704Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T12:32:12.379940Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T12:32:12.380177Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T12:32:12.380405Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T12:32:12.505683Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T12:32:12.505890Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 199}
{"timestamp": "2025-09-01T12:32:12.506050Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 205}
{"timestamp": "2025-09-01T12:32:12.506212Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 229}
{"timestamp": "2025-09-01T12:32:12.506400Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T12:32:12.506557Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T12:35:03.735555Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:35:03.735733Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:35:03.814591Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:35:03.814810Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:35:05.708159Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:35:05.708403Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:35:05.756397Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:35:05.756682Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:35:05.756843Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:35:07.085256Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:35:07.085693Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:35:07.086289Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:35:07.832107Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:35:17.551908Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:35:17.552125Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:35:17.611638Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:35:17.612528Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:35:19.469853Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:35:19.470112Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:35:19.519976Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:35:19.520231Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:35:19.520452Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:35:20.231161Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:35:20.231418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:35:20.231696Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:35:20.958931Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:35:30.204272Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:35:30.204502Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:35:30.268097Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:35:30.268363Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:35:32.158624Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:35:32.158909Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:35:32.207476Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:35:32.207716Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:35:32.207894Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:35:32.870804Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:35:32.871905Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:35:32.873116Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:35:33.598532Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:35:51.472478Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:35:51.473449Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:35:51.532867Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:35:51.533805Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:35:53.221064Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:35:53.221364Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:35:53.270213Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:35:53.270440Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:35:53.270692Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:35:54.412688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:35:54.413772Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:35:54.415018Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:35:55.114788Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:36:12.480046Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:36:12.480305Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:36:12.535408Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:36:12.535646Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:36:14.563927Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:36:14.564132Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:36:14.615296Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:36:14.615544Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:36:14.615750Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:36:15.435859Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:36:15.436114Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:36:15.436423Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:36:16.215993Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:37:12.297832Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:37:12.298127Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:37:12.352953Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:37:12.353210Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:37:14.283297Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:37:14.283539Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:37:14.333877Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:37:14.334106Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:37:14.334316Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:37:15.306629Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:37:15.306907Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:37:15.307162Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:37:16.012239Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:37:23.301896Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:37:23.302843Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:37:23.365956Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:37:23.366202Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T12:37:25.124397Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T12:37:25.124608Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T12:37:25.174438Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T12:37:25.174728Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T12:37:25.174942Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T12:37:25.874242Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T12:37:25.874562Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T12:37:25.874891Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T12:37:26.564848Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T12:38:28.202184Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T12:38:28.202411Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T12:38:28.267229Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T12:38:28.267784Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:02:06.813805Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:02:06.828758Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:02:06.878521Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:02:06.878725Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:02:06.878905Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:02:10.242242Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:02:10.242684Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:02:10.243166Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:02:10.965482Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:02:43.210579Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T13:02:43.211030Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T13:02:43.268567Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T13:02:43.268823Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T13:02:43.268993Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T13:02:43.269171Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T13:02:43.381545Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T13:02:43.382583Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T13:02:43.382768Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T13:02:52.999587Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T13:02:52.999774Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T13:02:53.056812Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T13:02:53.057121Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T13:02:53.057383Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T13:02:53.057660Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T13:02:53.174436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T13:02:53.174668Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 199}
{"timestamp": "2025-09-01T13:02:53.174879Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 205}
{"timestamp": "2025-09-01T13:02:53.175172Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 229}
{"timestamp": "2025-09-01T13:02:53.175493Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T13:02:53.175697Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T13:05:53.575204Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:05:53.576149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:05:53.646583Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:05:53.647509Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:05:55.901931Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:05:55.902155Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:05:55.951044Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:05:55.951277Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:05:55.951465Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:05:59.170273Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:05:59.171284Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:05:59.172555Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:05:59.924564Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:06:03.244082Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:06:03.244328Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:06:03.302672Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:06:03.302913Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:06:05.280725Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:06:05.280996Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:06:05.329473Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:06:05.329812Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:06:05.330057Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:06:06.014555Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:06:06.014977Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:06:06.015356Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:06:06.725917Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:06:23.078143Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:06:23.078390Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:06:23.135031Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:06:23.135289Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:06:25.128334Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:06:25.128572Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:06:25.177544Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:06:25.177790Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:06:25.177965Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:06:25.872679Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:06:25.873058Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:06:25.873367Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:06:26.684928Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:10:29.522026Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:10:29.522395Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:10:29.578867Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:10:29.579094Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:10:31.587000Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:10:31.587243Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:10:31.636921Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:10:31.637127Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:10:31.637279Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:10:32.690102Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:10:32.690340Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:10:32.690599Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:10:33.411585Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:14:47.981206Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:14:47.982164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:14:48.046231Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:14:48.046430Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T13:14:49.981866Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:14:49.982148Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:14:50.031308Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:14:50.031570Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:14:50.031779Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:14:52.458317Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:14:52.458649Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:14:52.459044Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:14:53.176577Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:30:05.664332Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T13:30:05.664508Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T13:30:05.729177Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T13:30:05.729372Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T13:30:05.729558Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T13:30:05.729736Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T13:30:05.856651Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T13:30:05.856852Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 227}
{"timestamp": "2025-09-01T13:30:05.857122Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-01T13:30:05.921380Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 271}
{"timestamp": "2025-09-01T13:30:05.921579Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 275}
{"timestamp": "2025-09-01T13:30:05.921771Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T13:30:05.921980Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T13:30:05.922144Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T13:30:51.185010Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T13:30:51.185214Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T13:30:51.237876Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T13:30:51.238088Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T13:30:51.238207Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T13:30:52.278564Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T13:30:52.278796Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T13:30:52.279057Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T13:30:53.031070Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T13:32:26.947858Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T13:32:26.948013Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T13:32:27.012094Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T13:32:27.012344Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:00:25.607321Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:00:25.607584Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:00:25.660485Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:00:25.660843Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:00:25.661042Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:00:27.015577Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:00:27.015834Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:00:27.016148Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:00:27.762484Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:02:02.386110Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:02:02.386309Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:02:02.450193Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:02:02.450358Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:03:59.859595Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:03:59.859787Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:03:59.908867Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:03:59.909047Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:03:59.909155Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:04:00.922137Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:04:00.922373Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:04:00.922632Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:04:01.611680Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:05:08.481392Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:05:08.481645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:05:08.538547Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:05:08.538748Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:08:19.092061Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:08:19.092269Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:08:19.141712Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:08:19.141890Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:08:19.141998Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:08:21.742184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:08:21.742430Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:08:21.742717Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:08:22.509882Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:08:58.602722Z", "level": "INFO", "logger": "src.routers.orders", "message": "Quick coupon validation request: {'code': 'test7', 'amount': 100, 'email': 'test@example.com'}", "module": "orders", "function": "validate_coupon_public", "line": 178}
{"timestamp": "2025-09-01T14:08:58.602973Z", "level": "INFO", "logger": "src.routers.orders", "message": "Quick validation: code=test7, amount=100, email=test@example.com", "module": "orders", "function": "validate_coupon_public", "line": 191}
{"timestamp": "2025-09-01T14:08:58.659951Z", "level": "INFO", "logger": "src.routers.orders", "message": "Quick validation successful: discount=7.0", "module": "orders", "function": "validate_coupon_public", "line": 242}
{"timestamp": "2025-09-01T14:08:58.663584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Quick coupon validation request: {'code': 'INVALID123', 'amount': 100, 'email': 'test@example.com'}", "module": "orders", "function": "validate_coupon_public", "line": 178}
{"timestamp": "2025-09-01T14:08:58.663742Z", "level": "INFO", "logger": "src.routers.orders", "message": "Quick validation: code=INVALID123, amount=100, email=test@example.com", "module": "orders", "function": "validate_coupon_public", "line": 191}
{"timestamp": "2025-09-01T14:14:37.198610Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:14:37.198796Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:14:37.269541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:14:37.269782Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:14:39.585604Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:14:39.585823Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:14:39.636703Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:14:39.636905Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:14:39.637047Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:14:40.675657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:14:40.675835Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:14:40.676055Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:14:41.355102Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:15:34.082040Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:15:34.082303Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:15:34.130886Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:15:34.131192Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:15:34.131387Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:15:34.836167Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:15:34.836418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:15:34.836706Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:15:35.541058Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:16:04.028444Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T14:16:04.028651Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T14:16:04.098767Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T14:16:04.311921Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T14:16:13.034274Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:16:13.034498Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:16:13.110443Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:16:13.111430Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:16:13.112477Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:16:13.113469Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:16:13.246487Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:16:13.246719Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 227}
{"timestamp": "2025-09-01T14:16:13.246952Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-01T14:16:13.312139Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 271}
{"timestamp": "2025-09-01T14:16:13.312402Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 275}
{"timestamp": "2025-09-01T14:16:13.312629Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:16:13.312811Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T14:19:01.480118Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 100, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:19:01.480354Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=100, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:19:01.545412Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:19:01.545674Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:19:01.545880Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:19:01.546041Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=100, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:19:01.612319Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:19:01.612481Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T14:20:11.349949Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:20:11.350153Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:20:11.398735Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:20:11.398979Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:20:11.399109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:20:12.509219Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:20:12.509405Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:20:12.509635Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:20:13.218308Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:22:38.012374Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:22:38.012555Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:22:38.075452Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:22:38.075646Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:22:51.288831Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:22:51.289095Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:22:51.343997Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:22:51.344197Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:22:51.344307Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:22:52.369487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:22:52.369738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:22:52.370033Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:22:53.055711Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:25:02.316791Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:25:02.317643Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:25:02.375469Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:25:02.375696Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:49:39.868116Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:49:39.868346Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:49:39.918672Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:49:39.918918Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:49:39.919102Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:49:41.117996Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:49:41.118270Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:49:41.118590Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:49:41.834875Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T14:55:02.395500Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:55:02.395700Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:55:02.493293Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:55:02.493585Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:55:02.493770Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:55:02.493985Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:55:02.630773Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:55:02.632889Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:55:02.633845Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T14:55:04.033754Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:55:04.033928Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:55:04.098097Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:55:04.098311Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:55:04.098488Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:55:04.098618Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:55:04.227264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:55:04.227538Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:55:04.227767Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T14:55:07.717662Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T14:55:07.717866Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T14:55:07.787491Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T14:55:08.003210Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T14:55:30.262386Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:55:30.263376Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:55:30.330305Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:55:30.330541Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:55:30.330756Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:55:30.330966Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:55:30.467338Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon '333': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:55:30.467522Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:55:30.467675Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T14:55:32.536828Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:55:32.537006Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:55:32.600257Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:55:32.600461Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:55:32.600680Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:55:32.600854Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:55:32.729194Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon '333': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:55:32.729434Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:55:32.729632Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T14:55:33.980593Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T14:55:33.980786Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T14:55:34.046468Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T14:55:34.046994Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T14:55:34.047240Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T14:55:34.047475Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T14:55:34.174397Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon '333': 0", "module": "coupon_service", "function": "get_real_usage_count", "line": 31}
{"timestamp": "2025-09-01T14:55:34.174595Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T14:55:34.174759Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon usage limit reached (0/0).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-01T14:55:53.883932Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T14:55:53.884140Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T14:55:53.947391Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T14:55:53.947625Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T14:55:56.246858Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T14:55:56.247085Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T14:55:56.298629Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T14:55:56.298881Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T14:55:56.299040Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T14:55:57.551109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T14:55:57.551337Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T14:55:57.551626Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T14:55:58.234508Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:05:11.962984Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T15:05:11.963192Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T15:05:12.030262Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T15:05:12.030538Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T15:05:14.122409Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T15:05:14.122641Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T15:05:14.172087Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T15:05:14.172321Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T15:05:14.172512Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T15:05:16.810264Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T15:05:16.810569Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T15:05:16.810906Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T15:05:17.593097Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:05:26.452769Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T15:05:26.453022Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T15:05:26.511989Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T15:05:26.512939Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T15:05:28.556240Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T15:05:28.556484Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T15:05:28.606330Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T15:05:28.606600Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T15:05:28.606775Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T15:05:29.305242Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T15:05:29.305428Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T15:05:29.305727Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T15:05:29.997723Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:05:37.957835Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T15:05:37.957992Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T15:05:38.014966Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T15:05:38.015249Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T15:05:40.052949Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T15:05:40.608791Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T15:05:40.657811Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T15:05:40.658068Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T15:05:40.658328Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T15:05:41.297790Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T15:05:41.298041Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T15:05:41.298347Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T15:05:42.039310Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:06:41.143350Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T15:06:41.144309Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T15:06:41.203082Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T15:06:41.203453Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T15:06:43.198359Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T15:06:43.198603Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T15:06:43.248352Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T15:06:43.248641Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T15:06:43.248874Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T15:06:44.153244Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T15:06:44.153439Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T15:06:44.153661Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T15:06:44.841835Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:16:13.609412Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-01T15:16:13.609625Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-01T15:16:13.666727Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-01T15:16:13.666924Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-01T15:16:15.850433Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-01T15:16:15.850681Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-01T15:16:15.899294Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-01T15:16:15.899492Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-01T15:16:15.899631Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-01T15:16:16.921108Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-01T15:16:16.921365Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-01T15:16:16.921655Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-01T15:16:17.651062Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-01T15:24:54.467393Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T15:24:54.467618Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T15:24:54.554020Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T15:24:54.554314Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T15:24:54.554577Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T15:24:54.554813Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T15:24:54.620591Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=3", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-01T15:24:54.620856Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-01T15:24:54.685473Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T15:24:54.685669Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-01T15:24:54.685846Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T15:24:54.685998Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T15:24:56.315209Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T15:24:56.315455Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T15:24:56.379690Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T15:24:56.379947Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T15:24:56.380169Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T15:24:56.380394Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T15:24:56.445826Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=3", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-01T15:24:56.446860Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-01T15:24:56.511990Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T15:24:56.512198Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-01T15:24:56.512438Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T15:24:56.512696Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T15:24:57.331856Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T15:24:57.332044Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T15:24:57.395384Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T15:24:57.395557Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T15:24:57.395693Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T15:24:57.395819Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T15:24:57.459083Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=3", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-01T15:24:57.459271Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-01T15:24:57.523264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T15:24:57.523474Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-01T15:24:57.523646Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T15:24:57.523773Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T15:25:09.717993Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T15:25:09.718232Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T15:25:09.783455Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T15:25:09.783695Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T15:25:09.783876Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T15:25:09.784204Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T15:25:09.848476Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=3", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-01T15:25:09.848681Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-01T15:25:09.912578Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T15:25:09.912801Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-01T15:25:09.912991Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T15:25:09.913169Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-01T15:25:12.132278Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/admin/products", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T15:25:13.267879Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/admin/coupons", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T15:25:18.986427Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-01T15:25:21.639568Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-01T15:25:21.639838Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-01T15:25:21.703499Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-01T15:25:21.913678Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-01T15:25:24.790721Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '333', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-01T15:25:24.790965Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-01T15:25:24.854936Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-01T15:25:24.855165Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-01T15:25:24.855369Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-01T15:25:24.855571Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=333, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-01T15:25:24.920642Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=3", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-01T15:25:24.921636Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-01T15:25:24.985930Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-01T15:25:24.986239Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-01T15:25:24.986592Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.24, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-01T15:25:24.986906Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.24", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:30:54.401872Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:30:54.419128Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:30:54.474953Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:30:54.475141Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:30:54.475319Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:30:58.459770Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:30:58.459990Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:30:58.460262Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:30:59.137960Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:32:31.413898Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T10:37:31.427360Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T10:37:31.427571Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T10:37:31.488753Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T10:37:31.703115Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T10:37:47.797352Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test7', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:37:47.797568Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:37:47.865228Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 3", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:37:47.865468Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:37:47.865652Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:37:47.865897Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test7, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:37:47.982587Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test7': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:37:47.982794Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test7': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:37:47.983006Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:37:47.983236Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:37:48.040755Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:37:48.041007Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:37:48.041186Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.56, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:37:48.041362Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.56", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:38:20.595490Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:38:20.595667Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:38:20.653687Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:38:20.653916Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:38:20.654069Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:38:20.654209Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:38:20.710817Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon expired.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:38:20.711054Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon expired.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:38:36.800799Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': '6', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:38:36.801039Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=6, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:38:36.858248Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:38:37.272024Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:38:37.272973Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:38:37.273917Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=6, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:38:37.332150Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=6", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:38:37.332415Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:38:37.389449Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:38:37.389688Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:38:37.389923Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.48, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:38:37.390130Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.48", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:39:02.523291Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 53H955604X8376630: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T10:39:02.868309Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 53H955604X8376630: Recalculated coupon analytics for test7 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T10:39:05.629309Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 23L885113U870344K: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T10:39:05.974019Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 23L885113U870344K: Recalculated coupon analytics for test7 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T10:39:07.875796Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 9LF00579YW802141X: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T10:39:08.219401Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 9LF00579YW802141X: Recalculated coupon analytics for test7 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T10:39:09.608958Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 4 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T10:39:12.054328Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 4 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T10:39:26.856828Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test6', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:39:26.857086Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test6, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:39:26.915649Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:39:26.916901Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:39:26.917939Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:39:26.918882Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test6, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:39:26.976785Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:39:26.976963Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test6' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:39:44.215612Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T10:39:46.173468Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:39:46.173641Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:39:46.230565Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:39:46.230717Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:39:46.230834Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:39:46.230955Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:39:46.345985Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:39:46.346188Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:39:46.346359Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:39:46.346516Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:39:48.385350Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:39:48.385571Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:39:48.443521Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:39:48.443725Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:39:48.443900Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:39:48.444076Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:39:48.558637Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:39:48.558894Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:39:48.559112Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:39:48.559279Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:39:48.616385Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:39:48.616611Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:39:48.616838Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:39:48.616994Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:39:48.853336Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:39:48.853528Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:39:48.853679Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:39:48.853819Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:39:48.912764Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:39:48.913027Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:39:48.913280Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.4, net_total=7.6, coupon='test5'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T10:39:48.913510Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.60 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T10:39:49.998112Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 5W6699502G538003P", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T10:40:01.227720Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 5W6699502G538003P", "module": "orders", "function": "capture_paypal_order", "line": 1218}
{"timestamp": "2025-09-03T10:40:02.670226Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 5W6699502G538003P. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T10:40:03.071494Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test5'", "module": "orders", "function": "capture_paypal_order", "line": 1311}
{"timestamp": "2025-09-03T10:40:03.071691Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for test5 (status: StatusEnum.COMPLETED)", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T10:40:03.071864Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon test5 for email mrbrownaffiliate@gmail.com, amount 8", "module": "orders", "function": "capture_paypal_order", "line": 1320}
{"timestamp": "2025-09-03T10:40:03.128099Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:03.128289Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1324}
{"timestamp": "2025-09-03T10:40:03.239946Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:03.240174Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test5': 1/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T10:40:03.297328Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage check - coupon field: 0, orders: 1, final: 1", "module": "coupon_service", "function": "apply_coupon", "line": 158}
{"timestamp": "2025-09-03T10:40:03.297537Z", "level": "ERROR", "logger": "src.routers.orders", "message": "PayPal Capture: Failed to apply coupon test5 during capture: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T10:40:03.353961Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:03.354197Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1344}
{"timestamp": "2025-09-03T10:40:03.467750Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test5", "module": "orders", "function": "capture_paypal_order", "line": 1350}
{"timestamp": "2025-09-03T10:40:07.493431Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T10:40:07.493640Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1405}
{"timestamp": "2025-09-03T10:40:10.073032Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 5W6699502G538003P", "module": "orders", "function": "capture_paypal_order", "line": 1441}
{"timestamp": "2025-09-03T10:40:16.962197Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 3 total, 1 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T10:40:35.070557Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:35.070748Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:35.128442Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:35.128665Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:35.128892Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:35.129140Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:35.243480Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:35.243689Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:35.243872Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:35.244049Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:35.301349Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:35.301531Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:35.301741Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T10:40:35.301971Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:35.302149Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:40:37.087992Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:37.088168Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:37.145191Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:37.145387Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:37.145576Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:37.145735Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:37.265229Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:37.265488Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:37.265713Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:37.265899Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:37.323465Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:37.323688Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:37.323903Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T10:40:37.324130Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:37.324279Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:40:41.020417Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:41.020624Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:41.077459Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:41.077664Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:41.077837Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:41.078021Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:41.192679Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:41.192930Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:41.193079Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:41.193209Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:41.250261Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:41.250453Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:41.250657Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:41.250828Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:40:44.122553Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:44.122751Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:44.180360Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:44.180529Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:44.180651Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:44.180786Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:44.295608Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:44.295872Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:44.296058Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:44.296236Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:44.353682Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:44.353887Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:44.354086Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:44.354294Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:40:48.884657Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:48.884864Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:48.942571Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:48.942791Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:48.942932Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:48.943081Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:49.057809Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:49.058033Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:49.058193Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:49.058341Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:49.115586Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:49.115801Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:49.116031Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T10:40:49.116263Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:49.116505Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:40:55.921580Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:40:55.921785Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:40:55.978715Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:40:55.978903Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:40:55.979085Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:40:55.979265Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:40:56.093610Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:56.093799Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:56.093942Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:56.094132Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:56.151897Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:56.152118Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:56.152306Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T10:40:56.152506Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:40:56.152651Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:40:58.134705Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:40:58.134924Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:40:58.135069Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:40:58.135211Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:40:58.191618Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:40:58.191851Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:40:58.192072Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T10:40:58.192263Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed for test5: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "create_paypal_order", "line": 1109}
{"timestamp": "2025-09-03T10:40:58.192438Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0, net_total=8, coupon='test5'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T10:40:58.192607Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 8.00 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T10:40:58.789194Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 0MJ563979B495462W", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T10:41:03.883903Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 0MJ563979B495462W: Recalculated analytics for coupon test5 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 1470}
{"timestamp": "2025-09-03T10:41:09.223484Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:41:09.223659Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:41:09.281129Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:41:09.281292Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:41:09.281427Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:41:09.281554Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:41:09.395121Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:09.395392Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:09.395635Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:41:09.395803Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:41:17.505599Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:41:17.505830Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:41:17.562868Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:41:17.563111Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:41:17.563316Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:41:17.563531Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:41:17.681975Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:17.682240Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:17.682441Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:41:17.682608Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:41:17.740087Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:41:17.740298Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:41:17.740457Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:41:17.740577Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:41:21.215862Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:41:21.216091Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:41:21.279164Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:41:21.279357Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:41:21.279615Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:41:21.279834Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:41:21.406061Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:21.406291Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:21.406443Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:41:21.406605Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:41:21.470192Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:41:21.470461Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:41:21.470673Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:41:21.470831Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:41:21.727452Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:21.727682Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:21.727881Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:41:21.728030Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:41:21.792069Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:41:21.792272Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:41:21.792492Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.4, net_total=7.6, coupon='test5'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T10:41:21.792654Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.60 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T10:41:22.357122Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 0NN81223X7546830A", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T10:41:28.520065Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 0NN81223X7546830A", "module": "orders", "function": "capture_paypal_order", "line": 1218}
{"timestamp": "2025-09-03T10:41:30.345386Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 0NN81223X7546830A. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T10:41:30.745039Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 0NN81223X7546830A, Item 68b555b4781e7c50e00cd741: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1275}
{"timestamp": "2025-09-03T10:41:30.745325Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.AWAITING_STOCK, coupon_code='test5'", "module": "orders", "function": "capture_paypal_order", "line": 1311}
{"timestamp": "2025-09-03T10:41:30.745516Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for test5 (status: StatusEnum.AWAITING_STOCK)", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T10:41:30.745745Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon test5 for email brownmaster555@gmail.com, amount 8", "module": "orders", "function": "capture_paypal_order", "line": 1320}
{"timestamp": "2025-09-03T10:41:30.803995Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:30.804245Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 2", "module": "orders", "function": "capture_paypal_order", "line": 1324}
{"timestamp": "2025-09-03T10:41:30.919102Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:30.919372Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test5': 2/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T10:41:30.919596Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Usage limit exceeded for 'test5': 2/2", "module": "coupon_service", "function": "apply_coupon", "line": 112}
{"timestamp": "2025-09-03T10:41:30.919789Z", "level": "ERROR", "logger": "src.routers.orders", "message": "PayPal Capture: Failed to apply coupon test5 during capture: Coupon usage limit exceeded (2/2).", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T10:41:30.977474Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:30.977702Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 2", "module": "orders", "function": "capture_paypal_order", "line": 1344}
{"timestamp": "2025-09-03T10:41:31.094454Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test5", "module": "orders", "function": "capture_paypal_order", "line": 1350}
{"timestamp": "2025-09-03T10:41:38.601734Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:41:38.601916Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:41:38.659363Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:41:38.659596Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:41:38.659771Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:41:38.659916Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:41:38.774637Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:38.774854Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:38.775040Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:41:38.775232Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:41:44.825372Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:41:44.825559Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:41:44.882495Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:41:44.882718Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:41:44.882907Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:41:44.883123Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:41:44.997349Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:41:44.997591Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 226}
{"timestamp": "2025-09-03T10:41:44.997785Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for avi@stez.co.il: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 234}
{"timestamp": "2025-09-03T10:41:44.997968Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 250}
{"timestamp": "2025-09-03T10:41:45.055516Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T10:41:45.055779Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T10:41:45.055944Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:41:45.056133Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:44:20.804190Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T10:44:20.804364Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T10:44:20.867217Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T10:44:20.867395Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T10:44:26.333813Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:44:26.334083Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:44:26.382837Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:44:26.383046Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:44:26.383185Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:44:27.454299Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:44:27.454495Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:44:27.454702Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:44:28.156210Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:44:30.240030Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T10:44:30.240315Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T10:44:30.308115Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T10:44:30.308374Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T10:44:32.419887Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:44:32.420197Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:44:32.478232Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:44:32.478473Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:44:32.478644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:44:33.138589Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:44:33.138808Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:44:33.139096Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:44:33.821623Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:44:45.242221Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T10:44:45.242421Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T10:44:45.299688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T10:44:45.299916Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T10:45:19.325156Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:45:19.325451Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:45:19.375708Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:45:19.375918Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:45:19.376061Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:45:20.441177Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:45:20.441388Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:45:20.441670Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:45:21.122322Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:45:40.172210Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T10:45:40.172466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T10:45:40.230239Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T10:45:40.230444Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T10:45:57.531908Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:45:57.532173Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:45:57.581539Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:45:57.581835Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:45:57.582056Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:45:58.311387Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:45:58.311644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:45:58.311933Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:45:58.978267Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:46:16.051448Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:46:16.051646Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:46:16.108703Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:46:16.108960Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:46:16.109233Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:46:16.109455Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:46:16.221945Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:46:16.222143Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:46:16.222300Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for avi@stez.co.il: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:46:16.222438Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:46:16.278122Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:46:16.278308Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:46:16.278492Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:46:16.278637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:47:10.841566Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T10:47:10.841738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T10:47:10.905187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T10:47:10.905366Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T10:47:13.235616Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T10:47:13.235857Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T10:47:13.284229Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T10:47:13.284428Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T10:47:13.284610Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T10:47:14.184113Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T10:47:14.184341Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T10:47:14.184591Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T10:47:14.888093Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T10:47:20.203844Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:47:20.204087Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:47:20.268086Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:47:20.268257Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:47:20.268395Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:47:20.268528Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:47:20.394548Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:47:20.394825Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:47:20.395076Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:47:20.395313Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:47:20.458835Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:47:20.459051Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:47:20.459328Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:47:20.459513Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:47:33.622691Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:47:33.622906Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:47:33.688027Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:47:33.689002Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:47:33.689811Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:47:33.690034Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:47:33.816759Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:47:33.817019Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:47:33.817233Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:47:33.817424Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:47:33.880848Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:47:33.881100Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:47:33.881332Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:47:33.881511Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:47:36.929310Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:47:36.929489Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:47:36.992956Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:47:36.993225Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:47:36.993386Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:47:36.993572Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:47:37.119749Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:47:37.119938Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:47:37.120116Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:47:37.120282Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:47:37.183698Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:47:37.183880Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:47:37.184045Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:47:37.184185Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:03.357719Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5W6699502G538003P: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T10:53:03.699938Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5W6699502G538003P: Recalculated coupon analytics for test5 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T10:53:06.826757Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0NN81223X7546830A: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T10:53:07.164756Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0NN81223X7546830A: Recalculated coupon analytics for test5 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T10:53:08.405545Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 4 available, 0 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T10:53:15.445430Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:15.445633Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:15.501769Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:15.501964Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:15.502150Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:15.502297Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:15.558761Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test5' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:15.559021Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test5' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:53:26.038479Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:26.038968Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:26.096152Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:26.096384Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:26.096561Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:26.096749Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:26.211060Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:26.211326Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:26.211542Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Coupon 'test3' has per-user limit (1) but no email provided", "module": "coupon_service", "function": "validate_coupon", "line": 245}
{"timestamp": "2025-09-03T10:53:26.211792Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:26.211985Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:53:28.477710Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:28.477955Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:28.535057Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:28.535226Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:28.535401Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:28.535542Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:28.648937Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:28.649126Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:28.649278Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Coupon 'test3' has per-user limit (1) but no email provided", "module": "coupon_service", "function": "validate_coupon", "line": 245}
{"timestamp": "2025-09-03T10:53:28.649457Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:28.649592Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:53:31.374251Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:31.374434Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:31.431118Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:31.431392Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:31.431590Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:31.431761Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:31.544946Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:31.545164Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:31.545352Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:31.545542Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:31.602186Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:31.602414Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:31.602575Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:31.602734Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:34.999230Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:34.999442Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:35.056943Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:35.057156Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:35.057321Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:35.057512Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:35.170052Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:35.170220Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:35.170372Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:35.170540Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:35.227349Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:35.227598Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:35.227809Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:35.227990Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:46.206896Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@g'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:46.207094Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@g", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:46.263842Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:46.264051Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:46.264233Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:46.264450Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@g", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:46.380027Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:46.380297Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:46.380558Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@g: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:46.380716Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@g has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:46.438049Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@g has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:46.438299Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:46.438556Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:46.438799Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:49.297136Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@g'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:49.297328Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@g", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:49.354407Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:49.354613Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:49.354762Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:49.354911Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@g", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:49.493739Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:49.493939Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:49.494206Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@g: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:49.494428Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@g has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:49.551452Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@g has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:49.551659Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:49.551854Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:49.552033Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:51.325575Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:53:51.325788Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:53:51.382680Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:53:51.382871Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:53:51.383056Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:53:51.383195Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:53:51.495326Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:51.495543Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:51.495738Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:51.495962Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:51.552738Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:51.553019Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:51.553242Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:53:51.553381Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:53:51.784987Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:53:51.785194Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:53:51.785355Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:53:51.785499Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:53:51.849151Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:53:51.849404Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:53:51.849610Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.4, net_total=7.6, coupon='test3'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T10:53:51.849793Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.60 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T10:53:52.846257Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 41779272FX2329444", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T10:54:00.488175Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 41779272FX2329444", "module": "orders", "function": "capture_paypal_order", "line": 1218}
{"timestamp": "2025-09-03T10:54:01.719791Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 41779272FX2329444. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T10:54:02.124133Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test3'", "module": "orders", "function": "capture_paypal_order", "line": 1311}
{"timestamp": "2025-09-03T10:54:02.124320Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for test3 (status: StatusEnum.COMPLETED)", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T10:54:02.124471Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon test3 for email mrbrownaffiliate@gmail.com, amount 8", "module": "orders", "function": "capture_paypal_order", "line": 1320}
{"timestamp": "2025-09-03T10:54:02.182079Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:02.182309Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1324}
{"timestamp": "2025-09-03T10:54:02.296095Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:02.296346Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test3': 1/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T10:54:02.353649Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage check - coupon field: 0, orders: 1, final: 1", "module": "coupon_service", "function": "apply_coupon", "line": 165}
{"timestamp": "2025-09-03T10:54:02.353868Z", "level": "ERROR", "logger": "src.routers.orders", "message": "PayPal Capture: Failed to apply coupon test3 during capture: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T10:54:02.410840Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:02.411034Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 1", "module": "orders", "function": "capture_paypal_order", "line": 1344}
{"timestamp": "2025-09-03T10:54:02.529243Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test3", "module": "orders", "function": "capture_paypal_order", "line": 1350}
{"timestamp": "2025-09-03T10:54:05.737658Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T10:54:05.737921Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1405}
{"timestamp": "2025-09-03T10:54:08.438952Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 41779272FX2329444", "module": "orders", "function": "capture_paypal_order", "line": 1441}
{"timestamp": "2025-09-03T10:54:21.407144Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:54:21.408095Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:54:21.466133Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:54:21.466348Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:54:21.466525Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:54:21.466671Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:54:21.578992Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:21.579187Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:54:21.579378Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:54:21.579603Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:54:21.635988Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:54:21.636180Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:54:21.636374Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:54:21.636603Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:54:21.636787Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:54:25.097194Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:54:25.097370Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:54:25.154214Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:54:25.154435Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:54:25.154627Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:54:25.154822Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:54:25.267138Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:25.267382Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:54:25.267571Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.c: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:54:25.267752Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:54:25.324237Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:54:25.324460Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:54:25.324665Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:54:25.324885Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:54:28.299811Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:54:28.299989Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:54:28.357404Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:54:28.357691Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:54:28.357890Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:54:28.358235Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:54:28.471040Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:54:28.471244Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:54:28.471436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:54:28.471590Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:54:28.528254Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:54:28.528493Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:54:28.528716Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:54:28.528935Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:55:56.829790Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:55:56.829981Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:55:56.887583Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:55:56.887873Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:55:56.888084Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:55:56.888274Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:55:57.001878Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:55:57.002107Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:55:57.002305Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:55:57.002467Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:55:57.058860Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:55:57.059044Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:55:57.059192Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:55:57.059404Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:55:57.059544Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:56:00.597010Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:56:00.597218Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:56:00.653483Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:56:00.653654Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:56:00.653794Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:56:00.653941Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:56:00.771819Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:56:00.772008Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:56:00.772186Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:56:00.772366Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:56:00.832503Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:56:00.832690Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:56:00.832853Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:56:00.832995Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:56:02.887749Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:56:02.887944Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:56:02.945238Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:56:02.945444Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:56:02.945660Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:56:02.945890Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:56:03.059896Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:56:03.060148Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:56:03.060365Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:56:03.060584Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:56:03.116902Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:56:03.117122Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:56:03.117367Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:56:03.117681Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:56:12.346011Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:56:12.346190Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:56:12.403543Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:56:12.403713Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:56:12.403866Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:56:12.404009Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:56:12.520050Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:56:12.521166Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:56:12.522170Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:56:12.523203Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:56:12.581526Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:56:12.581757Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:56:12.581976Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:56:12.582242Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:56:12.582454Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:58:42.235057Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:42.254078Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:42.310783Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:42.310959Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:42.311099Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:42.311266Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:58:42.426747Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:58:42.426942Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:58:42.427106Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:58:42.427262Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:58:42.483745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:58:42.483929Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:58:42.484066Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:58:42.484249Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:58:42.484383Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:58:46.014116Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:46.014400Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:46.071853Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:46.072049Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:46.072228Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:46.072369Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:58:46.186191Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:58:46.186404Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:58:46.186600Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:58:46.186770Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail. has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:58:46.244247Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail. has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:58:46.244482Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:58:46.244685Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:58:46.244887Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:58:49.585381Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:49.585637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:49.650190Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:49.650393Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:49.650599Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:49.650750Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:58:49.784253Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:58:49.784543Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:58:49.784741Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:58:49.784973Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail. has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:58:49.849042Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail. has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:58:49.849262Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:58:49.849473Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:58:49.849651Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:58:51.774228Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:51.774468Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:51.838590Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:51.838750Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:51.838882Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:51.839025Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:58:51.965619Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:58:51.965880Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:58:51.966101Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.c: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:58:51.966320Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:58:52.029529Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:58:52.029735Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:58:52.029938Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:58:52.030115Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:58:53.847213Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:53.847925Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:53.914228Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:53.914432Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:53.914618Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:53.914827Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:58:54.043155Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:58:54.044144Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:58:54.045151Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:58:54.046149Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:58:54.111029Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:58:54.111264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:58:54.111476Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:58:54.111708Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:58:59.864202Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:58:59.864438Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:58:59.931432Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:58:59.931676Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:58:59.931901Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:58:59.932128Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:00.058528Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:00.058779Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:00.059013Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:00.059223Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:00.122663Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:00.122824Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:00.122961Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:00.123131Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:00.123256Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:07.622134Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:07.622375Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:07.687065Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:07.687300Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:07.687446Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:07.687644Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:07.816163Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:07.816368Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:07.816535Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.c: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:07.816698Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:07.879979Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:07.880214Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:07.880384Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:07.880545Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:59:10.354588Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:10.354788Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:10.418948Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:10.419192Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:10.419411Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:10.419609Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:10.547500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:10.548515Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:10.549246Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.c: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:10.549464Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:10.614660Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.c has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:10.615616Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:10.616596Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:10.617655Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:59:17.032213Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:17.032418Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:17.096027Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:17.096226Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:17.096434Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:17.096652Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:17.222972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:17.223232Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:17.223462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:17.223642Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:17.288233Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:17.288475Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:17.288685Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:17.288940Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:17.289152Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:23.186838Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:23.187051Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:23.250726Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:23.250888Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:23.251016Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:23.251157Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:23.378345Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:23.378527Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:23.378671Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:23.378800Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:23.442062Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:23.442296Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:23.442478Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:23.442709Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:23.442923Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:29.494152Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:29.494357Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:29.558462Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:29.558696Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:29.558889Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:29.559098Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:29.686368Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:29.686667Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:29.686896Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:29.687099Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:29.751011Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:29.751219Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:29.751384Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:29.751558Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:29.751728Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:30.417607Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:30.417870Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:30.475704Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:30.475923Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:30.476152Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:30.476318Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:30.602155Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:30.602413Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:30.602621Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:30.602837Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:30.659626Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:30.659872Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:30.660102Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:30.660367Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:30.660566Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:33.617087Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:33.617262Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:33.675118Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:33.675279Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:33.675422Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:33.675565Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:33.789906Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:33.790121Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:33.790317Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:33.790500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:33.853670Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:33.853908Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:33.854184Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:33.854365Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:59:36.659695Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:36.659901Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:36.716882Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:36.717082Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:36.717298Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:36.717489Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:36.831994Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:36.832253Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:36.832443Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.co: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:36.832633Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:36.889752Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.co has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:36.889992Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:36.890214Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:36.890419Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:59:45.648096Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:45.648272Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:45.704750Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:45.704946Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:45.705155Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:45.705346Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:45.818892Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:45.819111Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:45.819301Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:45.819451Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:45.876997Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:45.877258Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:45.877477Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T10:59:45.877703Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:45.877883Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T10:59:53.171909Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.comm'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:53.172163Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:53.230093Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:53.230262Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:53.230414Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:53.230557Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:53.345382Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:53.345607Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:53.345820Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.comm: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:53.346002Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:53.403361Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:53.403575Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:53.403841Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:53.404013Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T10:59:55.580454Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.comm'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T10:59:55.580658Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T10:59:55.638982Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T10:59:55.639239Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T10:59:55.639442Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T10:59:55.639607Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T10:59:55.754309Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T10:59:55.754551Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T10:59:55.754825Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.comm: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T10:59:55.755033Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T10:59:55.812207Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T10:59:55.812439Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T10:59:55.812639Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T10:59:55.812889Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:00:22.155176Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:00:22.155445Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:00:22.216993Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:00:22.217187Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:00:22.217356Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:00:22.217528Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:00:22.336694Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:00:22.336911Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:00:22.337099Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:00:22.337295Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:00:22.395500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:00:22.395714Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:00:22.395899Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:00:22.396109Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:00:22.396282Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:01:11.281803Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:11.281988Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:11.339827Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:11.339996Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:11.340186Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:11.340336Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:11.454460Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:11.454658Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:11.454861Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Coupon 'test3' has per-user limit (1) but no email provided", "module": "coupon_service", "function": "validate_coupon", "line": 245}
{"timestamp": "2025-09-03T11:01:11.455069Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:11.455230Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:01:14.882035Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.comm'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:14.882216Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:14.940460Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:14.940690Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:14.940906Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:14.941096Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:15.054668Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:15.054932Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:15.055194Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.comm: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:15.055420Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:15.112859Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:15.113097Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:15.113335Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:15.113545Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:01:17.868492Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.comm'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:17.868694Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:17.925629Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:17.925848Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:17.926030Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:17.926260Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.comm", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:18.040786Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:18.041000Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:18.041207Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.comm: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:18.041462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:18.098497Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.comm has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:18.098676Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:18.098831Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:18.099014Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:01:19.161556Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:19.161845Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:19.219718Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:19.219912Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:19.220089Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:19.220278Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:19.334587Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:19.334821Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:19.335008Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:19.335199Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:19.392712Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:19.392885Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:19.393032Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:01:19.393207Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:19.393345Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:01:23.080381Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:23.080552Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:23.137807Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:23.138047Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:23.138249Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:23.138465Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:23.261075Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:23.261306Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:23.261497Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:23.261673Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:23.318629Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:23.318858Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:23.319064Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:01:23.319313Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:23.319520Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:01:24.763787Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:24.764033Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:24.764221Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:24.764378Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:24.822802Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:24.822978Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:24.823129Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:01:24.823284Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed for test3: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "create_paypal_order", "line": 1109}
{"timestamp": "2025-09-03T11:01:24.823446Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0, net_total=8, coupon='test3'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T11:01:24.823618Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 8.00 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T11:01:25.339928Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 49N63750N1008845E", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T11:01:29.081667Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Order 49N63750N1008845E: Recalculated analytics for coupon test3 on cancellation", "module": "orders", "function": "cancel_paypal_order", "line": 1470}
{"timestamp": "2025-09-03T11:01:40.429031Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:40.429241Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:40.487054Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:40.487225Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:40.487351Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:40.487474Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:40.601888Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:40.602122Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:40.602348Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:40.602554Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:40.660116Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:40.660296Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:40.660452Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:01:40.660637Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:40.660767Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:01:46.575024Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:46.575216Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:46.632166Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:46.632366Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:46.632562Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:46.632745Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:46.747001Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:46.747248Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:46.747420Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:46.747614Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:46.805760Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:46.805972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:46.806182Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:46.806365Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:01:48.216931Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:01:48.217098Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:01:48.274902Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:01:48.275076Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:01:48.275231Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:01:48.275382Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:01:48.389277Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:48.389536Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:48.389715Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:48.389909Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:48.447082Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:48.447281Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:48.447459Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:01:48.447605Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:01:48.685362Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:48.685571Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:01:48.685731Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:01:48.685885Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:01:48.743739Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:01:48.743962Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:01:48.744216Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.4, net_total=7.6, coupon='test3'", "module": "orders", "function": "create_paypal_order", "line": 1114}
{"timestamp": "2025-09-03T11:01:48.744395Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.60 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1145}
{"timestamp": "2025-09-03T11:01:49.294584Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 8MJ42265JL310331U", "module": "orders", "function": "create_paypal_order", "line": 1148}
{"timestamp": "2025-09-03T11:01:55.991496Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 8MJ42265JL310331U", "module": "orders", "function": "capture_paypal_order", "line": 1218}
{"timestamp": "2025-09-03T11:01:57.246262Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 8MJ42265JL310331U. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T11:01:57.649512Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test3'", "module": "orders", "function": "capture_paypal_order", "line": 1311}
{"timestamp": "2025-09-03T11:01:57.649765Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Starting coupon application for test3 (status: StatusEnum.COMPLETED)", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T11:01:57.649980Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Applying coupon test3 for email brownmaster555@gmail.com, amount 8", "module": "orders", "function": "capture_paypal_order", "line": 1320}
{"timestamp": "2025-09-03T11:01:57.707681Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:57.707924Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage before apply: 2", "module": "orders", "function": "capture_paypal_order", "line": 1324}
{"timestamp": "2025-09-03T11:01:57.823293Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:57.823574Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test3': 2/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T11:01:57.823785Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Usage limit exceeded for 'test3': 2/2", "module": "coupon_service", "function": "apply_coupon", "line": 114}
{"timestamp": "2025-09-03T11:01:57.824030Z", "level": "ERROR", "logger": "src.routers.orders", "message": "PayPal Capture: Failed to apply coupon test3 during capture: This coupon has reached its maximum usage limit (2/2). Please try a different coupon.", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T11:01:57.881729Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:01:57.881971Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Real usage after apply: 2", "module": "orders", "function": "capture_paypal_order", "line": 1344}
{"timestamp": "2025-09-03T11:01:57.997928Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test3", "module": "orders", "function": "capture_paypal_order", "line": 1350}
{"timestamp": "2025-09-03T11:02:01.881300Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to brownmaster555@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T11:02:01.881535Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: brownmaster555@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1405}
{"timestamp": "2025-09-03T11:02:04.341513Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 8MJ42265JL310331U", "module": "orders", "function": "capture_paypal_order", "line": 1441}
{"timestamp": "2025-09-03T11:02:12.048923Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:02:12.049185Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:02:12.106977Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:02:12.107147Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:02:12.107277Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:02:12.107426Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:02:12.221639Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:02:12.221894Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:02:12.222092Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Coupon 'test3' has per-user limit (1) but no email provided", "module": "coupon_service", "function": "validate_coupon", "line": 245}
{"timestamp": "2025-09-03T11:02:12.222319Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:02:12.222515Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:02:15.122761Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:02:15.122973Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:02:15.187094Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:02:15.187336Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:02:15.187565Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:02:15.187741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:02:15.315232Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:02:15.315450Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:02:15.315630Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for avi@stez.co.il: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:02:15.315795Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:02:15.378474Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:02:15.378703Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:02:15.378902Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:02:15.379071Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:02:22.315402Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:02:22.315638Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:02:22.379857Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:02:22.380196Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:02:22.380408Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:02:22.380643Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:02:22.505879Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:02:22.506132Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:02:22.506347Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for avi@stez.co.il: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:02:22.506564Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:02:22.569450Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:02:22.569664Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:02:22.569901Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:02:22.570071Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:02:26.385994Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:02:26.386195Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:02:26.449622Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:02:26.449859Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:02:26.450000Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:02:26.450173Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:02:26.576099Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:02:26.576326Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:02:26.576535Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for avi@stez.co.il: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:02:26.576764Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:02:26.639684Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: avi@stez.co.il has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:02:26.639873Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:02:26.640041Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:02:26.640174Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:02:29.256400Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T11:02:29.256735Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T11:02:29.313388Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T11:02:29.527318Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T11:04:49.895679Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:04:49.895859Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:04:49.952747Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:04:49.952948Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:04:57.597154Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:04:57.597524Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:04:57.656136Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:04:57.656338Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:04:57.656470Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:04:58.809410Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:04:58.809646Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:04:58.809893Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:04:59.515889Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:05:30.031882Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:05:30.032062Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:05:30.087746Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:05:30.087961Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:05:32.297089Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:05:32.297312Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:05:32.347254Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:05:32.347467Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:05:32.347645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:05:33.080511Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:05:33.080745Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:05:33.081029Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:05:33.747246Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:08:21.110407Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:08:21.110620Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:08:21.168047Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:08:21.168312Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:08:23.123460Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:08:23.123656Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:08:23.173445Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:08:23.173660Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:08:23.173822Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:08:24.229188Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:08:24.229418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:08:24.229664Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:08:24.921448Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:09:35.519349Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:09:35.519588Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:09:35.590769Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:09:35.590965Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:09:35.591122Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:09:35.591353Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:09:35.703949Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:09:35.704175Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:09:35.704384Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:09:35.704556Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:09:35.761462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:09:35.761712Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:09:35.761942Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:09:35.762110Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:09:37.799506Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:09:37.799666Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:09:37.862587Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:09:37.862833Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:09:37.863041Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:09:37.863198Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:09:37.975360Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test3': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:09:37.975634Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test3': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:09:37.975875Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:09:37.976031Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:09:38.032768Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:09:38.032949Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:09:38.033107Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:09:38.033240Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:09:41.738549Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 0 available, 4 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T11:10:23.444415Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 8MJ42265JL310331U: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T11:10:23.786597Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 8MJ42265JL310331U: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T11:10:25.984918Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0MJ563979B495462W: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T11:10:26.322432Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0MJ563979B495462W: Recalculated coupon analytics for test5 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T11:10:28.694572Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 41779272FX2329444: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T11:10:29.037741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 41779272FX2329444: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T11:10:31.144299Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 49N63750N1008845E: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 977}
{"timestamp": "2025-09-03T11:10:31.525360Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 49N63750N1008845E: Recalculated coupon analytics for test3 after deletion", "module": "orders", "function": "delete_order", "line": 983}
{"timestamp": "2025-09-03T11:10:37.761583Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:10:37.761839Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:10:37.825576Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:10:37.825798Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:10:37.826002Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:10:37.826218Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:10:37.952600Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:37.952805Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:10:37.952981Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:10:37.953115Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:10:38.016398Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:10:38.016591Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:10:38.016758Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:10:38.016906Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:10:40.578023Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:10:40.578282Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:10:40.634470Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:10:40.634690Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:10:40.634828Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:10:40.634958Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:10:40.747733Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:40.747957Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:10:40.748185Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:10:40.748352Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:10:40.804542Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:10:40.804745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:10:40.804999Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:10:40.805209Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:10:42.313984Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:10:42.314193Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:10:42.370753Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:10:42.370938Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:10:42.371081Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:10:42.371270Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:10:42.483643Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:42.483897Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:10:42.484085Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:10:42.484244Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:10:42.540538Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:10:42.540736Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:10:42.540901Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:10:42.541042Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:10:44.907402Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:10:44.907582Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:10:44.964048Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:10:44.964295Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:10:44.964462Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:10:44.964625Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:10:45.076855Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:45.077072Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:10:45.077266Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:10:45.077443Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:10:45.133821Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:10:45.134054Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:10:45.134286Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:10:45.134466Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:10:45.366119Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:45.366324Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T11:10:45.423965Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage check - coupon field: 0, orders: 0, final: 0", "module": "coupon_service", "function": "apply_coupon", "line": 165}
{"timestamp": "2025-09-03T11:10:45.481133Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:45.537976Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test4'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 63}
{"timestamp": "2025-09-03T11:10:45.538240Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test4': $0.32 discount", "module": "coupon_service", "function": "apply_coupon", "line": 186}
{"timestamp": "2025-09-03T11:10:45.538471Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test4 at order creation: discount=0.32", "module": "orders", "function": "create_paypal_order", "line": 1115}
{"timestamp": "2025-09-03T11:10:45.538689Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.32, net_total=7.68, coupon='test4'", "module": "orders", "function": "create_paypal_order", "line": 1118}
{"timestamp": "2025-09-03T11:10:45.538913Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.68 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1149}
{"timestamp": "2025-09-03T11:10:46.832297Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 5LY45033P36153331", "module": "orders", "function": "create_paypal_order", "line": 1152}
{"timestamp": "2025-09-03T11:10:53.636736Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 5LY45033P36153331", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T11:10:54.892276Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 5LY45033P36153331. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1226}
{"timestamp": "2025-09-03T11:10:55.337377Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test4'", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T11:10:55.337596Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order completed - updating analytics for test4 (usage already applied at creation)", "module": "orders", "function": "capture_paypal_order", "line": 1319}
{"timestamp": "2025-09-03T11:10:55.401521Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:10:55.465754Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Updated usageCount for coupon 'test4' to 1", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 60}
{"timestamp": "2025-09-03T11:10:55.595300Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test4", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T11:10:58.648161Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T11:10:58.648430Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1386}
{"timestamp": "2025-09-03T11:11:01.217773Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 5LY45033P36153331", "module": "orders", "function": "capture_paypal_order", "line": 1422}
{"timestamp": "2025-09-03T11:11:08.129596Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:08.129793Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:08.186125Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:08.186310Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:08.186452Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:08.186597Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:08.299337Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:08.299550Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:08.299735Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:08.299902Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:08.356256Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:08.356434Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:08.356602Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:08.356750Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:11:12.970993Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:12.971247Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:13.027948Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:13.028140Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:13.028284Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:13.028422Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:13.141220Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:13.141483Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:13.141690Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:13.141880Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:13.198500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:13.198735Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:13.198984Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:13.199169Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:11:16.576311Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:16.576532Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:16.633110Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:16.633329Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:16.633547Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:16.633735Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:16.746589Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:16.746836Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:16.747080Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:16.747340Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:16.804816Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:16.805066Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:16.805281Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:16.805515Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:11:19.460035Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:19.460206Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:19.517408Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:19.517636Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:19.517841Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:19.518052Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:19.632225Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:19.633257Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:19.633681Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for mrbrownaffiliate@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:19.633876Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: mrbrownaffiliate@gmail.com has used 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:19.690766Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: mrbrownaffiliate@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:19.690966Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 1", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:19.691139Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T11:11:19.691324Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:19.691465Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 243}
{"timestamp": "2025-09-03T11:11:26.714923Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:26.715117Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:26.771373Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:26.771572Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:26.771746Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:26.771939Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:26.884773Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:26.885001Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:26.885238Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:26.885427Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:26.943636Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:26.943861Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:26.944095Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:26.944332Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:11:28.213201Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:28.213367Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:28.270648Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:28.270831Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:28.270991Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:28.271144Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:28.383223Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:28.383420Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:28.383576Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for brownmaster555@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:28.383740Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:28.440336Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: brownmaster555@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:28.440594Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:28.440769Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:28.440909Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:11:28.669669Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:28.669872Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test4': 1/2", "module": "coupon_service", "function": "apply_coupon", "line": 110}
{"timestamp": "2025-09-03T11:11:28.727436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User brownmaster555@gmail.com usage check - coupon field: 0, orders: 0, final: 0", "module": "coupon_service", "function": "apply_coupon", "line": 165}
{"timestamp": "2025-09-03T11:11:28.784869Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:28.841311Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test4'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 63}
{"timestamp": "2025-09-03T11:11:28.841528Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test4': $0.32 discount", "module": "coupon_service", "function": "apply_coupon", "line": 186}
{"timestamp": "2025-09-03T11:11:28.841708Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test4 at order creation: discount=0.32", "module": "orders", "function": "create_paypal_order", "line": 1115}
{"timestamp": "2025-09-03T11:11:28.841864Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.32, net_total=7.68, coupon='test4'", "module": "orders", "function": "create_paypal_order", "line": 1118}
{"timestamp": "2025-09-03T11:11:28.842029Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.68 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1149}
{"timestamp": "2025-09-03T11:11:29.509341Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 0F702873X1989535R", "module": "orders", "function": "create_paypal_order", "line": 1152}
{"timestamp": "2025-09-03T11:11:36.795774Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 0F702873X1989535R", "module": "orders", "function": "capture_paypal_order", "line": 1222}
{"timestamp": "2025-09-03T11:11:38.215651Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 0F702873X1989535R. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1226}
{"timestamp": "2025-09-03T11:11:38.612491Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test4'", "module": "orders", "function": "capture_paypal_order", "line": 1315}
{"timestamp": "2025-09-03T11:11:38.612747Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order completed - updating analytics for test4 (usage already applied at creation)", "module": "orders", "function": "capture_paypal_order", "line": 1319}
{"timestamp": "2025-09-03T11:11:38.669878Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 2 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:38.727581Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Updated usageCount for coupon 'test4' to 2", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 60}
{"timestamp": "2025-09-03T11:11:38.841516Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test4", "module": "orders", "function": "capture_paypal_order", "line": 1331}
{"timestamp": "2025-09-03T11:11:41.819202Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to brownmaster555@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T11:11:41.819494Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: brownmaster555@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1386}
{"timestamp": "2025-09-03T11:11:44.362222Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 0F702873X1989535R", "module": "orders", "function": "capture_paypal_order", "line": 1422}
{"timestamp": "2025-09-03T11:11:50.477127Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 177}
{"timestamp": "2025-09-03T11:11:50.477413Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 192}
{"timestamp": "2025-09-03T11:11:50.533731Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 208}
{"timestamp": "2025-09-03T11:11:50.533941Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 211}
{"timestamp": "2025-09-03T11:11:50.534117Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 218}
{"timestamp": "2025-09-03T11:11:50.534302Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 230}
{"timestamp": "2025-09-03T11:11:50.646969Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 33}
{"timestamp": "2025-09-03T11:11:50.647221Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 233}
{"timestamp": "2025-09-03T11:11:50.647475Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Checking per-user limit for evyatarhypixel1477@gmail.com: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 249}
{"timestamp": "2025-09-03T11:11:50.647639Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From coupon.userUsages: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T11:11:50.703969Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: From orders query: evyatarhypixel1477@gmail.com has used 0 times", "module": "coupon_service", "function": "validate_coupon", "line": 292}
{"timestamp": "2025-09-03T11:11:50.704193Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Final usage count (max of both methods): 0", "module": "coupon_service", "function": "validate_coupon", "line": 296}
{"timestamp": "2025-09-03T11:11:50.704373Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 232}
{"timestamp": "2025-09-03T11:11:50.704516Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 251}
{"timestamp": "2025-09-03T11:23:14.432366Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:23:14.432591Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:23:14.489172Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:23:14.489399Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:23:16.595890Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:23:16.596101Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:23:16.646311Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:23:16.646600Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:23:16.646784Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:23:19.316910Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:23:19.317142Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:23:19.317417Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:23:20.037211Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:23:27.465962Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:23:27.466956Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:23:27.530214Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:23:27.530457Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:23:29.602880Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:23:29.603117Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:23:29.651844Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:23:29.652100Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:23:29.652243Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:23:30.281646Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:23:30.281879Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:23:30.282144Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:23:30.954002Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:23:48.757079Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:23:48.757395Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:23:48.812855Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:23:48.813056Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:23:50.928462Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:23:50.928680Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:23:50.978143Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:23:50.978401Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:23:50.978539Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:23:51.663755Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:23:51.663967Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:23:51.664234Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:23:52.421385Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:24:11.338439Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:24:11.338678Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:24:11.395295Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:24:11.395569Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:24:13.578136Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:24:13.578474Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:24:13.628875Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:24:13.629154Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:24:13.629321Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:24:14.308360Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:24:14.308662Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:24:14.309016Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:24:15.057909Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:26:15.742637Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:26:15.742946Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:26:15.799237Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:26:15.799401Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:26:17.911356Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:26:17.911624Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:26:17.961205Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:26:17.961477Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:26:17.961769Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:26:19.100148Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:26:19.100383Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:26:19.100653Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:26:19.776746Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:27:03.400232Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:27:03.400483Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:27:03.463967Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:27:03.464136Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:27:06.027236Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:27:06.027466Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:27:06.077463Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:27:06.077678Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:27:06.077840Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:27:06.760964Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:27:06.761219Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:27:06.761501Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:27:07.482507Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:30:55.965529Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:30:55.965780Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:30:56.016116Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:30:56.016382Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:30:56.016571Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:30:57.128261Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:30:57.128527Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:30:57.128867Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:30:57.827258Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:32:26.781298Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:32:26.781519Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:32:26.838623Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:32:26.838846Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:33:01.838692Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:33:01.838884Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:33:01.888327Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:33:01.888505Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:33:01.888625Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:33:02.936153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:33:02.936351Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:33:02.936658Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:33:03.656527Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:33:30.112477Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:33:30.112615Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:33:30.168752Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:33:30.168959Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:36:05.269350Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:36:05.269630Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:36:05.318690Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:36:05.318939Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:36:05.319121Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:36:06.407698Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:36:06.407972Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:36:06.408265Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:36:07.156694Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:36:32.230013Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T11:36:32.230210Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T11:36:32.293579Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T11:36:32.293815Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T11:39:16.385428Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:39:16.385691Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:39:16.435020Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:39:16.435297Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:39:16.435460Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:39:17.498019Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:39:17.498241Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:39:17.498539Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:39:18.187857Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:39:26.772386Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:39:26.772582Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:39:26.823659Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:39:26.823893Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:39:26.824055Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:39:27.447644Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:39:27.447785Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:39:27.447962Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:39:28.112422Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T11:39:41.593935Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T11:39:41.594088Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T11:39:41.644225Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T11:39:41.644419Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T11:39:41.644546Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T11:39:42.295375Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T11:39:42.295524Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T11:39:42.295756Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T11:39:43.030187Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:27:56.571354Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:27:56.571609Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:27:56.602217Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:27:56.602427Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:27:56.617136Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:27:56.617338Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:27:56.628826Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:27:56.629026Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:27:56.659634Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:27:56.659786Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:27:56.675508Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:27:56.675743Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:28:03.760587Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:28:03.760644Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:28:03.760681Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:28:03.760789Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:28:03.760809Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:28:03.760867Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:28:03.814242Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:28:03.814475Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:28:03.814599Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:28:03.814638Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:28:03.814853Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:28:03.815039Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:28:03.816044Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:28:03.816241Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:28:03.816369Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:28:06.616609Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:28:06.616765Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:28:06.616980Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:28:06.667249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:28:06.667616Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:28:06.667941Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:28:06.864093Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:28:06.864332Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:28:06.864607Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:28:07.316356Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:28:07.384306Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:28:07.557753Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:32:34.759004Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:32:34.759237Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:32:34.791397Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:32:34.791577Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:32:34.821994Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:32:34.822162Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:32:34.837411Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:32:34.837567Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:32:34.848095Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:32:34.848240Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:32:34.894377Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:32:34.894539Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:32:37.433121Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:32:37.433352Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:32:37.433359Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:32:37.433394Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:32:37.489002Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:32:37.489226Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:32:37.489396Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:32:37.490505Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:32:37.490510Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:32:37.491442Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:32:37.491449Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:32:37.492230Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:32:37.492286Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:32:39.222128Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:32:39.222738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:32:39.222960Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:32:39.228258Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:32:39.228485Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:32:39.228744Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:32:39.288194Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:32:39.288422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:32:39.288691Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:32:39.927021Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:32:39.972547Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:32:40.024445Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:40:56.161749Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T12:41:00.765177Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T12:41:00.765334Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T12:41:00.832416Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T12:41:01.045827Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T12:41:04.950399Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'TEST3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:41:04.950604Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=TEST3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:41:05.041213Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:41:05.041463Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:41:05.041633Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:41:05.041790Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=TEST3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:41:05.123446Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'TEST3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:41:05.123631Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'TEST3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 323}
{"timestamp": "2025-09-03T12:41:06.768933Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test3', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:41:06.769151Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:41:06.832963Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:41:06.833180Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:41:06.833398Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:41:06.833621Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test3, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:41:06.896867Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'test3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:41:06.897071Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'test3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 323}
{"timestamp": "2025-09-03T12:41:13.881948Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:41:13.882144Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:41:13.946127Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:41:13.946328Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:41:13.946514Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:41:13.946692Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:41:14.074628Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 39}
{"timestamp": "2025-09-03T12:41:14.074897Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-03T12:41:14.138329Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test4': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T12:41:14.138594Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T12:41:14.138805Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:41:14.139042Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 331}
{"timestamp": "2025-09-03T12:42:16.738011Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:42:16.738180Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:42:16.788809Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:42:16.788988Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:42:16.789115Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:42:19.427597Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:42:19.427811Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:42:19.428101Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:42:20.097345Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:43:17.001786Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T12:43:19.263903Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'tes3', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:43:19.264135Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=tes3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:43:19.327940Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:43:19.328115Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:43:19.328268Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:43:19.328409Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=tes3, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:43:19.392012Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=Coupon code 'tes3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:43:19.392425Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: Coupon code 'tes3' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 323}
{"timestamp": "2025-09-03T12:43:23.177362Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:43:23.177524Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:43:23.241845Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:43:23.242023Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:43:23.242182Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:43:23.242348Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:43:23.369021Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 39}
{"timestamp": "2025-09-03T12:43:23.369667Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-03T12:43:23.432988Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User avi@stez.co.il usage count for coupon 'test4': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T12:43:23.433130Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User avi@stez.co.il usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T12:43:23.433256Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:43:23.433407Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 331}
{"timestamp": "2025-09-03T12:43:39.718931Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:43:39.719345Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:43:39.782419Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:43:39.782563Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:43:39.782683Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:43:39.782798Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:43:39.909302Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 39}
{"timestamp": "2025-09-03T12:43:39.909452Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-03T12:43:39.909601Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Coupon 'test4' has per-user limit (1) but no email provided", "module": "coupon_service", "function": "validate_coupon", "line": 257}
{"timestamp": "2025-09-03T12:43:39.909742Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.0, coupon=False, error=This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:43:39.909869Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Coupon validation failed: This coupon requires an email address. Please enter your email first.", "module": "orders", "function": "validate_coupon_public", "line": 323}
{"timestamp": "2025-09-03T12:43:41.633453Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:43:41.633661Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:43:41.697534Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:43:41.697670Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:43:41.697824Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized successfully", "module": "orders", "function": "validate_coupon_public", "line": 298}
{"timestamp": "2025-09-03T12:43:41.698001Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 310}
{"timestamp": "2025-09-03T12:43:41.824308Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test4': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 39}
{"timestamp": "2025-09-03T12:43:41.824489Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test4': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 243}
{"timestamp": "2025-09-03T12:43:41.887632Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User avi@stez.co.il usage count for coupon 'test4': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T12:43:41.887805Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User avi@stez.co.il usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T12:43:41.888013Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.32, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 312}
{"timestamp": "2025-09-03T12:43:41.888214Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.32", "module": "orders", "function": "validate_coupon_public", "line": 331}
{"timestamp": "2025-09-03T12:45:34.396060Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:45:34.396304Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:45:34.459364Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:45:34.459572Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:45:55.448809Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:45:55.449004Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:45:55.498610Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:45:55.498793Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:45:55.498908Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:45:59.141453Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:45:59.141647Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:45:59.141876Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:46:00.664289Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:47:10.957071Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:47:10.957294Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:47:11.020691Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:47:11.020915Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:47:11.527921Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:47:11.528147Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:47:11.580983Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:47:11.581215Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:47:11.581386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:47:14.096548Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:47:14.096790Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:47:14.097064Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:47:14.782350Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:00.915872Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:00.916012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:00.974397Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:00.974674Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:00.995283Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:00.995422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:01.060729Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:01.060924Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:01.073289Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:01.073466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:01.135043Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:01.135326Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:03.590907Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:03.591408Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:03.594019Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:03.594381Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:03.616789Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:03.617130Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:03.654476Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:03.654718Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:03.655189Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:03.656006Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:03.656260Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:03.656402Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:03.678853Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:03.679108Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:03.679268Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:04.756471Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:04.756628Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:04.756815Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:04.775519Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:04.775830Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:04.776120Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:04.802146Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:04.802474Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:04.802673Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:05.460630Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:05.485380Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:05.498434Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:15.466999Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:15.467164Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:15.467607Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:15.467624Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:15.512010Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:15.512248Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:15.523245Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:15.523396Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:15.560790Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:15.560968Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:15.568363Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:15.568531Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:18.137381Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:18.137459Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:18.137853Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:18.137943Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:18.139239Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:18.139433Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:18.191032Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:18.191935Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:18.192236Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:18.192907Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:18.192939Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:18.193402Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:18.195503Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:18.195827Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:18.196016Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:18.842787Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:18.843018Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:18.843308Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:18.850065Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:18.850239Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:18.850452Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:18.861311Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:18.861554Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:18.861801Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:19.576997Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:19.582504Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:19.622936Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:34.550419Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:34.550580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:34.582364Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:34.582568Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:34.597835Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:34.598029Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:34.614082Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:34.614293Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:34.637957Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:34.638139Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:34.661316Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:34.661492Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:36.992861Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:36.993239Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:37.050408Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:37.050644Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:37.050778Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:37.116537Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:37.116761Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:37.136306Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:37.136490Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:37.168980Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:37.169193Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:37.169392Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:37.189983Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:37.190171Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:37.190298Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:37.700512Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:37.700750Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:37.701046Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:37.811810Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:37.812026Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:37.812252Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:37.889643Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:37.889880Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:37.890107Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:38.387159Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:38.489164Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:38.555643Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:52.859664Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:52.859995Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:52.874795Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:52.875072Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:52.916662Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:52.916820Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:52.932716Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:52.932936Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:52.935404Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:49:52.935542Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:49:52.999153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:49:52.999381Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:49:55.371097Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:55.371313Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:55.385462Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:55.385641Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:55.405211Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:49:55.405397Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:49:55.423031Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:55.423258Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:55.423408Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:55.437653Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:55.437845Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:55.438008Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:55.458676Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:49:55.458862Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:49:55.458979Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:49:56.080111Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:56.080336Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:56.080616Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:56.085324Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:56.085505Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:56.085692Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:56.101452Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:49:56.101685Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:49:56.101885Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:49:56.778235Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:56.785271Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:49:56.786804Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:50:33.466260Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:50:33.466465Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:50:33.512691Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:50:33.512869Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:50:33.522702Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:50:33.522942Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:50:33.527334Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:50:33.527473Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:50:33.568694Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:50:33.568850Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:50:33.582107Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:50:33.582254Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:50:35.848824Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:50:35.849023Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:50:35.849602Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:50:35.849838Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:50:35.869285Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:50:35.869604Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:50:35.901670Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:50:35.901991Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:50:35.902185Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:50:35.902443Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:50:35.902776Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:50:35.902960Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:50:35.924862Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:50:35.925109Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:50:35.925239Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:50:38.116263Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:50:38.116464Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:50:38.116734Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:50:38.153051Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:50:38.153475Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:50:38.153886Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:50:38.174051Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:50:38.174247Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:50:38.174453Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:50:38.823996Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:50:38.845073Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:50:38.871866Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:50:59.656294Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': None}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:50:59.656496Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=None", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:50:59.722258Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:50:59.722641Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:50:59.722838Z", "level": "ERROR", "logger": "src.routers.orders", "message": "CouponService initialization failed: cannot import name 'mongo_db' from 'src.lib.database_manager' (D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py)", "module": "orders", "function": "validate_coupon_public", "line": 305}
{"timestamp": "2025-09-03T12:51:01.686924Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:51:01.687106Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:51:01.747639Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:51:01.747808Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:51:01.747990Z", "level": "ERROR", "logger": "src.routers.orders", "message": "CouponService initialization failed: cannot import name 'mongo_db' from 'src.lib.database_manager' (D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py)", "module": "orders", "function": "validate_coupon_public", "line": 305}
{"timestamp": "2025-09-03T12:51:02.341350Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:51:02.341529Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:51:02.398517Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:51:02.398658Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:51:02.398849Z", "level": "ERROR", "logger": "src.routers.orders", "message": "CouponService initialization failed: cannot import name 'mongo_db' from 'src.lib.database_manager' (D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py)", "module": "orders", "function": "validate_coupon_public", "line": 305}
{"timestamp": "2025-09-03T12:51:02.857437Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test4', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:51:02.857603Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test4, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:51:02.914883Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:51:02.915026Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:51:02.915169Z", "level": "ERROR", "logger": "src.routers.orders", "message": "CouponService initialization failed: cannot import name 'mongo_db' from 'src.lib.database_manager' (D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py)", "module": "orders", "function": "validate_coupon_public", "line": 305}
{"timestamp": "2025-09-03T12:51:05.200915Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T12:51:05.201107Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T12:51:05.261585Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T12:51:05.478186Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T12:51:19.896218Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test77', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T12:51:19.896485Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test77, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T12:51:19.955532Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T12:51:19.956434Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T12:51:19.958233Z", "level": "ERROR", "logger": "src.routers.orders", "message": "CouponService initialization failed: cannot import name 'mongo_db' from 'src.lib.database_manager' (D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\lib\\database_manager.py)", "module": "orders", "function": "validate_coupon_public", "line": 305}
{"timestamp": "2025-09-03T12:54:20.453584Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:20.453855Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:20.468184Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:20.468425Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:20.498604Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:20.498768Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:20.516544Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:20.516727Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:20.528149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:20.528460Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:20.555653Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:20.555863Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:23.107158Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:23.107396Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:23.107413Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:23.107420Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:23.107935Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:23.108034Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:23.162487Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:23.162927Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:23.163071Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:23.163855Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:23.163972Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:23.164353Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:23.165112Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:23.165448Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:23.165688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:24.980720Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:24.980881Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:24.981078Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:25.043094Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:25.043307Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:25.043587Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:25.060053Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:25.060237Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:25.060453Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:25.648732Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:54:25.738767Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:54:25.743451Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:54:51.608113Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:51.608349Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:51.623818Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:51.623853Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:54:51.624017Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:51.624167Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:54:51.671214Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:51.671365Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:51.681201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:51.681410Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:51.688084Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:54:51.688260Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:54:54.332622Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:54.332838Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:54.332992Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:54.333114Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:54:54.333228Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:54.333357Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:54:54.390197Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:54.390469Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:54.390623Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:54.390629Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:54.390842Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:54.391492Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:54.391905Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:54:54.392104Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:54:54.392237Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:54:55.025968Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:55.026210Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:55.026489Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:55.038943Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:55.039102Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:55.039349Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:55.041760Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:54:55.041917Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:54:55.042116Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:54:55.707184Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:54:55.733584Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:54:55.733731Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:04.308249Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:04.308391Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:04.323257Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:04.323478Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:04.339390Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:04.339567Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:04.366225Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:04.366396Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:04.386282Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:04.386434Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:04.403325Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:04.403499Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:06.986957Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:06.987025Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:06.987208Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:06.987265Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:06.991685Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:06.991866Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:07.040941Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:07.041157Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:07.041308Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:07.042198Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:07.042405Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:07.042580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:07.044922Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:07.045166Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:07.045332Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:07.691843Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:07.692147Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:07.692683Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:07.693285Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:07.693530Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:07.693831Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:07.728259Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:07.728468Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:07.728686Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:08.381927Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:08.392158Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:08.402279Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:14.472575Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:14.472755Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:14.472844Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:14.473139Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:14.529109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:14.529165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:14.529280Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:14.529339Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:14.765686Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:14.765843Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:14.821461Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:14.821639Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:16.929445Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:16.929685Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:16.929759Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:16.930067Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:16.983881Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:16.983959Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:16.984188Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:16.984269Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:16.984358Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:16.984462Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:17.105066Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:17.105257Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:17.164296Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:17.164574Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:17.164727Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:17.613592Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:17.613955Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:17.614419Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:17.634914Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:17.635095Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:17.635292Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:17.801829Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:17.802011Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:17.802208Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:18.308764Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:18.321207Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:18.485208Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:46.033091Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:46.033243Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:46.097802Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:46.098065Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:46.125968Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:46.126149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:46.172866Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:55:46.173025Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:55:46.183097Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:46.183290Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:46.236601Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:55:46.236764Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:55:48.608873Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:48.609150Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:48.609227Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:48.663189Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:48.663420Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:48.663613Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:48.664113Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:48.664387Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:48.664574Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:48.693735Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:55:48.694015Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:55:48.743826Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:55:48.744029Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:55:48.744206Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:55:49.455232Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:49.455519Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:49.455717Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:49.517339Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:49.517533Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:49.517762Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:49.872879Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:55:49.873042Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:55:49.873240Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:55:50.141525Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:50.201634Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:55:50.544049Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:16.444628Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:16.444810Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:16.473681Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:16.473892Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:16.500697Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:16.500878Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:16.530518Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:16.530768Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:16.550587Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:16.550797Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:16.614741Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:16.615223Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:18.752523Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:18.752657Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:18.752823Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:18.752924Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:18.804069Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:18.804266Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:18.804384Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:18.807294Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:18.807501Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:18.807650Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:18.887264Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:18.887449Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:18.936671Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:18.936877Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:18.936989Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:19.755296Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:19.755491Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:19.755726Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:19.798589Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:19.798871Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:19.799161Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:19.837569Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:19.837738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:19.838003Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:20.455407Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:20.522086Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:20.558128Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:31.244964Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:31.245096Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:31.302446Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:31.302658Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:31.416868Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:31.417009Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:31.433477Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:31.433667Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:31.480438Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:31.480694Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:31.490580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:31.490787Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:33.604283Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:33.604493Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:33.657551Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:33.657722Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:33.657838Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:33.981586Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:33.981792Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:34.035100Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:34.035404Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:34.035550Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:34.041643Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:34.041907Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:34.095382Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:34.095635Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:34.096667Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:34.303479Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:34.303636Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:34.303828Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:34.731825Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:34.732123Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:34.732430Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:34.763733Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:34.763929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:34.764178Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:35.049157Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:35.453281Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:35.479475Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:49.967823Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:49.967983Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:49.999577Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:49.999792Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:50.023698Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:50.023846Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:50.062741Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:50.062902Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:50.109370Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:57:50.109591Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:57:50.164509Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:57:50.164742Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:57:52.449888Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:52.450100Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:52.501677Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:52.501868Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:52.501988Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:52.508738Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:52.509017Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:52.509728Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:57:52.509958Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:57:52.571184Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:52.571504Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:52.571640Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:52.573684Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:57:52.573929Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:57:52.574095Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:57:53.142912Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:53.143134Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:53.143412Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:53.216970Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:53.217297Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:53.217661Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:53.266732Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:57:53.267035Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:57:53.267548Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:57:53.841908Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:53.957666Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:57:53.985883Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:20.870607Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:20.870868Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:20.933483Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:20.933717Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:20.934386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:20.934640Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:20.998001Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:20.998223Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:21.039150Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:21.039286Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:21.103618Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:21.103834Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:23.273938Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:23.274135Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:23.277681Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:23.277884Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:23.325475Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:23.325654Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:23.325766Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:23.330120Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:23.330542Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:23.330777Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:23.422142Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:23.422344Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:23.471602Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:23.471841Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:23.471975Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:24.849387Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:24.849738Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:24.850001Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:24.881145Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:24.881608Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:24.881857Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:24.887169Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:24.887324Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:24.887561Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:25.532116Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:25.556047Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:25.604924Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:36.433503Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:36.433654Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:36.496366Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:36.497096Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:36.572873Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:36.573113Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:36.587543Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:36.587780Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:36.628938Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:36.629156Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:36.651174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:36.651561Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:38.797459Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:38.797674Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:38.854020Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:38.854225Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:38.854787Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:39.236386Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:39.236649Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:39.265988Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:58:39.266409Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:58:39.308055Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:39.308354Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:39.308579Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:39.343866Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:58:39.344063Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:58:39.344215Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:58:39.514510Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:39.514671Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:39.514864Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:39.947613Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:39.947830Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:39.948064Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:40.049203Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:58:40.049506Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:58:40.049857Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:58:40.226600Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:40.674019Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:40.784092Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:58:58.657880Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:58.658135Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:58.723948Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:58.724182Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:58.737269Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:58.737444Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:58.794145Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:58.794339Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:58:58.798986Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T12:58:58.799159Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T12:58:58.854008Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T12:58:58.854163Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T12:59:01.154850Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:59:01.155134Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:59:01.219021Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:59:01.219261Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:59:01.219418Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:59:01.386370Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:59:01.386582Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:59:01.401066Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T12:59:01.401448Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T12:59:01.441972Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:59:01.442181Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:59:01.442300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:59:01.459126Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T12:59:01.459412Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T12:59:01.459548Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T12:59:01.851481Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:59:01.851737Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:59:01.852007Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:59:02.126879Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:59:02.127431Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:59:02.127824Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:59:02.166756Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T12:59:02.167142Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T12:59:02.167462Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T12:59:02.518901Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:59:02.847639Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T12:59:02.868657Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:21.558378Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:21.558573Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:21.622191Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:21.622377Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:21.715035Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:21.715301Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:21.771525Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:21.771674Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:21.807832Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:21.807994Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:21.873096Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:21.873248Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:25.320859Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:00:25.321154Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:25.321227Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:25.321741Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:00:25.321923Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:25.374022Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:25.374248Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:25.374401Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:25.374969Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:25.375205Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:25.375353Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:25.375675Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:25.375887Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:25.376047Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:26.651202Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:26.651459Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:26.651827Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:26.656311Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:26.656510Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:26.656750Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:26.664984Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:26.665202Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:26.665483Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:27.350193Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:27.363533Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:27.392975Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:30.729091Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:30.729310Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:30.760328Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:30.760554Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:30.791779Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:30.791938Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:30.816569Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:30.816756Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:30.851139Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:00:30.851335Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:00:30.908308Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:00:30.908491Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:00:33.158454Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:00:33.158688Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:33.212137Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:33.212331Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:33.212499Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:33.311245Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:00:33.311492Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:33.366271Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:33.366513Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:33.366663Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:33.377358Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:00:33.377541Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:00:33.430586Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:00:33.430850Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:00:33.430987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:00:33.831271Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:33.831563Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:33.831844Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:34.037678Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:34.037942Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:34.038186Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:34.140624Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:00:34.141199Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:00:34.141780Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:00:34.502234Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:34.743490Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:00:34.924825Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:01:20.475795Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:01:20.476012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:01:20.532890Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:01:20.533051Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:01:20.584022Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:01:20.584324Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:01:20.650541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:01:20.650699Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:01:20.782968Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:01:20.783167Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:01:20.838624Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:01:20.838793Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:01:23.375481Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:01:23.375544Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:01:23.375719Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:01:23.375903Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:01:23.375931Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:01:23.376009Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:01:23.428893Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:01:23.429212Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:01:23.429594Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:01:23.430168Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:01:23.430379Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:01:23.430504Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:01:23.430558Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:01:23.430799Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:01:23.430944Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:01:24.079838Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:01:24.080023Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:01:24.080293Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:01:24.082600Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:01:24.082829Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:01:24.083107Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:01:24.126009Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:01:24.126258Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:01:24.126535Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:01:24.758060Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:01:24.759723Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:01:24.836221Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:01.347017Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:01.347193Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:01.362906Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:01.363079Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:01.404013Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:02:01.404365Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:01.434076Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:02:01.434289Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:01.457630Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:01.457846Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:01.518784Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:02:01.519044Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:03.945562Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:03.945781Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:03.948333Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:03.948529Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:03.948993Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:03.949152Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:03.997553Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:03.997841Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:03.998020Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:04.001303Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:04.001369Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:04.001667Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:04.001755Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:04.002120Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:04.002228Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:04.711472Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:04.711701Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:04.711753Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:04.712109Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:04.712316Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:04.712904Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:04.811787Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:04.811962Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:04.812171Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:05.454210Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:05.455562Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:05.555542Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:12.656032Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:12.656127Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:12.656227Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:12.656292Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:12.689380Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:02:12.689728Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:02:12.713025Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:02:12.713302Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:12.713403Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:12.746149Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:02:12.746351Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:02:15.685125Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:15.685351Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:15.688340Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:15.688577Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:02:15.688674Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:15.688932Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:02:15.739675Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:15.740092Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:15.740265Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:15.740926Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:15.741075Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:02:15.741154Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:15.741261Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:02:15.741300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:15.741400Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:02:16.383922Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:16.384176Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:16.384511Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:16.390953Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:16.391326Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:16.391599Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:16.407352Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:02:16.407567Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:02:16.407817Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:02:17.079284Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:17.136080Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:02:17.156037Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:03:32.400299Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:03:32.400487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:03:32.415343Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:03:32.415469Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:03:32.415547Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:03:32.416040Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:03:32.457645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:03:32.457845Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:03:32.471067Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:03:32.471319Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:03:32.471666Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:03:32.471881Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:03:34.699898Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:03:34.700125Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:03:34.706752Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:03:34.707010Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:03:34.760091Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:03:34.760423Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:03:34.760610Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:03:34.765113Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:03:34.765341Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:03:34.765487Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:03:34.780900Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:03:34.781078Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:03:34.830206Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:03:34.830388Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:03:34.830512Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:03:37.586783Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:03:37.587027Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:03:37.587460Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:03:37.621056Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:03:37.621278Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:03:37.621508Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:03:37.653722Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:03:37.654004Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:03:37.654318Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:03:38.295214Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:03:38.309660Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:03:38.378445Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:04:26.668158Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:04:26.668382Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:04:26.722037Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:04:26.722280Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:04:26.722448Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:04:29.080537Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:04:29.080701Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:04:29.080920Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:04:29.817076Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:04:50.844411Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:04:50.844572Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:04:50.907987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:04:50.908171Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:05:05.084090Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:05:05.084273Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:05:05.134655Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:05:05.134836Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:05:05.134972Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:05:06.125940Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:05:06.126109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:05:06.126318Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:05:06.812936Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:05:09.180481Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:05:09.180651Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:05:09.245012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:05:09.245215Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:05:15.294068Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:05:15.294226Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:05:15.342204Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:05:15.342462Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:05:15.342660Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:05:15.994092Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:05:15.994405Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:05:15.994636Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:05:16.690611Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:09:58.623059Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:09:58.623301Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:09:58.673785Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:09:58.674058Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:09:58.674258Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:09:59.822578Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:09:59.822833Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:09:59.823118Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:10:00.539461Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:12:53.430035Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5LY45033P36153331: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 1061}
{"timestamp": "2025-09-03T13:12:53.767186Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 5LY45033P36153331: Recalculated coupon analytics for test4 after deletion", "module": "orders", "function": "delete_order", "line": 1067}
{"timestamp": "2025-09-03T13:12:55.707132Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0F702873X1989535R: Released keys before deletion", "module": "orders", "function": "delete_order", "line": 1061}
{"timestamp": "2025-09-03T13:12:56.044138Z", "level": "INFO", "logger": "src.routers.orders", "message": "Order 0F702873X1989535R: Recalculated coupon analytics for test4 after deletion", "module": "orders", "function": "delete_order", "line": 1067}
{"timestamp": "2025-09-03T13:12:59.903854Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:12:59.904070Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:12:59.961179Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:12:59.961482Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:12:59.961625Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:12:59.961760Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:00.076527Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:00.076738Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:00.133308Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:00.133496Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:00.133632Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:00.133747Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:03.624097Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:03.624359Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:03.680677Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:03.680866Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:03.681027Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:03.681186Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:03.793249Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:03.793759Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:03.849894Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:03.850069Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:03.850205Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:03.850329Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:06.424399Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:06.424585Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:06.481254Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:06.481442Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:06.481602Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:06.481768Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:06.594065Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:06.594221Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:06.649934Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.co usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:06.650111Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.co usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:06.650249Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:06.650365Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:08.051573Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:08.051808Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:08.108152Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:08.108376Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:08.108533Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:08.108746Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:08.221474Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:08.221698Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:08.278089Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:08.278596Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:08.278791Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:08.278929Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:11.258462Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:11.258844Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:11.315494Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:11.315681Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:11.315842Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:11.315985Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:11.427481Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:11.427761Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:11.487313Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:11.487506Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:11.487641Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:11.487776Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:11.721404Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:11.721955Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "apply_coupon", "line": 175}
{"timestamp": "2025-09-03T13:13:11.778565Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:11.778796Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "apply_coupon", "line": 194}
{"timestamp": "2025-09-03T13:13:11.835865Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:11.891943Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test5'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 129}
{"timestamp": "2025-09-03T13:13:11.892103Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test5': $0.4 discount", "module": "coupon_service", "function": "apply_coupon", "line": 216}
{"timestamp": "2025-09-03T13:13:11.892235Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test5 at order creation: discount=0.4", "module": "orders", "function": "create_paypal_order", "line": 1201}
{"timestamp": "2025-09-03T13:13:11.892366Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.4, net_total=7.6, coupon='test5'", "module": "orders", "function": "create_paypal_order", "line": 1204}
{"timestamp": "2025-09-03T13:13:11.892836Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.60 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1235}
{"timestamp": "2025-09-03T13:13:12.994217Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 3FE80564HE279442R", "module": "orders", "function": "create_paypal_order", "line": 1238}
{"timestamp": "2025-09-03T13:13:27.119200Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 3FE80564HE279442R", "module": "orders", "function": "capture_paypal_order", "line": 1308}
{"timestamp": "2025-09-03T13:13:28.560987Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 3FE80564HE279442R. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1312}
{"timestamp": "2025-09-03T13:13:28.955815Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test5'", "module": "orders", "function": "capture_paypal_order", "line": 1401}
{"timestamp": "2025-09-03T13:13:28.956017Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order completed - updating analytics for test5 (usage already applied at creation)", "module": "orders", "function": "capture_paypal_order", "line": 1405}
{"timestamp": "2025-09-03T13:13:29.013769Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:29.071382Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Updated usageCount for coupon 'test5' to 1", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 126}
{"timestamp": "2025-09-03T13:13:29.185106Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test5", "module": "orders", "function": "capture_paypal_order", "line": 1417}
{"timestamp": "2025-09-03T13:13:32.532087Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T13:13:32.532256Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1472}
{"timestamp": "2025-09-03T13:13:35.091194Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 3FE80564HE279442R", "module": "orders", "function": "capture_paypal_order", "line": 1508}
{"timestamp": "2025-09-03T13:13:44.435495Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:44.435813Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:44.492920Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:44.493067Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:44.493188Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:44.493316Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:44.606886Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:44.607101Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:44.663422Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:44.663636Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:44.663838Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:44.664047Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:50.375221Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:50.375401Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:50.432637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:50.432785Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:50.432910Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:50.433037Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:50.545193Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:50.545377Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:50.603911Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:50.604793Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:50.605497Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:50.606322Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:52.888716Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:52.888912Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:52.947376Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:52.947594Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:52.947767Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:52.947923Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:53.063815Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:53.063997Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:53.123160Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:53.123398Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:53.123608Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:53.123767Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:55.936985Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:55.937170Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:55.994527Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:55.994967Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:55.995101Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:55.995243Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:56.110460Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:56.110757Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:56.168849Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User evyatarhypixel1477@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:56.169047Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:56.169190Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:56.169319Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:13:57.708122Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'm'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:13:57.708281Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=m", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:13:57.765709Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:13:57.765854Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:13:57.766038Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:13:57.766192Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=m", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:13:57.880605Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:13:57.880817Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:13:57.938677Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User m usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:13:57.938904Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User m usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:13:57.939148Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:13:57.939461Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:14:00.705591Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:14:00.705752Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:14:00.764435Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:14:00.764661Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:14:00.764851Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:14:00.765007Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:14:00.879692Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:14:00.879951Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:14:00.937709Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:14:00.937881Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:14:00.938000Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:14:00.938116Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:14:02.538898Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co,'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:14:02.539066Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.co,", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:14:02.598544Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:14:02.599017Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:14:02.599205Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:14:02.599349Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.co,", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:14:02.714883Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:14:02.715081Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:14:02.772933Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.co, usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:14:02.773123Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.co, usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:14:02.773255Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:14:02.773394Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:14:06.648283Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:14:06.648460Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:14:06.745620Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:14:06.745791Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:14:06.745995Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:14:06.746222Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:14:06.860714Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:14:06.860870Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:14:06.918805Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:14:06.918994Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:14:06.919127Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:14:06.919248Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:14:30.647741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:14:30.648004Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:14:30.706439Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:14:30.706911Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:14:30.707086Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:14:30.707252Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:14:30.821474Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:14:30.821655Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:14:30.878637Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:14:30.878859Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:14:30.879113Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:14:30.879350Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:14:41.660763Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 2 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T13:17:38.863957Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:17:38.864193Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:17:38.920226Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:17:38.920501Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:17:38.920657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:17:40.082025Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:17:40.082243Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:17:40.082587Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:17:40.835670Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:18:06.200709Z", "level": "INFO", "logger": "src.controller.key_metrics_controller", "message": "Key metrics calculated: 4 total, 2 available, 2 used, 2 low stock products", "module": "key_metrics_controller", "function": "get_key_metrics_diagnostic", "line": 325}
{"timestamp": "2025-09-03T13:18:16.346072Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test5', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:18:16.346303Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:18:16.404556Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:18:16.404696Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:18:16.404857Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:18:16.405025Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test5, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:18:16.521180Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test5': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 59}
{"timestamp": "2025-09-03T13:18:16.521569Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test5': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 262}
{"timestamp": "2025-09-03T13:18:16.579333Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "User mrbrownaffiliate@gmail.com usage count for coupon 'test5': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 100}
{"timestamp": "2025-09-03T13:18:16.579572Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 281}
{"timestamp": "2025-09-03T13:18:16.579698Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.4, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:18:16.579814Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.4", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:20:58.997737Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:20:58.997948Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:20:59.013738Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:20:59.013931Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:20:59.043428Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:20:59.043566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:20:59.054568Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:20:59.054775Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:20:59.071771Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:20:59.071922Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:20:59.099785Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:20:59.100013Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:01.651687Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:01.651976Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:01.663055Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:01.663113Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:01.663481Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:01.663565Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:01.717335Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:01.717563Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:01.717713Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:01.719322Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:01.719872Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:01.720084Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:01.725928Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:01.726139Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:01.726273Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:02.701365Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:02.701590Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:02.701789Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:02.707107Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:02.707295Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:02.707498Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:02.723715Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:02.723928Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:02.724178Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:03.389591Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:03.396371Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:03.464124Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:11.953440Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:11.953726Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:11.971567Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:11.973187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:12.011801Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:12.011974Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:12.038129Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:12.038312Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:12.154986Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:12.155183Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:12.211600Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:12.211784Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:14.588401Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:14.588715Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:14.588721Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:14.592036Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:14.592225Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:14.644602Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:14.644850Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:14.645015Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:14.645231Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:14.645415Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:14.645536Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:14.648788Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:14.649003Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:14.649133Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:15.287359Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:15.287702Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:15.288116Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:15.289371Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:15.289558Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:15.289841Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:15.313737Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:15.313890Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:15.314083Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:15.984957Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:15.999749Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:16.015602Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:21.855884Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:21.856081Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:21.885863Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:21.885993Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:21.902300Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:21:21.902613Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:21:21.912540Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:21.912816Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:21.942912Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:21.943096Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:21.959994Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:21:21.960182Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:21:24.450117Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:24.450316Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:24.451684Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:24.451866Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:24.483166Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:21:24.483348Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:21:24.504748Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:24.505002Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:24.505127Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:24.509826Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:24.510097Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:24.510288Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:24.535215Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:21:24.535448Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:21:24.535619Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:21:25.152172Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:25.152310Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:25.152527Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:25.185052Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:25.185201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:25.185392Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:25.212509Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:21:25.212734Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:21:25.213055Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:21:25.817733Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:25.891107Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:21:25.933505Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:12.857971Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:12.858180Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:12.905472Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:12.905673Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:12.920095Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:12.920264Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:12.922122Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:12.922395Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:12.968402Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:12.968568Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:12.975542Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:12.975719Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:15.317705Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:15.318002Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:15.318048Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:15.318556Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:15.373733Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:15.373977Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:15.374110Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:15.377058Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:15.377286Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:15.377434Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:15.387688Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:15.388026Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:15.471311Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:15.471739Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:15.471900Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:16.127585Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:16.127783Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:16.128040Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:16.132394Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:16.132612Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:16.132857Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:16.134555Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:16.134751Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:16.134968Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:16.825985Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:16.847903Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:16.868603Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:35.015148Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:35.015384Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:35.078815Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:35.079018Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:35.109340Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:35.109482Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:35.125509Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:35.125678Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:35.165754Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:35.166001Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:35.189222Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:35.189390Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:37.601517Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:37.601756Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:37.604925Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:37.605370Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:37.605374Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:37.605758Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:37.659507Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:37.659713Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:37.659853Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:37.660710Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:37.660967Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:37.661116Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:37.662983Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:37.663174Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:37.663297Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:38.303689Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:38.303949Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:38.304295Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:38.317566Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:38.318042Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:38.318294Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:38.334812Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:38.335035Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:38.335391Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:39.024095Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:39.049928Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:51.013791Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:51.014060Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:51.029290Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:51.029468Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:51.045559Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:22:51.045742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:22:51.072444Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:51.072680Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:51.086295Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:51.086489Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:51.109183Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:22:51.109400Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:22:53.555382Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:53.555724Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:53.569808Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:53.570016Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:53.576928Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:22:53.577154Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:22:53.608993Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:53.609211Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:53.609367Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:53.622923Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:53.623146Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:53.623273Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:53.630446Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:22:53.630718Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:22:53.630930Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:22:54.248714Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:54.248948Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:54.249257Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:54.317249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:54.317428Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:54.317698Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:54.320593Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:22:54.320809Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:22:54.321111Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:22:54.996015Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:55.005164Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:22:55.045949Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:01.953917Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:01.954067Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:01.984847Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:01.984997Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:02.001184Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:02.001469Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:02.011811Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:02.012171Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:02.042134Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:02.042378Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:02.058552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:02.058839Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:04.493748Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:04.493822Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:04.493993Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:04.494038Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:04.494931Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:04.495107Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:04.543787Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:04.544006Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:04.544173Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:04.544477Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:04.544664Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:04.544787Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:04.552354Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:04.552589Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:04.552717Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:06.061486Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:06.061645Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:06.061838Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:06.064595Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:06.064774Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:06.065066Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:06.121207Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:06.121398Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:06.121658Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:06.745971Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:06.789419Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:06.867258Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:30.975525Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:30.975739Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:31.040263Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:31.040638Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:31.086082Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:31.086310Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:31.101483Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:31.101647Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:31.143655Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:31.143868Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:31.157231Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:31.157431Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:33.428743Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:33.429010Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:33.479819Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:33.480054Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:33.480201Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:33.491622Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:33.491867Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:33.542607Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:33.542798Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:33.542922Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:33.567763Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:33.567945Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:33.617524Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:33.617767Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:33.617961Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:34.147615Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:34.147812Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:34.148039Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:34.185003Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:34.185274Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:34.185528Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:34.256850Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:34.257063Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:34.257319Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:34.827381Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:34.913610Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:34.992942Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:46.108313Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:46.108456Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:46.172407Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:46.172727Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:46.325709Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:46.325897Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:46.341281Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:24:46.341482Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:24:46.389657Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:46.389876Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:46.396153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:24:46.396464Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:24:48.338317Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:48.338568Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:48.390701Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:48.390912Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:48.391150Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:48.747059Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:48.747256Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:48.799683Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:48.799909Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:48.800039Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:48.819589Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:24:48.819808Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:24:48.871042Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:24:48.871264Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:24:48.871422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:24:49.036126Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:49.037165Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:49.037371Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:49.507051Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:49.507339Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:49.507571Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:49.515494Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:24:49.515711Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:24:49.515963Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:24:49.708540Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:50.268032Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:24:50.271923Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:10.528544Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:10.528688Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:10.585480Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:10.585659Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:25:10.651093Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:10.651176Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:10.651338Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:10.651629Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:10.708517Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:10.708548Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:10.708761Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:25:13.159985Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:13.160253Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:13.167062Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:13.167340Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:13.221909Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:13.222193Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:13.222370Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:13.225210Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:13.225525Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:13.225691Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:13.378513Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:13.378921Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:13.473765Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:13.474743Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:13.475076Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:14.017318Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:14.017523Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:14.017788Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:14.024412Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:14.024731Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:14.024950Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:14.189712Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:14.189994Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:14.190227Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:14.720846Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:14.764091Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:14.895771Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:20.942051Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:20.942205Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:20.999013Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:20.999292Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:25:21.187473Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:21.187623Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:21.203336Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:25:21.203561Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:25:21.250663Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:21.250846Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:25:21.259428Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:25:21.259661Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:25:23.175528Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:23.175736Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:23.226133Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:23.226398Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:23.226552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:23.631447Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:23.631458Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:25:23.631683Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:23.631691Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:25:23.684177Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:23.684417Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:23.684580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:23.691203Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:25:23.691587Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:25:23.691792Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:25:23.842024Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:23.842453Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:23.842918Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:24.338633Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:24.338830Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:24.339068Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:24.354709Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:25:24.354971Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:25:24.355211Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:25:24.530763Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:25.043886Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:25:25.055884Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:26:45.190234Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:26:45.190436Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:26:45.206159Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:26:45.206361Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:26:45.246880Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:26:45.247052Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:26:45.251933Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:26:45.252084Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:26:45.263585Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:26:45.263731Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:26:45.307194Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:26:45.307419Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:26:47.715827Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:26:47.715899Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:26:47.716213Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:26:47.716228Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:26:47.727423Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:26:47.727620Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:26:47.767848Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:26:47.768050Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:26:47.768187Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:26:47.773821Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:26:47.774017Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:26:47.774144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:26:47.784993Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:26:47.785326Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:26:47.785459Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:26:48.799147Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:26:48.799334Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:26:48.799572Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:26:48.809174Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:26:48.809358Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:26:48.809587Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:26:48.818637Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:26:48.818986Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:26:48.819368Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:26:49.499094Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:26:49.557238Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:26:49.589122Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:26:55.112310Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T13:26:58.029108Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T13:26:58.029305Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T13:26:58.093378Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T13:26:58.307413Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T13:27:10.332134Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:10.332491Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:10.397853Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:10.398281Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:10.398463Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:10.398649Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:10.398783Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:10.398945Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:10.399096Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:10.399293Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:10.464447Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:10.464595Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:10.531329Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:10.531490Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:10.531627Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:10.532067Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:10.532212Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:10.532367Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='evyatarhypixel1477@gmail.com' (normalized: 'evyatarhypixel1477@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:10.660947Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User evyatarhypixel1477@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:10.661100Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:10.661296Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:10.661406Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:10.661531Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:10.661644Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:10.661759Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:10.661873Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:10.661979Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:13.547946Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:13.548153Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:13.612637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:13.613175Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:13.613324Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:13.613467Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:13.613588Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:13.613966Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:13.614129Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:13.614313Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:13.678397Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:13.678547Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:13.742709Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:13.742893Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:13.743047Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:13.743198Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:13.743326Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:13.743547Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='evyatarhypixel1477@gmail.com' (normalized: 'evyatarhypixel1477@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:13.873440Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User evyatarhypixel1477@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:13.873684Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:13.873831Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:13.873974Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:13.874102Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:13.874238Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:13.874398Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:13.874526Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:13.874640Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:16.131149Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:16.131343Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:16.195546Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:16.195687Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:16.195953Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:16.196103Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:16.196224Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:16.196363Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='avi@stez.co.il'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:16.196484Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:16.196663Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:16.261372Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:16.261525Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:16.325656Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:16.325806Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:16.325925Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:16.326051Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:16.326171Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'avi@stez.co.il'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:16.326372Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='avi@stez.co.il' (normalized: 'avi@stez.co.il'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:16.454567Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User avi@stez.co.il usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:16.455026Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:16.455181Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User avi@stez.co.il usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:16.455304Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:16.455430Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:16.455531Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:16.455706Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:16.456138Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:16.456264Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:18.072828Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:18.073050Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:18.152853Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:18.153008Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:18.153144Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:18.153327Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:18.153465Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:18.153654Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:18.153780Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:18.153949Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:18.217814Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:18.218005Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:18.282225Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:18.282441Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:18.282625Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:18.282855Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:18.283046Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:18.283265Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='mrbrownaffiliate@gmail.com' (normalized: 'mrbrownaffiliate@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:18.411528Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User mrbrownaffiliate@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:18.411761Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:18.412000Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:18.412186Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:18.412356Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:18.412527Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:18.413135Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:18.413312Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:18.413566Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:18.546573Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:18.675820Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:18.675994Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "apply_coupon", "line": 203}
{"timestamp": "2025-09-03T13:27:18.676188Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='mrbrownaffiliate@gmail.com' (normalized: 'mrbrownaffiliate@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:18.806846Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User mrbrownaffiliate@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:18.807052Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:18.807436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "apply_coupon", "line": 222}
{"timestamp": "2025-09-03T13:27:18.872360Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:18.937028Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test11'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 157}
{"timestamp": "2025-09-03T13:27:18.937217Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test11': $0.88 discount", "module": "coupon_service", "function": "apply_coupon", "line": 244}
{"timestamp": "2025-09-03T13:27:18.937448Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test11 at order creation: discount=0.88", "module": "orders", "function": "create_paypal_order", "line": 1201}
{"timestamp": "2025-09-03T13:27:18.937654Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.88, net_total=7.12, coupon='test11'", "module": "orders", "function": "create_paypal_order", "line": 1204}
{"timestamp": "2025-09-03T13:27:18.937851Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.12 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1235}
{"timestamp": "2025-09-03T13:27:20.052590Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4P858790NN425972G", "module": "orders", "function": "create_paypal_order", "line": 1238}
{"timestamp": "2025-09-03T13:27:27.942678Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 4P858790NN425972G", "module": "orders", "function": "capture_paypal_order", "line": 1308}
{"timestamp": "2025-09-03T13:27:29.391068Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 4P858790NN425972G. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1312}
{"timestamp": "2025-09-03T13:27:29.850692Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.COMPLETED, coupon_code='test11'", "module": "orders", "function": "capture_paypal_order", "line": 1401}
{"timestamp": "2025-09-03T13:27:29.851398Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order completed - updating analytics for test11 (usage already applied at creation)", "module": "orders", "function": "capture_paypal_order", "line": 1405}
{"timestamp": "2025-09-03T13:27:29.917182Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:29.982840Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Updated usageCount for coupon 'test11' to 1", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 154}
{"timestamp": "2025-09-03T13:27:30.112878Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Recalculated analytics for coupon test11", "module": "orders", "function": "capture_paypal_order", "line": 1417}
{"timestamp": "2025-09-03T13:27:33.509235Z", "level": "INFO", "logger": "root", "message": "Successfully sent order email to mrbrownaffiliate@gmail.com with 2 keys", "module": "email_service", "function": "send_order_email", "line": 109}
{"timestamp": "2025-09-03T13:27:33.509487Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent order confirmation email to customer: mrbrownaffiliate@gmail.com", "module": "orders", "function": "capture_paypal_order", "line": 1472}
{"timestamp": "2025-09-03T13:27:36.069780Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully sent admin notification email for order: 4P858790NN425972G", "module": "orders", "function": "capture_paypal_order", "line": 1508}
{"timestamp": "2025-09-03T13:27:43.549569Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:43.549731Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:43.614486Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:43.614633Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:43.614760Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:43.614888Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:43.615000Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:43.615125Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:43.615234Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:43.615384Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:43.679237Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:43.679391Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:43.743101Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:43.743285Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:43.743466Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:43.743660Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:43.743823Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:43.744065Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='mrbrownaffiliate@gmail.com' (normalized: 'mrbrownaffiliate@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:43.872248Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User mrbrownaffiliate@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:43.872390Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:43.872532Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:43.872664Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:43.872842Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:43.873124Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:43.873280Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:43.873417Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:43.873567Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:47.215772Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:47.216067Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:47.280934Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:47.281091Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:47.281216Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:47.281333Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:47.281433Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:47.281569Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:47.281716Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:47.281882Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:47.346463Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:47.346642Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:47.411946Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:47.412132Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:47.412292Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:47.412444Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:47.412608Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:47.412829Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='mrbrownaffiliate@gmail.com' (normalized: 'mrbrownaffiliate@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:47.542558Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User mrbrownaffiliate@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:47.542732Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:47.542889Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:47.543031Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:47.543169Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:47.543314Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:47.543451Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:47.543597Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:47.543713Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:27:52.492118Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:27:52.492278Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:27:52.556606Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:27:52.556827Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:27:52.557006Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:27:52.557190Z", "level": "INFO", "logger": "src.routers.orders", "message": "Calling validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:27:52.557337Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 259}
{"timestamp": "2025-09-03T13:27:52.557512Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 260}
{"timestamp": "2025-09-03T13:27:52.557673Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:27:52.557843Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 269}
{"timestamp": "2025-09-03T13:27:52.622514Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 277}
{"timestamp": "2025-09-03T13:27:52.622697Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon details: maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 278}
{"timestamp": "2025-09-03T13:27:52.687458Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:27:52.687647Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 299}
{"timestamp": "2025-09-03T13:27:52.688016Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check: maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 308}
{"timestamp": "2025-09-03T13:27:52.688134Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 312}
{"timestamp": "2025-09-03T13:27:52.688264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:27:52.688427Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Getting user usage: email='mrbrownaffiliate@gmail.com' (normalized: 'mrbrownaffiliate@gmail.com'), coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 84}
{"timestamp": "2025-09-03T13:27:52.816101Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: User mrbrownaffiliate@gmail.com usage count for coupon 'test11': 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 124}
{"timestamp": "2025-09-03T13:27:52.816235Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "DEBUG: Found 0 matching orders", "module": "coupon_service", "function": "get_user_usage_count", "line": 125}
{"timestamp": "2025-09-03T13:27:52.816383Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 321}
{"timestamp": "2025-09-03T13:27:52.816512Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Per-user limit check PASSED: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:27:52.816857Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:27:52.817322Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 345}
{"timestamp": "2025-09-03T13:27:52.817466Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 346}
{"timestamp": "2025-09-03T13:27:52.817600Z", "level": "INFO", "logger": "src.routers.orders", "message": "validate_coupon returned: discount=0.88, coupon=True, error=None", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:27:52.817719Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation successful: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 332}
{"timestamp": "2025-09-03T13:28:47.893078Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:28:47.893336Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:28:47.957317Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:28:47.957556Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:28:48.061069Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:28:48.061249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:28:48.123742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:28:48.124001Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:28:48.153483Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:28:48.153707Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:28:48.211887Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:28:48.212796Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:28:50.059351Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:28:50.059610Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:28:50.109378Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:28:50.109629Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:28:50.109804Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:28:50.423435Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:28:50.423672Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:28:50.469160Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:28:50.469399Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:28:50.474920Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:28:50.475120Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:28:50.475266Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:28:50.519062Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:28:50.519250Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:28:50.519369Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:28:51.064820Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:28:51.065002Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:28:51.065326Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:28:51.206020Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:28:51.206231Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:28:51.206458Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:28:51.258763Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:28:51.258954Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:28:51.259213Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:28:51.800676Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:28:51.889520Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:28:52.028432Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:19.567102Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:19.567158Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:19.567326Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:19.567343Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:19.583100Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:19.583288Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:19.623279Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:19.623455Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:19.639091Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:19.639307Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:19.647153Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:19.647310Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:21.835126Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:21.835304Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:21.885381Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:21.885559Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:21.885665Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:21.922408Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:21.922639Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:21.948297Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:21.948489Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:21.972479Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:21.972738Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:21.972892Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:21.998211Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:21.998429Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:21.998585Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:23.343249Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:23.343561Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:23.343913Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:23.351434Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:23.351588Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:23.351776Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:23.357039Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:23.357248Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:23.357619Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:24.023398Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:24.024080Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:24.060980Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:41.715374Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:41.715515Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:41.761442Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:41.761636Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:41.779116Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:41.779258Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:41.817920Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:41.818153Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:41.917014Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:41.917230Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:41.972906Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:41.973104Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:44.106813Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:44.106981Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:44.107748Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:44.107935Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:44.159966Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:44.160212Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:44.160449Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:44.161987Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:44.162241Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:44.162385Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:44.232063Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:44.232238Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:44.280759Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:44.280995Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:44.281278Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:44.816148Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:44.816353Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:44.816583Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:44.822236Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:44.822453Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:44.822756Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:44.919296Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:44.919488Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:44.919696Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:45.492528Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:45.535849Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:45.617228Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:51.996309Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:51.996450Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:52.028144Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:52.028323Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:52.043099Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:29:52.043363Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:29:52.053300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:52.053503Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:52.084315Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:52.084483Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:52.098144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:29:52.098356Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:29:54.499025Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:54.499272Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:54.549403Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:54.549664Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:54.550024Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:54.578180Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:54.578340Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:54.578380Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:29:54.578632Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:29:54.627699Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:54.627993Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:54.628200Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:54.629132Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:29:54.629377Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:29:54.629570Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:29:55.327144Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:55.327431Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:55.327766Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:55.338050Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:55.338215Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:55.338432Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:55.394937Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:29:55.395118Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:29:55.395355Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:29:56.008828Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:56.031280Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:29:56.130439Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:07.536659Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:07.536937Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:07.566341Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:07.566480Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:07.593127Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:07.593349Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:07.631672Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:07.631927Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:07.751514Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:07.751716Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:07.807471Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:07.807678Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:09.874908Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:09.875118Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:09.933953Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:09.934172Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:09.934297Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:10.024546Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:10.024749Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:10.078879Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:10.079135Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:10.079309Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:10.208368Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:10.208635Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:10.259965Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:10.260209Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:10.260372Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:10.939005Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:10.939245Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:10.939536Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:10.946883Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:10.947216Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:10.947638Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:10.974305Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:10.974465Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:10.974677Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:11.633327Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:11.668898Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:11.722185Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:50.557101Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:50.557286Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:50.588127Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:50.588351Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:50.614044Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:50.614484Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:50.644342Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:50.644614Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:50.696183Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:32:50.696381Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:32:50.759859Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:32:50.760057Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:32:53.356589Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:53.356789Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:53.356843Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:53.356977Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:53.361323Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:32:53.361759Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:32:53.410156Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:53.410340Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:53.410466Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:53.410640Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:53.410829Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:53.410971Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:53.415740Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:32:53.416005Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:32:53.416169Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:32:54.087681Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:54.087879Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:54.088155Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:54.116196Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:54.116414Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:54.116669Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:54.122534Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:32:54.122700Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:32:54.122912Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:32:54.777283Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:54.816757Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:32:54.857470Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:33:14.999336Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:33:14.999474Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:33:15.031235Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:33:15.031450Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:33:15.047520Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:33:15.047807Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:33:15.055843Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:33:15.055980Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:33:15.088403Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:33:15.088623Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:33:15.103501Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:33:15.103875Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:33:17.343994Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:33:17.344262Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:33:17.390778Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:33:17.390989Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:33:17.400790Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:33:17.400965Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:33:17.403156Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:33:17.403469Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:33:17.403656Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:33:17.448428Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:33:17.448669Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:33:17.448802Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:33:17.459635Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:33:17.459884Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:33:17.460109Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:33:18.141572Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:33:18.141764Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:33:18.142000Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:33:18.164541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:33:18.164758Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:33:18.165018Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:33:18.165076Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:33:18.165282Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:33:18.165546Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:33:18.831009Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:33:18.861626Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:33:18.916712Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:33:50.449924Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:33:50.450154Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:33:50.514476Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 1", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:33:50.514633Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:33:50.514778Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:33:50.515023Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:33:50.515162Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:33:50.515302Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:33:50.515436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:33:50.515610Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:33:50.578892Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:33:50.580078Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 1, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:33:50.580206Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:33:50.580318Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:33:50.644014Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:33:50.644161Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:33:50.644283Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:33:50.644391Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:33:50.644490Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:33:50.644600Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:33:50.644828Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:33:50.708490Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:33:50.709314Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:33:50.709488Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:33:50.709627Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:33:50.709772Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:33:50.709927Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:33:50.710096Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:33:50.710215Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:33:50.710380Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:33:50.710562Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:34:08.648633Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:34:08.648797Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:34:08.712446Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:34:08.712631Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:34:08.712794Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:34:08.713017Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:34:08.713172Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:34:08.713310Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:34:08.713442Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:08.713620Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:34:08.776963Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:34:08.777169Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 0, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 0, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:34:08.777344Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:34:08.777490Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:34:08.840949Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:08.841080Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:34:08.841207Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:34:08.841339Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:34:08.841481Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:34:08.841598Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:34:08.841794Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:08.904921Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:08.905060Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:08.905177Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:34:08.905277Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:34:08.905381Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:34:08.905483Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:34:08.905580Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=4.8, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:34:08.905687Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=4.8, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:34:08.905788Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:34:08.905880Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=4.8", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:34:10.787534Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:34:10.787743Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:34:10.851427Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:34:10.851553Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:34:10.851657Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:34:10.851769Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:34:10.851862Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:34:10.851959Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:34:10.852052Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:10.852186Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:34:10.916091Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:34:10.916336Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 0, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 0, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:34:10.916505Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:34:10.916661Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:34:10.979831Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:10.979955Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:34:10.980078Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:34:10.980312Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:34:10.980499Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:34:10.980769Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:34:10.981047Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:11.044371Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:11.044584Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:11.044722Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:34:11.044827Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:34:11.044935Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:34:11.045043Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:34:11.045142Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=4.8, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:34:11.045284Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=4.8, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:34:11.045421Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:34:11.045544Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=4.8", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:34:11.177544Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:11.304330Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:11.304505Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "apply_coupon", "line": 208}
{"timestamp": "2025-09-03T13:34:11.304678Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:11.367602Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:11.367768Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:11.367888Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "apply_coupon", "line": 227}
{"timestamp": "2025-09-03T13:34:11.431784Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:11.495958Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test60'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 162}
{"timestamp": "2025-09-03T13:34:11.496114Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test60': $4.8 discount", "module": "coupon_service", "function": "apply_coupon", "line": 249}
{"timestamp": "2025-09-03T13:34:11.496258Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test60 at order creation: discount=4.8", "module": "orders", "function": "create_paypal_order", "line": 1206}
{"timestamp": "2025-09-03T13:34:11.496435Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=4.8, net_total=3.2, coupon='test60'", "module": "orders", "function": "create_paypal_order", "line": 1209}
{"timestamp": "2025-09-03T13:34:11.496569Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 3.20 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1240}
{"timestamp": "2025-09-03T13:34:12.515529Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 098971219L961711W", "module": "orders", "function": "create_paypal_order", "line": 1243}
{"timestamp": "2025-09-03T13:34:17.617434Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 098971219L961711W", "module": "orders", "function": "capture_paypal_order", "line": 1313}
{"timestamp": "2025-09-03T13:34:21.451510Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 098971219L961711W. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1317}
{"timestamp": "2025-09-03T13:34:21.707635Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 098971219L961711W, Item 68a0d95836cf031276300b96: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1370}
{"timestamp": "2025-09-03T13:34:21.896809Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 098971219L961711W, Item 68b555b4781e7c50e00cd741: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1370}
{"timestamp": "2025-09-03T13:34:21.897004Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.AWAITING_STOCK, coupon_code='test60'", "module": "orders", "function": "capture_paypal_order", "line": 1406}
{"timestamp": "2025-09-03T13:34:21.897138Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order status is StatusEnum.AWAITING_STOCK - skipping analytics update (only done for completed orders)", "module": "orders", "function": "capture_paypal_order", "line": 1429}
{"timestamp": "2025-09-03T13:34:30.148593Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:34:30.148814Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:34:30.212487Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:34:30.212617Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:34:30.212745Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:34:30.212885Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:34:30.212995Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:34:30.213120Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:34:30.213263Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:30.213462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:34:30.277011Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:34:30.277217Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 0, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 0, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:34:30.277382Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:34:30.277537Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:34:30.341184Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:30.341354Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:34:30.341541Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:34:30.341656Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:34:30.341760Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:34:30.341866Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:34:30.342001Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:30.404972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:30.405109Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:30.405229Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:34:30.405361Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:34:30.405505Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:34:30.405617Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:34:30.405726Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=4.8, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:34:30.405841Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=4.8, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:34:30.405942Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:34:30.406035Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=4.8", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:34:32.795158Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:34:32.795355Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:34:32.859235Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:34:32.859399Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:34:32.859512Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:34:32.859693Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:34:32.859834Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:34:32.859944Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:34:32.860084Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:32.860284Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:34:32.923131Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:34:32.923319Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 0, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 0, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:34:32.923442Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:34:32.923594Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:34:32.987490Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:32.987687Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:34:32.987891Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:34:32.988090Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:34:32.988274Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:34:32.988466Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:34:32.988619Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:33.052244Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:33.052462Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:33.052659Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:34:33.052848Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:34:33.053036Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:34:33.053221Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:34:33.053348Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=4.8, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:34:33.053469Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=4.8, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:34:33.053608Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:34:33.053766Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=4.8", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:34:36.884778Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:34:36.884924Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:34:36.948588Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:34:36.948758Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:34:36.948977Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:34:36.949401Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:34:36.949603Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 264}
{"timestamp": "2025-09-03T13:34:36.949797Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 265}
{"timestamp": "2025-09-03T13:34:36.949977Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:34:36.950145Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 274}
{"timestamp": "2025-09-03T13:34:37.014301Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 282}
{"timestamp": "2025-09-03T13:34:37.014609Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 0, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 0, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {}}", "module": "coupon_service", "function": "validate_coupon", "line": 283}
{"timestamp": "2025-09-03T13:34:37.014813Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 284}
{"timestamp": "2025-09-03T13:34:37.015004Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 285}
{"timestamp": "2025-09-03T13:34:37.078266Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:34:37.078471Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 306}
{"timestamp": "2025-09-03T13:34:37.078694Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 315}
{"timestamp": "2025-09-03T13:34:37.078893Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 330}
{"timestamp": "2025-09-03T13:34:37.079076Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon has per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 334}
{"timestamp": "2025-09-03T13:34:37.079266Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Checking per-user usage for email: 'mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 340}
{"timestamp": "2025-09-03T13:34:37.079495Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d SIMPLE USER USAGE CHECK: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 80}
{"timestamp": "2025-09-03T13:34:37.150992Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found 0 total orders with coupon 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 91}
{"timestamp": "2025-09-03T13:34:37.151183Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 FINAL USER COUNT: 0 orders for mrbrownaffiliate@gmail.com", "module": "coupon_service", "function": "get_user_usage_count", "line": 113}
{"timestamp": "2025-09-03T13:34:37.151371Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 343}
{"timestamp": "2025-09-03T13:34:37.151560Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T13:34:37.151728Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 360}
{"timestamp": "2025-09-03T13:34:37.151875Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 370}
{"timestamp": "2025-09-03T13:34:37.152013Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=4.8, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:34:37.152169Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=4.8, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:34:37.152316Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:34:37.152509Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=4.8", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:35:47.679456Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:35:47.679672Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:35:47.739334Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:35:47.739607Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:35:47.881195Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:35:47.881354Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:35:47.897355Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:35:47.897560Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:35:47.944811Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:35:47.945055Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:35:47.953596Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:35:47.953880Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:35:49.872998Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:35:49.873214Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:35:49.924780Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:35:49.925000Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:35:49.925164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:35:50.280721Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:35:50.280875Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:35:50.284216Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:35:50.284552Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:35:50.333698Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:35:50.334200Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:35:50.334404Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:35:50.337827Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:35:50.338075Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:35:50.338228Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:35:51.074736Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:35:51.075017Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:35:51.075263Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:35:51.111105Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:35:51.111308Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:35:51.111559Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:35:51.158987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:35:51.159203Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:35:51.159533Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:35:51.749954Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:35:51.835768Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:35:51.842557Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:36:22.801342Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:36:22.801636Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:36:22.817660Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:36:22.817915Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:36:22.833292Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:36:22.833509Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:36:22.868422Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:36:22.868803Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:36:22.880467Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:36:22.880684Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:36:22.890180Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:36:22.890311Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:36:25.298687Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:36:25.298960Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:36:25.355242Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:36:25.355483Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:36:25.355632Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:36:25.418110Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:36:25.418354Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:36:25.421976Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:36:25.422220Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:36:25.469744Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:36:25.470009Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:36:25.470196Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:36:25.472985Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:36:25.473185Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:36:25.473323Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:36:26.016237Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:36:26.016539Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:36:26.016915Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:36:26.144550Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:36:26.144747Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:36:26.145117Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:36:26.202386Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:36:26.202580Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:36:26.202805Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:36:26.695445Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:36:26.825196Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:36:26.946553Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:38:00.821296Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:38:00.821439Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:38:00.837275Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:38:00.837436Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:38:00.869391Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:38:00.869548Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:38:00.877844Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:38:00.878003Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:38:00.893444Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:38:00.893615Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:38:00.926086Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:38:00.926227Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:38:03.669310Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:38:03.669719Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:38:03.735574Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:38:03.735833Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:38:03.735986Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:38:03.745912Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:38:03.746117Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:38:03.752786Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:38:03.753101Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:38:03.800682Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:38:03.800923Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:38:03.801099Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:38:03.806802Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:38:03.807054Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:38:03.807197Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:38:04.718971Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:38:04.719133Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:38:04.719373Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:38:04.730072Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:38:04.730272Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:38:04.730501Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:38:04.778171Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:38:04.778357Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:38:04.778596Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:38:05.456772Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:38:05.459762Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:38:05.493532Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:44:05.197340Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:44:05.210244Z", "level": "INFO", "logger": "__main__", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:44:05.284769Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:44:05.284963Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:44:05.336751Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:44:05.337042Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:44:05.337210Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:44:06.399716Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:44:06.399894Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:44:06.400106Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:44:07.093079Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:44:09.204070Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:44:09.204281Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:44:09.267083Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:44:09.267363Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:45:05.298682Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:45:05.298871Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:45:05.378430Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:45:05.378899Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:45:05.379179Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:45:06.412828Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:45:06.412984Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:45:06.413220Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:45:07.099668Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:45:28.965467Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:45:28.965663Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:45:29.022677Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:45:29.022922Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:46:14.263397Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:46:14.263654Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:46:14.336266Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:46:14.336442Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:46:14.336546Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:46:16.843541Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:46:16.843730Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:46:16.843967Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:46:17.511164Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:49:01.259309Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:49:01.259622Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:49:01.320795Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:49:01.320988Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:49:01.321210Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:49:01.321431Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:49:01.321635Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:49:01.321860Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:49:01.322097Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:49:01.322332Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:49:01.381281Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:49:01.590118Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:49:01.591163Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:49:01.592308Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:49:01.593331Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:49:01.593593Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:49:01.593825Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:49:01.594099Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:49:01.933680Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:49:02.045809Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:49:02.046053Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:49:02.046285Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 385}
{"timestamp": "2025-09-03T13:49:02.046466Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 395}
{"timestamp": "2025-09-03T13:49:02.103262Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:49:02.103467Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 404}
{"timestamp": "2025-09-03T13:49:02.103671Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 415}
{"timestamp": "2025-09-03T13:49:02.103841Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 425}
{"timestamp": "2025-09-03T13:49:02.104013Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=11.0, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T13:49:02.104160Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=11.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:49:02.104327Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:49:02.104487Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=11.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:49:04.154935Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:49:04.155142Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:49:04.211236Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:49:04.211442Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:49:04.211607Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:49:04.211787Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:49:04.211948Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:49:04.212115Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:49:04.212282Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:49:04.212482Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:49:04.269280Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:49:04.269660Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:49:04.269897Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:49:04.270087Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:49:04.270277Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:49:04.270481Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:49:04.270765Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:49:04.270986Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:49:04.606944Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:49:04.722806Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:49:04.723770Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.com has NOT used 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:49:04.724762Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 385}
{"timestamp": "2025-09-03T13:49:04.725722Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 395}
{"timestamp": "2025-09-03T13:49:04.782272Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:49:04.782492Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 404}
{"timestamp": "2025-09-03T13:49:04.782658Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 415}
{"timestamp": "2025-09-03T13:49:04.782854Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 425}
{"timestamp": "2025-09-03T13:49:04.783036Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=60.0, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T13:49:04.783195Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=60.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:49:04.783368Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:49:04.783574Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=60.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:51:48.655552Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:51:48.655872Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:51:48.700513Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:51:48.700875Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:51:48.715567Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:51:48.716280Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:51:48.759268Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:51:48.759480Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:51:51.014832Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:51:51.015309Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:51:51.015314Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:51:51.066135Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:51:51.066382Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:51:51.066514Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:51:51.066664Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:51:51.066875Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:51:51.067012Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:51:52.414152Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:51:52.414368Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:51:52.414648Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:51:52.438763Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:51:52.438955Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:51:52.439207Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:51:53.148799Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:51:53.159222Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:52:20.055467Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:52:20.055654Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:52:20.071346Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T13:52:20.071484Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T13:52:20.112742Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:52:20.112889Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:52:20.134896Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T13:52:20.135046Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T13:52:22.461341Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:52:22.461398Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:52:22.461509Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:52:22.461568Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:52:22.510457Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:52:22.510636Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:52:22.510683Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:52:22.510757Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:52:22.510809Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:52:23.145168Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:52:23.145311Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:52:23.145491Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:52:23.159575Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:52:23.159728Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:52:23.159947Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:52:23.845780Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:52:23.851768Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:52:26.188686Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:52:26.188894Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:52:26.248003Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:52:26.248953Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:52:26.249919Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:52:26.250933Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:52:26.251878Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:52:26.252340Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:52:26.252576Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:52:26.252766Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:52:26.309547Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:52:26.309917Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:52:26.310112Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:52:26.310259Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:52:26.310393Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:52:26.310525Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:52:26.310653Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:52:26.310810Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:52:26.647734Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:52:26.772265Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:52:26.772440Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:52:26.772603Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 385}
{"timestamp": "2025-09-03T13:52:26.772805Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 395}
{"timestamp": "2025-09-03T13:52:26.829753Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:52:26.829971Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 404}
{"timestamp": "2025-09-03T13:52:26.830170Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 415}
{"timestamp": "2025-09-03T13:52:26.830332Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 425}
{"timestamp": "2025-09-03T13:52:26.830521Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=11.0, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T13:52:26.830720Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=11.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:52:26.830877Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:52:26.831024Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=11.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:52:28.890329Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:52:28.890601Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:52:28.946634Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:52:28.946869Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:52:28.947062Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:52:28.947289Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:52:28.947500Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:52:28.947732Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:52:28.947916Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:52:28.948161Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:52:29.004667Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:52:29.004985Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:52:29.005203Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:52:29.005423Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:52:29.005643Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:52:29.005823Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:52:29.005989Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:52:29.006218Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:52:29.342375Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:52:29.454243Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:52:29.454509Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.com has NOT used 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:52:29.454765Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 385}
{"timestamp": "2025-09-03T13:52:29.454924Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 395}
{"timestamp": "2025-09-03T13:52:29.511615Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:52:29.511865Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 404}
{"timestamp": "2025-09-03T13:52:29.512079Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 415}
{"timestamp": "2025-09-03T13:52:29.512260Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 425}
{"timestamp": "2025-09-03T13:52:29.512480Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=60.0, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T13:52:29.512677Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=60.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:52:29.512834Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:52:29.512973Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=60.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:53:33.734449Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:53:33.734655Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:53:52.923590Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T13:53:52.923784Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T13:53:52.977647Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T13:53:52.977842Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T13:53:52.977964Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T13:53:53.977474Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T13:53:53.977735Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T13:53:53.978035Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T13:53:54.687501Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T13:54:29.857371Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:54:29.857568Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:54:29.921917Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:54:29.922212Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:54:29.922411Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:54:29.922621Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:54:29.922813Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:54:29.923014Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:54:29.923175Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:54:29.923399Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:54:29.987243Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:54:29.987595Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:54:29.987788Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:54:29.987972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:54:29.988140Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:54:29.988301Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:54:29.988459Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:54:29.988618Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T13:54:29.988764Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:54:29.988927Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T13:54:29.989089Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T13:54:29.989279Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:54:29.989433Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T13:54:32.049323Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'email': 'mrbrownaffiliate@gmail.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:54:32.049524Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:54:32.113436Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:54:32.113615Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:54:32.113781Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:54:32.113959Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=100, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:54:32.114112Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:54:32.114262Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=100, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:54:32.114411Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:54:32.114628Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:54:32.178187Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:54:32.178589Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:54:32.178777Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:54:32.178925Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:54:32.179062Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:54:32.179212Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:54:32.179397Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:54:32.179575Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test60' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T13:54:32.179732Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:54:32.179892Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T13:54:32.180054Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T13:54:32.180265Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:54:32.180420Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T13:55:04.542456Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:55:04.542687Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:55:04.599891Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:55:04.600093Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:55:04.600270Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:55:04.600445Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:55:04.600645Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:55:04.600809Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:55:04.601030Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:55:04.601234Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:55:04.658164Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:55:04.658395Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:55:04.658576Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:55:04.658705Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:55:04.658826Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:55:04.658928Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:55:04.659042Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:55:04.659220Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='evyatarhypixel1477@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:55:04.999292Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:55:05.113472Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:55:05.113618Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: evyatarhypixel1477@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:55:05.113747Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User evyatarhypixel1477@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:55:05.113903Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:55:05.114061Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:55:05.174547Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:55:05.174837Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:55:05.174982Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:55:05.175107Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:55:05.175220Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:55:05.175340Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:55:05.175444Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:55:05.175541Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:55:07.202192Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:55:07.202364Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:55:07.259786Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:55:07.259921Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:55:07.260035Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:55:07.260158Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:55:07.260258Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:55:07.260364Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:55:07.260463Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:55:07.260605Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:55:07.317936Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:55:07.318251Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:55:07.318429Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:55:07.318592Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:55:07.318750Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:55:07.318902Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:55:07.319061Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:55:07.319264Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='evyatarhypixel1477@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:55:07.683029Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:55:07.795422Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:55:07.795560Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: evyatarhypixel1477@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:55:07.795687Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User evyatarhypixel1477@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:55:07.795798Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:55:07.795897Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:55:07.852779Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:55:07.852967Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:55:07.853111Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:55:07.853231Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:55:07.853342Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:55:07.853458Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:55:07.853559Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:55:07.853653Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:55:12.473985Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:55:12.474126Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:55:12.531063Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:55:12.531194Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:55:12.531308Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:55:12.531425Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:55:12.531521Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:55:12.531637Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:55:12.531734Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:55:12.531872Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:55:12.588866Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:55:12.589150Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:55:12.589353Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:55:12.589546Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:55:12.589744Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:55:12.589932Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:55:12.590123Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:55:12.590331Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T13:55:12.590497Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:55:12.590652Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T13:55:12.590766Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T13:55:12.590882Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:55:12.590993Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T13:57:23.090280Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:57:23.090443Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:57:23.148646Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:57:23.148784Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:57:23.148921Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:57:23.149178Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:57:23.149309Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:57:23.149436Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:57:23.149547Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:57:23.149722Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:57:23.206406Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:57:23.206629Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:57:23.206767Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:57:23.206877Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:57:23.206990Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:57:23.207121Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:57:23.207260Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:57:23.207383Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T13:57:23.207491Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:57:23.207599Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T13:57:23.207702Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T13:57:23.207815Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:57:23.207918Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T13:57:25.955043Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:57:25.955223Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:57:26.012298Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:57:26.012466Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:57:26.012622Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:57:26.012790Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:57:26.012955Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:57:26.013077Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.co'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:57:26.013181Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:57:26.013332Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:57:26.070701Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:57:26.070973Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:57:26.071098Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:57:26.071217Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:57:26.071341Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:57:26.071465Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:57:26.071597Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:57:26.071757Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.co', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:57:26.407133Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:57:26.519248Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:57:26.519414Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.co has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:57:26.519545Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail.co usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:57:26.519669Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.co usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:57:26.519792Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:57:26.575466Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:57:26.575595Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:57:26.575704Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:57:26.575806Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:57:26.575909Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:57:26.576033Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:57:26.576146Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:57:26.576243Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:57:29.091684Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:57:29.091860Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:57:29.148617Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:57:29.148741Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:57:29.148863Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:57:29.148994Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:57:29.149097Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:57:29.149198Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.co'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:57:29.149301Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:57:29.149461Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:57:29.205458Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:57:29.205683Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:57:29.205816Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:57:29.205921Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:57:29.206033Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:57:29.206129Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:57:29.206242Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:57:29.206373Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.co', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:57:29.542335Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:57:29.653247Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:57:29.653438Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.co has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:57:29.653614Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail.co usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:57:29.653777Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.co usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:57:29.653931Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:57:29.710557Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:57:29.710691Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:57:29.710802Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:57:29.710904Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:57:29.711007Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:57:29.711122Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:57:29.711222Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:57:29.711316Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:58:11.843615Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:58:11.843752Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:58:11.900497Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:58:11.900621Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:58:11.900730Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:58:11.900841Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:58:11.900937Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:58:11.901108Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:58:11.901263Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:58:11.901451Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:58:11.957641Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:58:11.957949Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:58:11.958149Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:58:11.958272Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:58:11.958387Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:58:11.958487Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:58:11.958582Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:58:11.958689Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T13:58:11.958793Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:58:11.958899Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T13:58:11.959000Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T13:58:11.959171Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:58:11.959276Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T13:58:21.347986Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:58:21.348139Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:58:21.404402Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:58:21.404527Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:58:21.404634Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:58:21.404750Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:58:21.404845Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:58:21.404946Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.c'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:58:21.405040Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:58:21.405185Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:58:21.461398Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:58:21.461618Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:58:21.461820Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:58:21.461948Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:58:21.462066Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:58:21.462166Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:58:21.462271Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:58:21.462412Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.c', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:58:21.797254Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:58:21.909636Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:58:21.909850Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.c has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:58:21.910060Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail.c usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:58:21.910336Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.c usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:58:21.910525Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:58:21.967342Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:58:21.967521Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:58:21.967694Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:58:21.967831Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:58:21.967972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:58:21.968129Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:58:21.968271Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:58:21.968421Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:58:24.497440Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.c'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:58:24.497596Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:58:24.553922Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:58:24.554066Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:58:24.554191Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:58:24.554317Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.c", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:58:24.554420Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:58:24.554523Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.c'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:58:24.554620Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:58:24.554780Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:58:24.610443Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:58:24.610743Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:58:24.610903Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:58:24.611044Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:58:24.611218Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:58:24.611409Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:58:24.611578Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:58:24.611765Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.c', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:58:24.959095Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:58:25.071078Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:58:25.071241Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.c has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:58:25.071393Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail.c usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:58:25.071508Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.c usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:58:25.071623Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:58:25.127672Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:58:25.127850Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:58:25.127997Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:58:25.128135Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:58:25.128336Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:58:25.128497Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:58:25.128635Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:58:25.128772Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T13:58:27.221451Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.co'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T13:58:27.221592Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T13:58:27.277560Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T13:58:27.277727Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T13:58:27.277881Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T13:58:27.278041Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.co", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T13:58:27.278139Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T13:58:27.278238Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.co'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T13:58:27.278335Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T13:58:27.278472Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T13:58:27.335229Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T13:58:27.335470Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T13:58:27.335651Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T13:58:27.335835Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T13:58:27.336014Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T13:58:27.336171Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T13:58:27.336323Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T13:58:27.336529Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail.co', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T13:58:27.672277Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T13:58:27.784281Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T13:58:27.784427Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail.co has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T13:58:27.784559Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail.co usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T13:58:27.784671Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.co usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T13:58:27.784769Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T13:58:27.840473Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T13:58:27.840615Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T13:58:27.840731Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T13:58:27.840836Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T13:58:27.840944Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T13:58:27.841101Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T13:58:27.841224Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T13:58:27.841320Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:01:25.169646Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:01:25.169837Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:01:25.229625Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:01:25.229777Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:01:25.229919Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:01:25.230067Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:01:25.230197Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:01:25.230330Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:01:25.230460Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:01:25.230631Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:01:25.287134Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:01:25.288452Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:01:25.288641Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:01:25.288831Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:01:25.289007Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:01:25.289165Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:01:25.289311Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:01:25.289465Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T14:01:25.289609Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:01:25.289751Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T14:01:25.289892Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:01:25.290007Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:01:25.290111Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:01:47.265094Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:01:47.265330Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:01:47.330533Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:01:47.330690Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:01:47.372621Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:01:47.372900Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:01:47.419054Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:01:47.419265Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:01:47.428943Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:01:47.429113Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:01:47.476492Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:01:47.476703Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:04:04.570747Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:04:04.570785Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:04:04.571023Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:04.571088Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:04.571095Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:04.627464Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:04.627738Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:04.627835Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:04.627937Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:04.628047Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:04.628240Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:04.628431Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:04.628635Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:04.628788Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:07.371786Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:07.372057Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:07.372384Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:07.372511Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:07.372705Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:07.372958Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:07.373605Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:07.373816Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:07.374117Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:08.075820Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:08.096076Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:08.149606Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:10.106157Z", "level": "ERROR", "logger": "src.routers.orders", "message": "Error validating coupon: ", "module": "orders", "function": "validate_coupon_public", "line": 360, "exception": {"type": "ClientDisconnect", "message": "", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\routers\\orders.py\", line 256, in validate_coupon_public\n    data = await request.json()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 249, in json\n    body = await self.body()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 242, in body\n    async for chunk in self.stream():\n        chunks.append(chunk)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 236, in stream\n    raise ClientDisconnect()\nstarlette.requests.ClientDisconnect"}}
{"timestamp": "2025-09-03T14:04:10.366301Z", "level": "ERROR", "logger": "src.routers.orders", "message": "Error validating coupon: ", "module": "orders", "function": "validate_coupon_public", "line": 360, "exception": {"type": "ClientDisconnect", "message": "", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\routers\\orders.py\", line 256, in validate_coupon_public\n    data = await request.json()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 249, in json\n    body = await self.body()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 242, in body\n    async for chunk in self.stream():\n        chunks.append(chunk)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 236, in stream\n    raise ClientDisconnect()\nstarlette.requests.ClientDisconnect"}}
{"timestamp": "2025-09-03T14:04:10.370217Z", "level": "ERROR", "logger": "src.routers.orders", "message": "Error validating coupon: ", "module": "orders", "function": "validate_coupon_public", "line": 360, "exception": {"type": "ClientDisconnect", "message": "", "traceback": "Traceback (most recent call last):\n  File \"D:\\Some Random Needful Shit\\OneDrive\\Documents\\GitHub\\MonkeyZ\\backend\\src\\routers\\orders.py\", line 256, in validate_coupon_public\n    data = await request.json()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 249, in json\n    body = await self.body()\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 242, in body\n    async for chunk in self.stream():\n        chunks.append(chunk)\n  File \"C:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\starlette\\requests.py\", line 236, in stream\n    raise ClientDisconnect()\nstarlette.requests.ClientDisconnect"}}
{"timestamp": "2025-09-03T14:04:34.401867Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:04:34.402100Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:04:34.417382Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:04:34.417522Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:04:34.457454Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:04:34.457672Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:04:34.473809Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:04:34.473976Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:04:34.558276Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:04:34.558510Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:04:34.614456Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:04:34.614621Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:04:36.595933Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:04:36.596197Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:36.651840Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:36.652073Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:36.652198Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:36.887559Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:04:36.887744Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:36.939784Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:36.939979Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:36.940114Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:36.961622Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:04:36.961869Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:04:37.013018Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:04:37.013279Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:04:37.013522Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:04:37.290984Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:37.291394Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:37.291673Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:37.608680Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:37.608871Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:37.609085Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:37.640517Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:04:37.640765Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:04:37.641116Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:04:38.044343Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:38.315898Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:38.323301Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:04:45.195191Z", "level": "ERROR", "logger": "main", "message": "Custom exception occurred: Could not validate credentials: Signature has expired.", "module": "main", "function": "custom_exception_handler", "line": 133, "endpoint": "/user/me", "method": "GET", "status_code": 401}
{"timestamp": "2025-09-03T14:04:49.664859Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'avi@stez.co.il'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:04:49.665014Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:04:49.721666Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:04:49.721853Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:04:49.722050Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:04:49.722177Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=avi@stez.co.il", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:04:49.722279Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:04:49.722374Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='avi@stez.co.il'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:04:49.722471Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:04:49.722633Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:04:49.778955Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:04:49.779190Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:04:49.779330Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:04:49.779446Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:04:49.779560Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:04:49.779673Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:04:49.779798Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:04:49.779993Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='avi@stez.co.il', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:04:50.118254Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:04:50.237874Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:04:50.238059Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: avi@stez.co.il has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:04:50.238243Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User avi@stez.co.il usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T14:04:50.238397Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User avi@stez.co.il usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:04:50.238538Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T14:04:50.294447Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:04:50.294654Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T14:04:50.294852Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T14:04:50.295045Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T14:04:50.295251Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T14:04:50.295461Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:04:50.295657Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:04:50.295851Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:04:57.191103Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:04:57.191262Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:04:57.247516Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:04:57.247777Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:04:57.247974Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:04:57.248159Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:04:57.248312Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:04:57.248473Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:04:57.248622Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:04:57.248806Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:04:57.306274Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:04:57.307175Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:04:57.308019Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:04:57.308972Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:04:57.309920Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:04:57.310063Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:04:57.310197Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:04:57.310426Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T14:04:57.310593Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:04:57.310773Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T14:04:57.310942Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:04:57.311077Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:04:57.311197Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:05:00.897681Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:05:00.897880Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:05:00.954450Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:05:00.954612Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:05:00.954752Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:05:00.954897Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:05:00.955028Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:05:00.955161Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:05:00.955292Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:05:00.955471Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:05:01.011055Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:05:01.011308Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:05:01.011447Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:05:01.011574Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:05:01.011690Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:05:01.011790Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:05:01.011886Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:05:01.012024Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='mrbrownaffiliate@gmail', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:05:01.348965Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:05:01.461455Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:05:01.461703Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: mrbrownaffiliate@gmail has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:05:01.461861Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User mrbrownaffiliate@gmail usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T14:05:01.461992Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:05:01.462107Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T14:05:01.518358Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:05:01.518498Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T14:05:01.518612Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T14:05:01.518743Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T14:05:01.518908Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T14:05:01.519036Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:05:01.519149Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:05:01.519248Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:05:07.762302Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:05:07.762430Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:05:07.818629Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:05:07.818791Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:05:07.818933Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:05:07.819079Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:05:07.819185Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:05:07.819288Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:05:07.819390Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:05:07.819532Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:05:07.875634Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:05:07.875896Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:05:07.876054Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:05:07.876202Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:05:07.876351Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:05:07.876486Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:05:07.876654Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:05:07.876809Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T14:05:07.876956Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:05:07.877102Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T14:05:07.877238Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:05:07.877394Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:05:07.877548Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:06:12.344673Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:06:12.344849Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:06:12.401238Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:06:12.401439Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:06:12.401631Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:06:12.401881Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:06:12.402065Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:06:12.402256Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='brownmaster555@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:06:12.402439Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:06:12.402663Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:06:12.458425Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:06:12.458628Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:06:12.458744Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:06:12.458847Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:06:12.459025Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:06:12.459128Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:06:12.459230Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:06:12.459370Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='brownmaster555@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:06:12.795424Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:06:12.907322Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:06:12.907475Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: brownmaster555@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:06:12.907631Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User brownmaster555@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T14:06:12.907745Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User brownmaster555@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:06:12.907844Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T14:06:12.963931Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:06:12.964193Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T14:06:12.964361Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T14:06:12.964496Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T14:06:12.964606Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T14:06:12.964722Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:06:12.964822Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:06:12.964919Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:06:13.857674Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 8, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:06:13.857832Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:06:13.913867Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:06:13.913995Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:06:13.914136Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:06:13.914280Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=8, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:06:13.914411Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:06:13.914509Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=8, email='brownmaster555@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:06:13.914601Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:06:13.914748Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:06:13.970874Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:06:13.971173Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 0, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:06:13.971304Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:06:13.971408Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:06:13.971535Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:06:13.971692Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:06:13.971815Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:06:13.971964Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='brownmaster555@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:06:14.310284Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:06:14.422809Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:06:14.423028Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: brownmaster555@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:06:14.423230Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User brownmaster555@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T14:06:14.423354Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User brownmaster555@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:06:14.423459Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T14:06:14.479924Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:06:14.480054Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T14:06:14.480169Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=8", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T14:06:14.480268Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T14:06:14.480373Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.88, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T14:06:14.480487Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.88, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:06:14.480610Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:06:14.480713Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.88", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:06:14.600535Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:06:14.716818Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:06:14.716950Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: Max usage check for 'test11': 1/2", "module": "coupon_service", "function": "apply_coupon", "line": 260}
{"timestamp": "2025-09-03T14:06:14.717095Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='brownmaster555@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:06:15.054808Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:06:15.175543Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:06:15.175741Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: brownmaster555@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:06:15.175929Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "APPLY_COUPON: User brownmaster555@gmail.com usage: 0/1", "module": "coupon_service", "function": "apply_coupon", "line": 279}
{"timestamp": "2025-09-03T14:06:15.233345Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 1 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:06:15.290805Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "No coupon found to update usage count for 'test11'", "module": "coupon_service", "function": "update_coupon_usage_count", "line": 214}
{"timestamp": "2025-09-03T14:06:15.291020Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Successfully applied coupon 'test11': $0.88 discount", "module": "coupon_service", "function": "apply_coupon", "line": 301}
{"timestamp": "2025-09-03T14:06:15.291219Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully applied coupon test11 at order creation: discount=0.88", "module": "orders", "function": "create_paypal_order", "line": 1206}
{"timestamp": "2025-09-03T14:06:15.291407Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal order: original_total=8, discount=0.88, net_total=7.12, coupon='test11'", "module": "orders", "function": "create_paypal_order", "line": 1209}
{"timestamp": "2025-09-03T14:06:15.291602Z", "level": "INFO", "logger": "src.routers.orders", "message": "Creating PayPal order with amount: 7.12 ILS (mode: live)", "module": "orders", "function": "create_paypal_order", "line": 1240}
{"timestamp": "2025-09-03T14:06:16.394229Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully created PayPal order: 4H514032J7975370B", "module": "orders", "function": "create_paypal_order", "line": 1243}
{"timestamp": "2025-09-03T14:06:36.127136Z", "level": "INFO", "logger": "src.routers.orders", "message": "Capturing PayPal order 4H514032J7975370B", "module": "orders", "function": "capture_paypal_order", "line": 1313}
{"timestamp": "2025-09-03T14:06:37.373805Z", "level": "INFO", "logger": "src.routers.orders", "message": "Successfully captured PayPal order 4H514032J7975370B. Status: COMPLETED", "module": "orders", "function": "capture_paypal_order", "line": 1317}
{"timestamp": "2025-09-03T14:06:37.597744Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 4H514032J7975370B, Item 68a0d95836cf031276300b96: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1370}
{"timestamp": "2025-09-03T14:06:37.803299Z", "level": "WARNING", "logger": "src.routers.orders", "message": "Order 4H514032J7975370B, Item 68b555b4781e7c50e00cd741: Not enough available keys. Marked for AWAITING_STOCK", "module": "orders", "function": "capture_paypal_order", "line": 1370}
{"timestamp": "2025-09-03T14:06:37.803478Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: current_order_status=StatusEnum.AWAITING_STOCK, coupon_code='test11'", "module": "orders", "function": "capture_paypal_order", "line": 1406}
{"timestamp": "2025-09-03T14:06:37.803655Z", "level": "INFO", "logger": "src.routers.orders", "message": "PayPal Capture: Order status is StatusEnum.AWAITING_STOCK - skipping analytics update (only done for completed orders)", "module": "orders", "function": "capture_paypal_order", "line": 1429}
{"timestamp": "2025-09-03T14:06:42.547099Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login attempt with: evya00", "module": "users_collection", "function": "login", "line": 102}
{"timestamp": "2025-09-03T14:06:42.547260Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Attempting to find user by username: evya00", "module": "users_collection", "function": "login", "line": 120}
{"timestamp": "2025-09-03T14:06:42.602986Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "User found, verifying password for user: evya00", "module": "users_collection", "function": "login", "line": 134}
{"timestamp": "2025-09-03T14:06:42.816835Z", "level": "INFO", "logger": "src.mongodb.users_collection", "message": "Login successful for user: evya00", "module": "users_collection", "function": "login", "line": 139}
{"timestamp": "2025-09-03T14:06:51.254044Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:06:51.254203Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:06:51.310629Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:06:51.310777Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:06:51.310961Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:06:51.311165Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:06:51.311346Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:06:51.311515Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:06:51.311665Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:06:51.311850Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:06:51.372212Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:06:51.372422Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:06:51.372541Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:06:51.372644Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:06:51.372751Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:06:51.372853Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:06:51.372951Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:06:51.373090Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='evyatarhypixel1477@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:06:51.707905Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:06:51.819080Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:06:51.819259Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: evyatarhypixel1477@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:06:51.819400Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User evyatarhypixel1477@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 399}
{"timestamp": "2025-09-03T14:06:51.819520Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:06:51.819640Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 411}
{"timestamp": "2025-09-03T14:06:51.876236Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:06:51.876395Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 0/2", "module": "coupon_service", "function": "validate_coupon", "line": 420}
{"timestamp": "2025-09-03T14:06:51.876538Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=11.0, total=4", "module": "coupon_service", "function": "validate_coupon", "line": 431}
{"timestamp": "2025-09-03T14:06:51.876683Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 441}
{"timestamp": "2025-09-03T14:06:51.876847Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=0.44, coupon_code='test11', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 442}
{"timestamp": "2025-09-03T14:06:51.877021Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.44, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:06:51.877154Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:06:51.877277Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=0.44", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:06:56.582346Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'mrbrownaffiliate@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:06:56.582517Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:06:56.638601Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:06:56.638725Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:06:56.638830Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:06:56.638947Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=mrbrownaffiliate@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:06:56.639047Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:06:56.639149Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='mrbrownaffiliate@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:06:56.639245Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:06:56.639384Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:06:56.695080Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:06:56.695323Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:06:56.695476Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:06:56.695580Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:06:56.695684Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:06:56.695782Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:06:56.695874Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:06:56.695979Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: mrbrownaffiliate@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T14:06:56.696078Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User mrbrownaffiliate@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:06:56.696187Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for mrbrownaffiliate@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T14:06:56.696288Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:06:56.696398Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:06:56.696502Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:07:00.744203Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:07:00.744373Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:07:00.800771Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:07:00.800945Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:07:00.801066Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:07:00.801183Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:07:00.801284Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 317}
{"timestamp": "2025-09-03T14:07:00.801401Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='brownmaster555@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 318}
{"timestamp": "2025-09-03T14:07:00.801513Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:07:00.801682Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 327}
{"timestamp": "2025-09-03T14:07:00.857284Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 335}
{"timestamp": "2025-09-03T14:07:00.857528Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 336}
{"timestamp": "2025-09-03T14:07:00.857690Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 337}
{"timestamp": "2025-09-03T14:07:00.857834Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 338}
{"timestamp": "2025-09-03T14:07:00.857984Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 356}
{"timestamp": "2025-09-03T14:07:00.858121Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:07:00.858257Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 375}
{"timestamp": "2025-09-03T14:07:00.858397Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: brownmaster555@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 392}
{"timestamp": "2025-09-03T14:07:00.858534Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User brownmaster555@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 401}
{"timestamp": "2025-09-03T14:07:00.858685Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for brownmaster555@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 406}
{"timestamp": "2025-09-03T14:07:00.858823Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:07:00.858934Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:07:00.859036Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:08:57.788605Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:08:57.788779Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:08:57.803433Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:08:57.803633Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:08:57.844524Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:08:57.844759Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:08:57.860017Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:08:57.860208Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:08:57.867713Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:08:57.867891Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:08:57.924619Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:08:57.924796Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:09:00.286695Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:00.286991Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:00.342927Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:00.343220Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:00.343378Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:00.373593Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:00.373798Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:00.391125Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:00.391356Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:00.424738Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:00.424920Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:00.425102Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:00.441956Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:00.442172Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:00.442328Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:03.502700Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:03.502893Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:03.502950Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:03.503138Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:03.503181Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:03.503382Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:03.582333Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:03.582554Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:03.582765Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:04.200340Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:09:04.213286Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:09:04.373246Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:09:15.981983Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:09:15.982209Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:09:16.027998Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:09:16.028488Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:09:16.047074Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:09:16.047334Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:09:16.094987Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:09:16.095302Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:09:16.132586Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:09:16.132777Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:09:16.196735Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:09:16.196930Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:09:18.588603Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:18.588811Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:18.605659Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:18.605853Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:18.641191Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:18.641416Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:18.641570Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:18.659563Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:18.659757Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:18.659887Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:18.688540Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:09:18.688748Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:09:18.739197Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:09:18.739406Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:09:18.739552Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:09:19.281184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:19.281357Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:19.281563Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:19.310646Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:19.310855Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:19.311154Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:19.397943Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:09:19.398208Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:09:19.398462Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:09:19.999420Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:09:20.032362Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:09:20.058510Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:10:57.405388Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:10:57.405547Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:10:57.462164Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:10:57.462326Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:10:57.498028Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:10:57.498128Z", "level": "INFO", "logger": "main", "message": "Starting application shutdown...", "module": "main", "function": "shutdown_event", "line": 230}
{"timestamp": "2025-09-03T14:10:57.498223Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:10:57.498300Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Cleaning up database connections...", "module": "database_manager", "function": "cleanup_database", "line": 347}
{"timestamp": "2025-09-03T14:10:57.555077Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:10:57.555240Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:10:57.561503Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database cleanup completed", "module": "database_manager", "function": "cleanup_database", "line": 349}
{"timestamp": "2025-09-03T14:10:57.561676Z", "level": "INFO", "logger": "main", "message": "Application shutdown completed", "module": "main", "function": "shutdown_event", "line": 232}
{"timestamp": "2025-09-03T14:10:59.480148Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:10:59.480343Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:10:59.544506Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:10:59.544730Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:10:59.544929Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:10:59.888208Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:10:59.888404Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:10:59.914178Z", "level": "INFO", "logger": "root", "message": "Logging configured successfully", "module": "logging_config", "function": "setup_logging", "line": 162}
{"timestamp": "2025-09-03T14:10:59.914386Z", "level": "INFO", "logger": "main", "message": "Starting MonkeyZ API application...", "module": "main", "function": "<module>", "line": 36}
{"timestamp": "2025-09-03T14:10:59.938221Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:10:59.938464Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:10:59.938626Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:10:59.965045Z", "level": "INFO", "logger": "src.middleware.security_middleware", "message": "Security middleware initialized (development: True)", "module": "security_middleware", "function": "__init__", "line": 110}
{"timestamp": "2025-09-03T14:10:59.965254Z", "level": "INFO", "logger": "main", "message": "Starting application initialization...", "module": "main", "function": "startup_event", "line": 212}
{"timestamp": "2025-09-03T14:10:59.965391Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Initializing database connection...", "module": "database_manager", "function": "initialize_database", "line": 337}
{"timestamp": "2025-09-03T14:11:00.523041Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:11:00.523184Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:11:00.523357Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:11:00.581428Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:11:00.581651Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:11:00.581876Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:11:00.642666Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database connection established successfully", "module": "database_manager", "function": "connect", "line": 177}
{"timestamp": "2025-09-03T14:11:00.642859Z", "level": "INFO", "logger": "src.lib.database_manager", "message": "Database initialization completed successfully", "module": "database_manager", "function": "initialize_database", "line": 340}
{"timestamp": "2025-09-03T14:11:00.643109Z", "level": "INFO", "logger": "main", "message": "Application initialization completed successfully", "module": "main", "function": "startup_event", "line": 225}
{"timestamp": "2025-09-03T14:11:01.192334Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:11:01.261835Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:11:01.351269Z", "level": "INFO", "logger": "root", "message": "Successfully initialized 3 database collections with Beanie ODM", "module": "user_controller", "function": "initialize", "line": 62}
{"timestamp": "2025-09-03T14:11:09.855995Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'email': 'newuser@example.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:11:09.856228Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=newuser@example.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:11:09.915747Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:11:09.915890Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:11:09.916041Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:11:09.916208Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=100, email=newuser@example.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:11:09.916356Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:11:09.916510Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=100, email='newuser@example.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:11:09.916671Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:11:09.916862Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:11:09.972717Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:11:09.973115Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:11:09.973300Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:11:09.973461Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:11:09.973633Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:11:09.973777Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:11:09.973981Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:11:09.974157Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='newuser@example.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:11:10.307961Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:11:10.418576Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:11:10.418782Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: newuser@example.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:11:10.418945Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User newuser@example.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:11:10.419091Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User newuser@example.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:11:10.419218Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:11:10.419343Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 2", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:11:10.475282Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:11:10.475444Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:11:10.475621Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 2 (stored: 2, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:11:10.475798Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:11:10.475986Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Overall usage limit exceeded for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 450}
{"timestamp": "2025-09-03T14:11:10.476204Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='This coupon has reached its maximum usage limit (2/2). Please try a different coupon.'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:11:10.476411Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: This coupon has reached its maximum usage limit (2/2). Please try a different coupon.", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:11:12.532446Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'email': 'anothernewuser@example.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:11:12.532689Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=100, email=anothernewuser@example.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:11:12.588623Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:11:12.588780Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:11:12.588931Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:11:12.589090Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=100, email=anothernewuser@example.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:11:12.589220Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:11:12.589369Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=100, email='anothernewuser@example.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:11:12.589522Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:11:12.589695Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:11:12.645542Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:11:12.645880Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:11:12.646041Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:11:12.646201Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:11:12.646365Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:11:12.646526Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:11:12.646677Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:11:12.646867Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='anothernewuser@example.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:11:12.978368Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:11:13.090171Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:11:13.090386Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: anothernewuser@example.com has NOT used 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:11:13.090591Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User anothernewuser@example.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:11:13.090791Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User anothernewuser@example.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:11:13.091003Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:11:13.091218Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 1", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:11:13.147639Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:11:13.147904Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:11:13.148070Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 1 (stored: 1, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:11:13.148212Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:11:13.148389Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Overall usage check: 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 453}
{"timestamp": "2025-09-03T14:11:13.148533Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 461}
{"timestamp": "2025-09-03T14:11:13.148691Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 471}
{"timestamp": "2025-09-03T14:11:13.148864Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=60.0, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 472}
{"timestamp": "2025-09-03T14:11:13.149029Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=60.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:11:13.149182Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:11:13.149326Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=60.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:11:56.221565Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'email': 'statecheck@example.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:11:56.221740Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:11:56.277456Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:11:56.277689Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:11:56.277872Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:11:56.278028Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:11:56.278212Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:11:56.278397Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=100, email='statecheck@example.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:11:56.278582Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:11:56.278804Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:11:56.333925Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:11:56.334276Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:11:56.334429Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:11:56.334572Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:11:56.334705Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:11:56.334828Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:11:56.334946Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:11:56.335108Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='statecheck@example.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:11:56.667721Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:11:56.777629Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:11:56.777833Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: statecheck@example.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:11:56.777988Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User statecheck@example.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:11:56.778131Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User statecheck@example.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:11:56.778258Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:11:56.778380Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 2", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:11:56.834299Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:11:56.834548Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:11:56.834763Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 2 (stored: 2, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:11:56.834975Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:11:56.835189Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Overall usage limit exceeded for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 450}
{"timestamp": "2025-09-03T14:11:56.835456Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='This coupon has reached its maximum usage limit (2/2). Please try a different coupon.'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:11:56.835696Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: This coupon has reached its maximum usage limit (2/2). Please try a different coupon.", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:11:58.890088Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test60', 'email': 'statecheck@example.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:11:58.890280Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test60, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:11:58.946275Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:11:58.946465Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:11:58.946629Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:11:58.946820Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test60, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:11:58.946954Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:11:58.947098Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test60', total=100, email='statecheck@example.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:11:58.947235Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:11:58.947394Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test60' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:11:59.003159Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test60 (ID: 68b843cabca9a42d16a1fdfc)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:11:59.003496Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b843cabca9a42d16a1fdfc'), 'code': 'test60', 'discountType': 'percentage', 'discountValue': 60.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 1, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 34, 2, 254000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 1, 'completed': 0, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:11:59.003687Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:11:59.003855Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=60.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:11:59.004005Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:11:59.004133Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:11:59.004260Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:11:59.004423Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='statecheck@example.com', coupon='test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:11:59.334687Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:11:59.444740Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:11:59.444909Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: statecheck@example.com has NOT used 'test60'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:11:59.445063Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User statecheck@example.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:11:59.445211Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User statecheck@example.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:11:59.445366Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:11:59.445520Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 1", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:11:59.501187Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test60': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:11:59.501396Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:11:59.501558Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 1 (stored: 1, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:11:59.501709Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test60': 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:11:59.501865Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Overall usage check: 1/2", "module": "coupon_service", "function": "validate_coupon", "line": 453}
{"timestamp": "2025-09-03T14:11:59.502007Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Calculating discount: type=percentage, value=60.0, total=100", "module": "coupon_service", "function": "validate_coupon", "line": 461}
{"timestamp": "2025-09-03T14:11:59.502140Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON SUCCESS ===", "module": "coupon_service", "function": "validate_coupon", "line": 471}
{"timestamp": "2025-09-03T14:11:59.502276Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Returning: discount=60.0, coupon_code='test60', error=None", "module": "coupon_service", "function": "validate_coupon", "line": 472}
{"timestamp": "2025-09-03T14:11:59.502415Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=60.0, coupon=True, error='None'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:11:59.502547Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf Coupon details: maxUsagePerUser=1, maxUses=2", "module": "orders", "function": "validate_coupon_public", "line": 317}
{"timestamp": "2025-09-03T14:11:59.502673Z", "level": "INFO", "logger": "src.routers.orders", "message": "\u2705 Coupon validation SUCCESSFUL: discount=60.0", "module": "orders", "function": "validate_coupon_public", "line": 337}
{"timestamp": "2025-09-03T14:12:01.579196Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test12', 'email': 'statecheck@example.com', 'amount': 100}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:12:01.580165Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test12, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:12:01.636455Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:12:01.636676Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:12:01.636876Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:12:01.637079Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test12, amount=100, email=statecheck@example.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:12:01.637251Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:12:01.637422Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test12', total=100, email='statecheck@example.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:12:01.637662Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:12:01.637848Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test12' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:12:01.693157Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "Coupon not found: 'test12'", "module": "coupon_service", "function": "validate_coupon", "line": 347}
{"timestamp": "2025-09-03T14:12:01.693431Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='Coupon code 'test12' not found or not active.'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:12:01.693666Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: Coupon code 'test12' not found or not active.", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:12:51.607537Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'brownmaster555@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:12:51.607681Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:12:51.664637Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:12:51.664772Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:12:51.664914Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:12:51.665160Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=brownmaster555@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:12:51.665305Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:12:51.665519Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='brownmaster555@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:12:51.665646Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:12:51.665808Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:12:51.722380Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:12:51.722648Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:12:51.722794Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:12:51.722925Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:12:51.723053Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:12:51.723158Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:12:51.723276Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:12:51.723453Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 COUPON userUsages CHECK: brownmaster555@gmail.com has used 'test11' 1 times", "module": "coupon_service", "function": "validate_coupon", "line": 407}
{"timestamp": "2025-09-03T14:12:51.723579Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User brownmaster555@gmail.com usage: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:12:51.723701Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Per-user limit exceeded for brownmaster555@gmail.com: 1/1", "module": "coupon_service", "function": "validate_coupon", "line": 421}
{"timestamp": "2025-09-03T14:12:51.723814Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 RETURNING ERROR: You have reached the usage limit for this coupon (1/1).", "module": "coupon_service", "function": "validate_coupon", "line": 422}
{"timestamp": "2025-09-03T14:12:51.723932Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='You have reached the usage limit for this coupon (1/1).'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:12:51.724112Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: You have reached the usage limit for this coupon (1/1).", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:12:57.206010Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:12:57.206205Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:12:57.263729Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:12:57.263891Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:12:57.264042Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:12:57.264195Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:12:57.264325Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:12:57.264457Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:12:57.264593Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:12:57.264764Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:12:57.322599Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:12:57.322846Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:12:57.323003Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:12:57.323221Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:12:57.323369Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:12:57.323502Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:12:57.323632Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:12:57.323809Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='evyatarhypixel1477@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:12:57.665741Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:12:57.779569Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:12:57.779784Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: evyatarhypixel1477@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:12:57.779997Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User evyatarhypixel1477@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:12:57.780194Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:12:57.780381Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:12:57.780576Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 2", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:12:57.838154Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:12:57.838372Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:12:57.838574Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 2 (stored: 2, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:12:57.838766Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:12:57.838970Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Overall usage limit exceeded for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 450}
{"timestamp": "2025-09-03T14:12:57.839185Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='This coupon has reached its maximum usage limit (2/2). Please try a different coupon.'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:12:57.839395Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: This coupon has reached its maximum usage limit (2/2). Please try a different coupon.", "module": "orders", "function": "validate_coupon_public", "line": 329}
{"timestamp": "2025-09-03T14:12:59.023888Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupon validation request: {'code': 'test11', 'amount': 4, 'email': 'evyatarhypixel1477@gmail.com'}", "module": "orders", "function": "validate_coupon_public", "line": 257}
{"timestamp": "2025-09-03T14:12:59.024179Z", "level": "INFO", "logger": "src.routers.orders", "message": "Attempting to validate coupon: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 272}
{"timestamp": "2025-09-03T14:12:59.082113Z", "level": "INFO", "logger": "src.routers.orders", "message": "Coupons in 'admin' database: 2", "module": "orders", "function": "validate_coupon_public", "line": 288}
{"timestamp": "2025-09-03T14:12:59.082323Z", "level": "INFO", "logger": "src.routers.orders", "message": "Using 'admin' database as it contains coupons", "module": "orders", "function": "validate_coupon_public", "line": 291}
{"timestamp": "2025-09-03T14:12:59.082503Z", "level": "INFO", "logger": "src.routers.orders", "message": "CouponService initialized with main database for order counting", "module": "orders", "function": "validate_coupon_public", "line": 299}
{"timestamp": "2025-09-03T14:12:59.082667Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf CALLING validate_coupon with: code=test11, amount=4, email=evyatarhypixel1477@gmail.com", "module": "orders", "function": "validate_coupon_public", "line": 311}
{"timestamp": "2025-09-03T14:12:59.082793Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "=== VALIDATE_COUPON START ===", "module": "coupon_service", "function": "validate_coupon", "line": 332}
{"timestamp": "2025-09-03T14:12:59.082942Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Input: code='test11', total=4, email='evyatarhypixel1477@gmail.com'", "module": "coupon_service", "function": "validate_coupon", "line": 333}
{"timestamp": "2025-09-03T14:12:59.083092Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Accessing admin database through client for coupons", "module": "coupon_service", "function": "_get_coupons_collection", "line": 25}
{"timestamp": "2025-09-03T14:12:59.083256Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Searching for coupon with code: 'test11' (case-insensitive)", "module": "coupon_service", "function": "validate_coupon", "line": 342}
{"timestamp": "2025-09-03T14:12:59.140821Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Found coupon: test11 (ID: 68b8422b415fbe74155980ca)", "module": "coupon_service", "function": "validate_coupon", "line": 350}
{"timestamp": "2025-09-03T14:12:59.141106Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d RAW Coupon data: {'_id': ObjectId('68b8422b415fbe74155980ca'), 'code': 'test11', 'discountType': 'percentage', 'discountValue': 11.0, 'discountPercent': None, 'active': True, 'expiresAt': None, 'maxUses': 2, 'usageCount': 2, 'maxUsagePerUser': 1, 'createdAt': datetime.datetime(2025, 9, 3, 13, 27, 7, 103000, tzinfo=FixedOffset(datetime.timedelta(0), 'UTC')), 'usageAnalytics': {'total_orders': 2, 'completed': 1, 'cancelled': 0, 'pending': 0, 'processing': 0, 'awaiting_stock': 1, 'failed': 0}, 'userUsages': {'mrbrownaffiliate@gmail.com': 1, 'brownmaster555@gmail.com': 1}}", "module": "coupon_service", "function": "validate_coupon", "line": 351}
{"timestamp": "2025-09-03T14:12:59.141311Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Coupon fields: active=True, maxUses=2, maxUsagePerUser=1", "module": "coupon_service", "function": "validate_coupon", "line": 352}
{"timestamp": "2025-09-03T14:12:59.141469Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Discount: type=percentage, value=11.0", "module": "coupon_service", "function": "validate_coupon", "line": 353}
{"timestamp": "2025-09-03T14:12:59.141620Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d Per-user limit check: maxUsagePerUser=1 (type: <class 'int'>)", "module": "coupon_service", "function": "validate_coupon", "line": 371}
{"timestamp": "2025-09-03T14:12:59.141755Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d EFFECTIVE per-user limit: 1", "module": "coupon_service", "function": "validate_coupon", "line": 386}
{"timestamp": "2025-09-03T14:12:59.141891Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ufffd ENFORCING per-user limit of 1", "module": "coupon_service", "function": "validate_coupon", "line": 390}
{"timestamp": "2025-09-03T14:12:59.142085Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d ULTRA-RELIABLE USER COUNT: email='evyatarhypixel1477@gmail.com', coupon='test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 79}
{"timestamp": "2025-09-03T14:12:59.501411Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "   \ud83d\udd04 No exact matches, trying case-insensitive regex...", "module": "coupon_service", "function": "get_user_usage_count", "line": 135}
{"timestamp": "2025-09-03T14:12:59.615382Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 TOTAL UNIQUE ORDERS FOUND: 0", "module": "coupon_service", "function": "get_user_usage_count", "line": 159}
{"timestamp": "2025-09-03T14:12:59.615538Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 USER CLEAN: evyatarhypixel1477@gmail.com has NOT used 'test11'", "module": "coupon_service", "function": "get_user_usage_count", "line": 173}
{"timestamp": "2025-09-03T14:12:59.615678Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE QUERY: User evyatarhypixel1477@gmail.com usage: 0", "module": "coupon_service", "function": "validate_coupon", "line": 414}
{"timestamp": "2025-09-03T14:12:59.615792Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf CRITICAL CHECK: User evyatarhypixel1477@gmail.com usage: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 416}
{"timestamp": "2025-09-03T14:12:59.615892Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\u2705 PASSED: Per-user limit check: 0/1", "module": "coupon_service", "function": "validate_coupon", "line": 426}
{"timestamp": "2025-09-03T14:12:59.615994Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d STORED usage count: 2", "module": "coupon_service", "function": "validate_coupon", "line": 436}
{"timestamp": "2025-09-03T14:12:59.674283Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "Real usage count for coupon 'test11': 0 orders found", "module": "coupon_service", "function": "get_real_usage_count", "line": 64}
{"timestamp": "2025-09-03T14:12:59.674525Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83d\udd0d DATABASE usage count: 0", "module": "coupon_service", "function": "validate_coupon", "line": 440}
{"timestamp": "2025-09-03T14:12:59.674725Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "\ud83c\udfaf FINAL USAGE COUNT: 2 (stored: 2, db: 0)", "module": "coupon_service", "function": "validate_coupon", "line": 444}
{"timestamp": "2025-09-03T14:12:59.675040Z", "level": "INFO", "logger": "src.services.coupon_service", "message": "VALIDATE_COUPON: Max usage check for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 446}
{"timestamp": "2025-09-03T14:12:59.675227Z", "level": "WARNING", "logger": "src.services.coupon_service", "message": "\ud83d\udea8 BLOCKED: Overall usage limit exceeded for 'test11': 2/2", "module": "coupon_service", "function": "validate_coupon", "line": 450}
{"timestamp": "2025-09-03T14:12:59.675432Z", "level": "INFO", "logger": "src.routers.orders", "message": "\ud83c\udfaf validate_coupon returned: discount=0.0, coupon=False, error='This coupon has reached its maximum usage limit (2/2). Please try a different coupon.'", "module": "orders", "function": "validate_coupon_public", "line": 313}
{"timestamp": "2025-09-03T14:12:59.675622Z", "level": "WARNING", "logger": "src.routers.orders", "message": "\ud83d\udea8 Coupon validation FAILED: This coupon has reached its maximum usage limit (2/2). Please try a different coupon.", "module": "orders", "function": "validate_coupon_public", "line": 329}
